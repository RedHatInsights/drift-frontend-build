"use strict";(self.webpackChunkdrift_frontend=self.webpackChunkdrift_frontend||[]).push([[215],{46215:(e,t,a)=>{a.r(t),a.d(t,{EditBaselinePage:()=>Ne,default:()=>De});var n=a(15861),i=a(15671),o=a(43144),r=a(97326),l=a(60136),s=a(6215),c=a(61120),u=a(41609),d=a.n(u),f=a(87757),p=a.n(f),m=a(25558),y=a.n(m),h=a(45697),b=a.n(h),v=a(86235),g=a(44745),E=a(60202),S=a(95995),B=a(93568),k=a(34168),N=a(60001);var D=function(e){(0,l.Z)(f,e);var t,a,u,d=(a=f,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,c.Z)(a);if(u){var n=(0,c.Z)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,s.Z)(this,e)});function f(e){var t;return(0,i.Z)(this,f),(t=d.call(this,e)).cancelModal=function(){var e=t.props,a=e.toggleEditNameModal,n=e.baselineData;t.updateBaselineName(n.display_name),a()},t.checkKeyPress=function(e){"Enter"===e.key&&(e.preventDefault(),t.confirmModal())},t.state={baselineName:t.props.baselineData.display_name},t.updateBaselineName=function(e){t.setState({baselineName:e})},t.confirmModal=t.confirmModal.bind((0,r.Z)(t)),t}return(0,o.Z)(f,[{key:"confirmModal",value:(t=(0,n.Z)(p().mark((function e(){var t,a,n,i,o;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.baselineName,a=this.props,n=a.baselineData,i=a.patchBaseline,o=a.toggleEditNameModal,e.prev=2,e.next=5,i(n.id,{display_name:t,facts_patch:[]});case 5:o(),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(){return t.apply(this,arguments)})},{key:"renderModalBody",value:function(){var e=this.state.baselineName,t=this.props.error,a=Object.prototype.hasOwnProperty.call(t,"status")?S.ValidatedOptions.error:null;return y().createElement("div",{className:"fact-value"},y().createElement(S.Form,null,y().createElement(S.FormGroup,{label:"Baseline title",isRequired:!0,fieldId:"baseline name",helperTextInvalid:Object.prototype.hasOwnProperty.call(t,"detail")?t.detail:null,validated:a,onKeyPress:this.checkKeyPress},y().createElement(S.TextInput,{value:e,type:"text",onChange:this.updateBaselineName,validated:a,"aria-label":"baseline name"}))))}},{key:"render",value:function(){var e=this.props.modalOpened;return y().createElement(S.Modal,{className:"drift",variant:S.ModalVariant.small,title:"Edit name",isOpen:e,onClose:this.cancelModal,actions:[y().createElement(S.Button,{key:"confirm",variant:"primary",ouiaId:"save",onClick:this.confirmModal},"Save"),y().createElement(S.Button,{key:"cancel",variant:"link",ouiaId:"cancel",onClick:this.cancelModal},"Cancel")]},this.renderModalBody())}}]),f}(m.Component);D.propTypes={baselineData:b().object,toggleEditNameModal:b().func,modalOpened:b().bool,patchBaseline:b().func,error:b().object};const C=(0,g.connect)(null,(function(e){return{patchBaseline:function(t,a){return e(N.E.patchBaseline(t,a))}}}))(D);var O=a(2877),T=a(57211);const I=function(e){var t=0,a=0;return e.forEach((function(e){e.selected?T.Z.isCategory(e)?t+=1:a+=1:T.Z.isCategory(e)&&T.Z.baselineSubFacts(e).forEach((function(e){e.selected&&(a+=1)}))})),{categories:t,facts:a}};var w=function(e){(0,l.Z)(r,e);var t,a,n=(t=r,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,c.Z)(t);if(a){var i=(0,c.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,s.Z)(this,e)});function r(e){var t;return(0,i.Z)(this,r),(t=n.call(this,e)).isDisabled=function(){var e=t.props.editBaselineTableData,a=!0;return e.forEach((function(e){e.selected&&(a=!1),T.Z.isCategory(e)&&T.Z.baselineSubFacts(e).forEach((function(e){e.selected&&(a=!1)}))})),a},t.state={kebabOpened:!1,modalOpened:!1},t.toggleKebab=function(){var e=t.state.kebabOpened;t.setState({kebabOpened:!e})},t.toggleModalOpened=function(){var e=t.state.modalOpened;t.setState({modalOpened:!e,kebabOpened:!1})},t}return(0,o.Z)(r,[{key:"render",value:function(){var e,t,a,n=this.state,i=n.kebabOpened,o=n.modalOpened,r=this.props.editBaselineTableData,l=I(r),s=l.categories,c=l.facts;return s>0&&(t=1===s?"1 category":s+" categories"),c>0&&(a=1===c?"1 fact":c+" facts"),e=[y().createElement(S.DropdownItem,{key:"multi-delete",component:"button","data-ouia-component-id":"delete-facts-dropdown-item",onClick:this.toggleModalOpened,isDisabled:!(r.length>0)||this.isDisabled()},"Delete facts")],y().createElement(y().Fragment,null,o?y().createElement(O.Z,{toggleModal:this.toggleModalOpened.bind(this),modalOpened:o,categoryMessage:t,factMessage:a}):null,y().createElement(S.Dropdown,{style:{float:"left"},toggle:y().createElement(S.KebabToggle,{"data-ouia-component-id":"delete-facts-dropdown-toggle","data-ouia-component-type":"PF4/DropdownToggle",onToggle:this.toggleKebab}),isOpen:i,dropdownItems:e,isPlain:!0,ouiaId:"delete-facts-dropdown"}))}}]),r}(m.Component);w.propTypes={editBaselineTableData:b().array};const F=(0,g.connect)((function(e){return{editBaselineTableData:e.editBaselineState.editBaselineTableData}}),null)(w);var Z=function(e){(0,l.Z)(r,e);var t,a,n=(t=r,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,c.Z)(t);if(a){var i=(0,c.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,s.Z)(this,e)});function r(e){var t;return(0,i.Z)(this,r),(t=n.call(this,e)).handleAddFact=function(){var e=t.props,a=e.setFactData,n=e.toggleFactModal;a({factName:"",factValue:"",fact:[]}),n()},t}return(0,o.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.editBaselineEmptyState,a=e.isDisabled,n=e.permissions;return y().createElement(y().Fragment,null,n.baselinesWrite||void 0===n.baselinesWrite?y().createElement(S.Button,{variant:"primary",isDisabled:a,onClick:this.handleAddFact,ouiaId:"add-fact-or-category-button"},"Add fact or category"):y().createElement(S.Tooltip,{content:y().createElement("div",null,"You do not have permissions to perform this action")},y().createElement("div",{className:t?"tooltip-button-margin":null},y().createElement(S.Button,{variant:"primary",isDisabled:!0,onClick:this.handleAddFact,ouiaId:"add-fact-or-category-button"},"Add fact or category"))))}}]),r}(m.Component);Z.propTypes={toggleFactModal:b().func,setFactData:b().func,isDisabled:b().bool,permissions:b().object,editBaselineEmptyState:b().bool};const x=(0,g.connect)(null,(function(e){return{toggleFactModal:function(){return e(N.E.toggleFactModal())},setFactData:function(t){return e(N.E.setFactData(t))}}}))(Z);var M=a(14307),R=a(74381);var P=function(e){(0,l.Z)(r,e);var t,a,n=(t=r,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,c.Z)(t);if(a){var i=(0,c.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,s.Z)(this,e)});function r(e){var t;return(0,i.Z)(this,r),(t=n.call(this,e)).onToggle=function(){var e=t.state.dropdownOpen;t.setState({dropdownOpen:!e})},t.state={bulkSelectItems:[{title:"Select all",key:"select-all",onClick:function(){return t.props.onBulkSelect(!0)}},{title:"Select none",key:"select-none",onClick:function(){return t.props.onBulkSelect(!1)}}],dropdownOpen:!1,dropdownItems:[y().createElement(S.DropdownItem,{key:"export-to-CSV",component:"button",ouiaId:"edit-baseline-export-to-csv",onClick:function(){return t.props.exportToCSV(t.props.tableData,t.props.baselineData)}},"Export to CSV"),y().createElement(S.DropdownItem,{key:"export-to-JSON",component:"button",ouiaId:"edit-baseline-export-to-json",onClick:function(){return t.props.exportToJSON(t.props.tableData)}},"Export to JSON")]},t}return(0,o.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.isDisabled,a=e.onBulkSelect,n=e.permissions,i=e.selected,o=e.totalFacts,r=this.state,l=r.bulkSelectItems,s=r.dropdownItems,c=r.dropdownOpen;return y().createElement(S.Toolbar,{className:"drift-toolbar"},y().createElement(S.ToolbarContent,null,y().createElement(S.ToolbarItem,null,y().createElement(E.BulkSelect,{count:i>0?i:null,items:l,checked:M.Z.findCheckedValue(o,i),onSelect:function(){return a(!i>0)},isDisabled:t,ouiaId:"edit-baseline-bulk-selector-dropdown"})),y().createElement(S.ToolbarItem,null,y().createElement(x,{isDisabled:t,permissions:n})),y().createElement(S.ToolbarGroup,{variant:"icon-button-group"},y().createElement(S.ToolbarItem,null,y().createElement(R.Z,{dropdownItems:s,isOpen:c,onToggle:this.onToggle,ouiaId:"edit-baseline-export-dropdown"})),y().createElement(S.ToolbarItem,null,y().createElement(F,null)))))}}]),r}(m.Component);P.propTypes={isDisabled:b().bool,onBulkSelect:b().func,selected:b().any,totalFacts:b().number,exportToCSV:b().func,exportToJSON:b().func,tableData:b().array,baselineData:b().object,permissions:b().object};const V=P;var A=a(23419);var _=function(e){(0,l.Z)(f,e);var t,a,u,d=(a=f,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,c.Z)(a);if(u){var n=(0,c.Z)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,s.Z)(this,e)});function f(e){var t;return(0,i.Z)(this,f),(t=d.call(this,e)).checkKeyPress=function(e){"Enter"===e.key&&(e.preventDefault(),t.confirmModal())},t.cancelFact=t.cancelFact.bind((0,r.Z)(t)),t.confirmModal=t.confirmModal.bind((0,r.Z)(t)),t.renderCategoryCheckbox=t.renderCategoryCheckbox.bind((0,r.Z)(t)),t.renderFactInput=t.renderFactInput.bind((0,r.Z)(t)),t.renderValueInput=t.renderValueInput.bind((0,r.Z)(t)),t.renderModalBody=t.renderModalBody.bind((0,r.Z)(t)),t.state={factName:t.props.factName,factValue:t.props.factValue,factData:t.props.factData,isCategory:t.props.isCategory},t.state.isAddFact=""===t.props.factName&&""===t.props.factValue,t.state.isEditFact=""!==t.props.factName&&""!==t.props.factValue,t.handleChange=function(e){t.setState({isCategory:e})},t.handleNewName=function(e){t.setState({factName:e})},t.handleNewValue=function(e){t.setState({factValue:e})},t}return(0,o.Z)(f,[{key:"cancelFact",value:function(){(0,this.props.toggleFactModal)()}},{key:"confirmModal",value:(t=(0,n.Z)(p().mark((function e(){var t,a,n,i,o,r,l;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.toggleFactModal,n=t.baselineData,i=t.patchBaseline,o=t.fetchBaselineData,r=this.state.isAddFact,"",e.prev=3,l=r?this.addFact(n):this.editFact(n),e.next=7,i(n.id,l);case 7:e.sent&&o(n.id),a(),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(3);case 14:case"end":return e.stop()}}),e,this,[[3,12]])}))),function(){return t.apply(this,arguments)})},{key:"addFact",value:function(e){var t=this.state,a=t.isCategory,n=t.factName,i=t.factValue,o=t.factData,r=T.Z.buildNewFactData(a,n,i,o);return T.Z.makeAddFactPatch(r,e)}},{key:"editFact",value:function(e){var t=this.state,a=t.isCategory,n=t.factName,i=t.factValue,o=t.factData,r=T.Z.buildEditedFactData(a,this.props.factName,n,this.props.factValue,i,o);return T.Z.makeEditFactPatch(r,e,o)}},{key:"renderCategoryCheckbox",value:function(){var e=this.state,t=e.isCategory,a=e.isEditFact;return y().createElement(S.Checkbox,{"data-ouia-component-type":"PF4/Checkbox","data-ouia-component-id":"category-checkbox",className:"sm-padding-bottom","aria-label":"controlled checkbox example",label:"This is a category",id:"isCategory",name:"isCategory",onChange:this.handleChange,isChecked:t,isDisabled:t&&a})}},{key:"renderFactInput",value:function(){var e=this.props.inlineError,t=this.state,a=t.factName,n=t.isCategory;return y().createElement("div",{className:"fact-value"},y().createElement(S.FormGroup,{label:n?"Category name":"Fact name",isRequired:!0,helperTextInvalid:Object.prototype.hasOwnProperty.call(e,"detail")?e.detail:null,validated:Object.prototype.hasOwnProperty.call(e,"status")?"error":null,fieldId:"fact name",onKeyPress:this.checkKeyPress},y().createElement(S.TextInput,{"data-ouia-component-type":"PF4/TextInput","data-ouia-component-id":"fact-name-input",value:a,type:"text",placeholder:"Name",onChange:this.handleNewName,validated:Object.prototype.hasOwnProperty.call(e,"status")?S.ValidatedOptions.error:null,"aria-label":"fact name"})))}},{key:"renderValueInput",value:function(){var e=this.props.inlineError,t=this.state.factValue;return y().createElement("div",{className:"fact-value"},y().createElement(S.FormGroup,{label:"Value",isRequired:!0,helperTextInvalid:Object.prototype.hasOwnProperty.call(e,"detail")?e.detail:null,validated:Object.prototype.hasOwnProperty.call(e,"status")?"error":null,fieldId:"fact value",onKeyPress:this.checkKeyPress},y().createElement(S.TextInput,{"data-ouia-component-type":"PF4/TextInput","data-ouia-component-id":"value-input",value:t,type:"text",placeholder:"Value",onChange:this.handleNewValue,validated:Object.prototype.hasOwnProperty.call(e,"status")?S.ValidatedOptions.error:null,"aria-label":"value"})))}},{key:"renderModalBody",value:function(){var e=this.props.isSubFact,t=this.state,a=t.isAddFact,n=t.isCategory;return y().createElement(y().Fragment,null,a&&!e||n?this.renderCategoryCheckbox():null,y().createElement(S.Form,null,this.renderFactInput(),n?null:this.renderValueInput()))}},{key:"title",value:function(){var e=this.props.isSubFact,t=this.state,a=t.isAddFact,n=t.isEditFact,i=t.isCategory,o="Add fact";return!0!==n||i||e?!0===a&&!0===i?o="Add category":!0===a&&!0===e?o="Add sub fact":!0===n&&!0===e?o="Edit sub fact":!0===i&&(o="Edit category"):o="Edit fact",o}},{key:"render",value:function(){var e=this.props.factModalOpened;return y().createElement(S.Modal,{className:"drift",ouiaId:"add-fact-modal",variant:S.ModalVariant.small,title:this.title(),isOpen:e,onClose:this.cancelFact,actions:[y().createElement(S.Button,{key:"confirm",variant:"primary",ouiaId:"fact-modal-save-button",onClick:this.confirmModal},"Save"),y().createElement(S.Button,{key:"cancel",variant:"link",ouiaId:"fact-modal-cancel-button",onClick:this.cancelFact},"Cancel")]},this.renderModalBody())}}]),f}(m.Component);_.propTypes={toggleFactModal:b().func,factModalOpened:b().bool,factName:b().string,factValue:b().string,factData:b().object,isCategory:b().bool,isSubFact:b().bool,baselineData:b().object,patchBaseline:b().func,fetchBaselineData:b().func,inlineError:b().object};const j=(0,g.connect)((function(e){return{factModalOpened:e.editBaselineState.factModalOpened,factName:e.editBaselineState.factName,factValue:e.editBaselineState.factValue,factData:e.editBaselineState.factData,isCategory:e.editBaselineState.isCategory,isSubFact:e.editBaselineState.isSubFact,baselineData:e.editBaselineState.baselineData,inlineError:e.editBaselineState.inlineError}}),(function(e){return{toggleFactModal:function(){return e(N.E.toggleFactModal())},patchBaseline:function(t,a){return e(N.E.patchBaseline(t,a))},fetchBaselineData:function(t){return e(N.E.fetchBaselineData(t))}}}))(_);var L=a(72971),H=a(42325);var K=function(e){(0,l.Z)(r,e);var t,a,n=(t=r,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,c.Z)(t);if(a){var i=(0,c.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,s.Z)(this,e)});function r(e){var t;return(0,i.Z)(this,r),(t=n.call(this,e)).retryBaselineFetch=function(){(0,t.props.clearErrorData)(),t.fetchBaselineId()},t.onSelect=function(e,a){var n,i=t.props,o=i.editBaselineTableData,r=i.selectFact,l=[],s=Number(a.target.name);o.forEach((function(e){e[L.ki]===s?n=e:T.Z.isCategory(e)&&T.Z.baselineSubFacts(e).forEach((function(e){e[L.ki]===s&&(n=e)}))})),l=[n[0]],T.Z.isCategory(n)&&T.Z.baselineSubFacts(n).forEach((function(e){l.push(e[L.ki])})),r(l,e)},t.onBulkSelect=function(e){var a=t.props,n=a.editBaselineTableData,i=a.selectFact,o=[];n.forEach((function(e){o.push(e[L.ki]),T.Z.isCategory(e)&&T.Z.baselineSubFacts(e).forEach((function(e){o.push(e[L.ki])}))})),i(o,e)},t.renderCheckbox=function(e){var a;return T.Z.isCategory(e)?a="category-"+e[L.ki]:"string"==typeof e[L.fO]&&(a="fact-"+e[L.ki]),y().createElement(S.Checkbox,{"data-ouia-component-type":"PF4/Checkbox","data-ouia-component-id":"checkbox-"+e[L.Ov],isChecked:e.selected,onChange:t.onSelect,id:a,name:e[L.ki]})},t.state={modalOpened:!1,errorMessage:["The baseline cannot be displayed at this time. Please retry and if","the problem persists contact your system administrator.",""],loadingColumns:[{title:"Fact",transforms:[(0,k.cellWidth)(40)]},{title:"Value",transforms:[(0,k.cellWidth)(45)]},{title:"",transforms:[(0,k.cellWidth)(5)]}]},t}return(0,o.Z)(r,[{key:"renderHeaderRow",value:function(e){return y().createElement("tr",{key:"edit-baseline-table-header","data-ouia-component-type":"PF4/TableHeaderRow","data-ouia-component-id":"edit-baseline-table-header-row"},e?y().createElement("th",null):null,y().createElement("th",{className:"edit-baseline-header"},y().createElement("div",null,"Fact")),y().createElement("th",{className:"edit-baseline-header"},y().createElement("div",null,"Value")),y().createElement("th",null))}},{key:"renderLoadingRows",value:function(){var e=this.state.loadingColumns;return y().createElement(E.SkeletonTable,{columns:e,rowSize:8,onSelect:!0,canSelectAll:!1,isSelectable:!0})}},{key:"renderExpandableRowButton",value:function(e){var t=this;return this.props.expandedRows.includes(e)?y().createElement(B.AngleDownIcon,{className:"pointer active-blue","data-ouia-component-type":"PF4/Button","data-ouia-component-id":"expand-category-button-"+e,onClick:function(){return t.props.expandRow(e)}}):y().createElement(B.AngleRightIcon,{className:"pointer","data-ouia-component-type":"PF4/Button","data-ouia-component-id":"expand-category-button-"+e,onClick:function(){return t.props.expandRow(e)}})}},{key:"renderRowData",value:function(e,t){var a=this,n=this.props,i=n.expandedRows,o=n.baselineData,r=[],l=[],s=o.baseline_facts.find((function(t){if(t.name===e[L.Ov]){if(t.value&&e[L.fO]===t.value)return e;if(t.values&&Array.isArray(e[L.fO]))return e}}));return t&&r.push(y().createElement("td",{className:i.includes(e[L.Ov])&&Array.isArray(e[2])?"pf-c-table__check nested-fact":"pf-c-table__check"},this.renderCheckbox(e))),T.Z.isCategory(e)?(r.push(y().createElement("td",null,this.renderExpandableRowButton(e[L.Ov])," ",e[L.Ov])),r.push(y().createElement("td",null)),r.push(T.Z.renderKebab({factName:e[L.Ov],factData:s,isCategory:!0,baselinesWrite:t})),l.push(y().createElement("tr",{"data-ouia-component-type":"PF4/TableRow","data-ouia-component-id":"edit-baseline-table-row-"+(null==s?void 0:s.name),key:e[L.Ov]},r)),i.includes(e[L.Ov])&&T.Z.baselineSubFacts(e).forEach((function(e){r=[],t&&r.push(y().createElement("td",{className:"pf-c-table__check nested-fact"},a.renderCheckbox(e))),r.push(y().createElement("td",null,y().createElement("p",{className:"child-row"},e[L.Ov]))),r.push(y().createElement("td",null,e[L.fO])),r.push(T.Z.renderKebab({factName:e[L.Ov],factValue:e[L.fO],factData:s,isSubFact:!0,baselinesWrite:t})),l.push(y().createElement("tr",{"data-ouia-component-type":"PF4/TableRow","data-ouia-component-id":"edit-baseline-table-row-"+e[L.Ov],category:null==s?void 0:s.name,key:e[L.Ov]},r))}))):(r.push(y().createElement("td",null,e[L.Ov])),r.push(y().createElement("td",null,e[L.fO])),r.push(T.Z.renderKebab({factName:e[L.Ov],factValue:e[L.fO],factData:s,baselinesWrite:t})),l.push(y().createElement("tr",{"data-ouia-component-type":"PF4/TableRow","data-ouia-component-id":"edit-baseline-table-row-"+(null==s?void 0:s.name),key:e[L.Ov]},r))),l}},{key:"renderRows",value:function(e){var t=this.props.editBaselineTableData,a=[],n=[];if(0!==t.length)for(var i=0;i<t.length;i+=1)n=this.renderRowData(t[i],e),a.push(n);return a}},{key:"renderEmptyState",value:function(e){var t=this,a=this.props,n=a.editBaselineEmptyState,i=a.editBaselineError,o=this.state.errorMessage;return 200!==i.status&&void 0!==i.status?y().createElement(H.Z,{icon:B.ExclamationCircleIcon,color:"#c9190b",title:"Baseline cannot be displayed",text:o,error:"Error "+i.status+": "+i.detail,button:y().createElement("a",{onClick:function(){return t.retryBaselineFetch()}},y().createElement(B.UndoIcon,{className:"reload-button"}),"Retry")}):y().createElement(H.Z,{title:L.rX,text:L.Ie,button:y().createElement(x,{permissions:e,editBaselineEmptyState:n})})}},{key:"renderTable",value:function(e){var t=e.baselinesWrite;return y().createElement("table",{className:"pf-c-table ins-c-table pf-m-grid-md ins-entity-table edit-baseline-table"},y().createElement("thead",null,this.renderHeaderRow(t)),y().createElement("tbody",{key:"edit-baseline-table"},this.renderRows(t)))}},{key:"render",value:function(){var e=this.props,t=e.baselineData,a=e.baselineDataLoading,n=e.editBaselineTableData,i=e.exportToCSV,o=e.exportToJSON,r=e.factModalOpened,l=e.editBaselineEmptyState,s=e.editBaselineError,c=e.clearErrorData,u=e.permissions,d=T.Z.findSelected(n);return y().createElement(y().Fragment,null,r?y().createElement(j,null):y().createElement("div",null),y().createElement(A.Z,{error:!l&&s.status?s:{},onClose:c}),l?this.renderEmptyState(u):y().createElement(S.Card,{className:"pf-t-light pf-m-opaque-100"},y().createElement(S.CardBody,null,y().createElement(V,{selected:d,onBulkSelect:this.onBulkSelect,isDisabled:0===n.length||!u.baselinesWrite,totalFacts:T.Z.findFactCount(n),baselineData:t,exportToCSV:i,exportToJSON:o,tableData:n,permissions:u}),a?this.renderLoadingRows():this.renderTable(u))))}}]),r}(m.Component);K.propTypes={history:b().object,match:b().any,baselineData:b().object,baselineDataLoading:b().bool,factModalOpened:b().bool,editBaselineTableData:b().array,expandRow:b().func,expandedRows:b().array,selectFact:b().func,clearErrorData:b().func,editBaselineError:b().object,editBaselineEmptyState:b().bool,exportToCSV:b().func,exportToJSON:b().func,permissions:b().object};const W=K;var J=a(93433),Y=a(87462),G=a(29439),z=a(4942),q=a(18546),U=a(81321),X=a(5068),Q=a(34879),$=a(89455),ee=a(59386),te=a(69078),ae=a(18446),ne=a.n(ae);function ie(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function oe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(a),!0).forEach((function(t){(0,z.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ie(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var re=(0,g.connect)(null,(function(e){return{setSelectedSystemIds:function(t){return e(ee.r.setSelectedSystemIds(t))},driftClearFilters:function(){return e(te.Z.clearAllFilters())},selectEntities:function(t){return e({type:"SELECT_ENTITY",payload:t})}}}))((function(e){var t,a,i,o=e.baselineId,r=e.setSelectedSystemIds,l=e.driftClearFilters,s=e.createBaselineModal,c=e.historicalProfiles,u=e.hasMultiSelect,d=e.selectHistoricProfiles,f=e.permissions,h=e.selectEntities,b=e.selectVariant,v=e.systemNotificationIds,E=e.toolbarButton,S=e.isAddSystemNotifications,k=e.registry,N=e.onSystemSelect,D=e.selectSystemsToAdd,C=e.deleteNotifications,O=e.systemColumns,T=(0,g.useSelector)((function(e){var t=e.globalFilterState;return null==t?void 0:t.tagsFilter})),I=(0,g.useSelector)((function(e){var t=e.globalFilterState;return null==t?void 0:t.workloadsFilter})),w=(0,g.useSelector)((function(e){var t=e.globalFilterState;return null==t?void 0:t.sidsFilter})),F=(0,g.useSelector)((function(e){return e.entities})),Z=(0,g.useSelector)((function(e){var t=e.entities;return(null==t?void 0:t.selectedSystemIds)||[]})),x=(0,m.useRef)((function(){})),R=(0,m.useRef)([]),P=function(e){var t=[];switch(e){case"none":t={id:0,selected:!1,bulk:!0};break;case"page":t={id:0,selected:!0}}h(t)};return(0,m.useEffect)((function(){ne()(R.current,Z)||(R.current=(0,J.Z)(Z),N(Z))})),f.inventoryRead?y().createElement(U.Z,{columns:O,onLoad:function(e){var t=e.mergeWithEntities,a=e.INVENTORY_ACTION_TYPES,n=e.api;x.current=null==n?void 0:n.getEntities,l(),k.register(t((0,$.Z)(a,o,s,c,u,void 0,S,d,v,D,C,f))),r(Z)},showTags:!0,noDetail:!0,customFilters:{tags:T,filter:{system_profile:oe(oe({},(null==I||null===(t=I.SAP)||void 0===t?void 0:t.isSelected)&&{sap_system:!0}),(null==w?void 0:w.length)>0&&{sap_sids:w})}},tableProps:f.notificationsWrite?{canSelectAll:!1,selectVariant:b,ouiaId:"systems-table"}:{canSelectAll:!1,selectVariant:b,ouiaId:"systems-table",onSelect:!1},getEntities:function(){var e=(0,n.Z)(p().mark((function e(t,a){var n,i,o;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(v||[]).slice((a.page-1)*a.per_page,a.page*a.per_page),e.next=3,null===(n=x.current)||void 0===n?void 0:n.call(x,i,{hasItems:!0},!0);case 3:return o=e.sent,e.abrupt("return",oe(oe({},o),{},{results:o.results.map((function(e){return oe(oe({},e),i.find((function(t){return t.uuid===e.id}))||{})})),total:(v||[]).length,page:a.page,per_page:a.per_page}));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),bulkSelect:P&&{isDisabled:!u||!f.notificationsWrite,count:null!=F&&F.selectedSystemIds?F.selectedSystemIds.length:0,items:[{title:"Select none (0)",onClick:function(){P("none")}},{title:"Select page (".concat((null==F?void 0:F.count)||0,")"),onClick:function(){P("page")}}],onSelect:function(e){P(e?"page":"none")},checked:null!=F&&F.selectedSystemIds?M.Z.findCheckedValue(null==F?void 0:F.total,null==F?void 0:F.selectedSystemIds.length):null},actionsConfig:{actions:f.notificationsWrite?[E,y().createElement("div",{className:"pointer",key:"delete-baseline-notification",onClick:function(){return C(null==F?void 0:F.selectedSystemIds)},isDisabled:!(null!=F&&null!==(a=F.selectedSystemIds)&&void 0!==a&&a.length)},(null==F||null===(i=F.selectedSystemIds)||void 0===i?void 0:i.length)>1?"Delete associated systems":"Delete associated system")]:[]}}):y().createElement(H.Z,{icon:B.LockIcon,color:"#6a6e73",title:"You do not have access to the inventory",text:["Contact your organization administrator(s) for more information."]})}));re.propTypes={setSelectedSystemIds:b().func,selectedSystemIds:b().array,selectHistoricProfiles:b().func,createBaselineModal:b().bool,driftClearFilters:b().func,historicalProfiles:b().array,hasMultiSelect:b().bool,selectedHSPIds:b().array,permissions:b().object,entities:b().object,selectEntities:b().func,selectVariant:b().string,systemNotificationIds:b().array,baselineId:b().string,toolbarDropdown:b().array,isAddSystemNotifications:b().bool,registry:b().shape({register:b().func}),onSystemSelect:b().func,systemColumns:b().array},re.defaultProps={selectedSystemIds:[]};const le=function(e){var t=(0,m.useState)(),a=(0,G.Z)(t,2),n=a[0],i=a[1],o=(0,m.useRef)();return(0,m.useEffect)((function(){o.current=new Q.Z,i((function(){return new q.ZP({},[o.current.getMiddleware(),(0,X.ZP)()])}))}),[]),null!=n&&n.store?y().createElement(g.Provider,{store:n.store},y().createElement(re,(0,Y.Z)({},e,{registry:n,addNewListener:function(){var e;return(e=o.current).addNew.apply(e,arguments)}}))):null};var se=a(34869);var ce=function(e){(0,l.Z)(u,e);var t,a,r=(t=u,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,c.Z)(t);if(a){var i=(0,c.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,s.Z)(this,e)});function u(e){var t;return(0,i.Z)(this,u),(t=r.call(this,e)).deleteNotification=(0,n.Z)(p().mark((function e(){var a,n,i,o,r,l;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props,n=a.baselineId,i=a.deleteNotifications,o=a.fetchSystems,r=a.systemsToDelete,l=a.toggleDeleteNotificationsModal,e.next=3,i(n,r);case 3:o(n),l();case 5:case"end":return e.stop()}}),e)}))),t}return(0,o.Z)(u,[{key:"render",value:function(){var e=this.props,t=e.deleteNotificationsModalOpened,a=e.systemsToDelete,n=e.toggleDeleteNotificationsModal;return y().createElement(y().Fragment,null,y().createElement(S.Modal,{className:"drift",ouiaId:"delete-baseline-notification-modal",variant:S.ModalVariant.small,title:1===(null==a?void 0:a.length)?"Delete associated system":"Delete associated systems",isOpen:t,onClose:function(){return n()},actions:[y().createElement(S.Button,{key:"confirm",ouiaId:"delete-baseline-notification-button",variant:"danger",onClick:this.deleteNotification},"Delete"),y().createElement(S.Button,{key:"cancel",ouiaId:"delete-baseline-notification-cancel-button",variant:"link",onClick:function(){return n()}},"Cancel")]},"You have selected "," "," ",1===(null==a?void 0:a.length)?"an associated system":"multiple associated systems"," "," to be deleted.",y().createElement("br",null),y().createElement("div",{className:"md-padding-top"},"Deleting an associated system cannot be undone.")))}}]),u}(m.Component);ce.propTypes={baselineId:b().string,deleteNotificationsModalOpened:b().bool,deleteNotifications:b().func,fetchSystems:b().func,systemsToDelete:b().array,toggleDeleteNotificationsModal:b().func};const ue=ce;var de=a(21748),fe=a(87248);const pe=function(){return{type:de.Z.TOGGLE_DELETE_NOTIFICATION_MODAL}},me=function(e){return{type:de.Z.SET_SYSTEMS_TO_DELETE,payload:e}},ye=function(e,t){return{type:de.Z.DELETE_NOTIFICATIONS,payload:fe.Z.deleteSystemNotifications(e,t)}},he=function(e){return{type:de.Z.GET_NOTIFICATIONS,payload:fe.Z.getBaselineNotification(e)}},be=function(e,t){return{type:de.Z.ADD_NOTIFICATIONS,payload:fe.Z.addSystemNotification(e,t)}};var ve=function(e){(0,l.Z)(d,e);var t,a,r,u=(a=d,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,c.Z)(a);if(r){var n=(0,c.Z)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,s.Z)(this,e)});function d(e){var t;return(0,i.Z)(this,d),(t=u.call(this,e)).buildSystemColumns=function(e){var a=[{key:"display_name",props:{width:e?20:null},title:"Name"},{key:"tags",props:{width:e?10:null,isStatic:!0},title:"Tags"},{key:"updated",props:{width:e?10:null},title:"Last seen"}];return t.props.permissions.notificationsWrite&&!e&&a.push({key:"system_notification",title:"",props:{isStatic:!0}}),a},t.deleteNotifications=function(){var e=(0,n.Z)(p().mark((function e(a){var n,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.props,i=n.setSystemsToDelete,(0,n.toggleDeleteNotificationsModal)(),i(a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.selectSystemsToAdd=function(e){var a=t.props.systemNotificationIds,n=(0,J.Z)(a),i=e.filter((function(e){return!n.some((function(t){return t===e}))}));t.setState({systemsToAdd:i})},t.addNotification=(0,n.Z)(p().mark((function e(){var a,n,i,o;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.state.systemsToAdd,n=t.props,i=n.addNotifications,o=n.baselineId,e.next=4,i(o,a);case 4:t.setState({systemsToAdd:[]}),t.toggleModal(),t.fetchSystems(o);case 7:case"end":return e.stop()}}),e)}))),t.buildNotificationsButton=function(){return y().createElement(S.Button,{key:"add-baseline-notification",variant:"primary",onClick:t.toggleModal,ouiaId:"add-baseline-notification-button"},"Add associated system")},t.fetchSystems=function(){var e=(0,n.Z)(p().mark((function e(a){var n,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.props,i=n.fetchBaselineData,(0,n.getNotifications)(a),i(a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.state={modalOpened:!1,systemsToAdd:[]},t.toggleModal=function(){var e=t.props.setSelectedSystemIds,a=t.state.modalOpened;e([]),t.setState({modalOpened:!a})},t}return(0,o.Z)(d,[{key:"componentDidMount",value:(t=(0,n.Z)(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchSystems(this.props.baselineId);case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.props,t=e.baselineId,a=e.baselineName,n=e.deleteNotifications,i=e.deleteNotificationsModalOpened,o=e.driftClearFilters,r=e.entities,l=e.permissions,s=e.selectEntities,c=e.selectHistoricProfiles,u=e.setSelectedSystemIds,d=e.systemNotificationIds,f=e.systemsToDelete,p=e.toggleDeleteNotificationsModal,m=e.systemNotificationLoaded,h=this.state.modalOpened;return y().createElement(y().Fragment,null,y().createElement(ue,{baselineId:t,deleteNotifications:n,deleteNotificationsModalOpened:i,systemsToDelete:f,toggleDeleteNotificationsModal:p,fetchSystems:this.fetchSystems}),y().createElement(S.Modal,{className:"drift",ouiaId:"add-baseline-notification-modal",variant:S.ModalVariant.medium,title:"Associate system with "+a,isOpen:h,onClose:this.toggleModal,actions:[y().createElement(S.Button,{key:"confirm",ouiaId:"add-baseline-notification-button",variant:"primary",onClick:this.addNotification},"Submit"),y().createElement(S.Button,{key:"cancel",ouiaId:"add-baseline-notification-cancel-button",variant:"link",onClick:this.toggleModal},"Cancel")]},y().createElement(se.Z,{hasMultiSelect:!0,permissions:l,entities:r,selectVariant:"checkbox",systemNotificationIds:d,baselineId:t,isAddSystemNotifications:!0,driftClearFilters:o,selectEntities:s,selectHistoricProfiles:c,selectSystemsToAdd:this.selectSystemsToAdd,selectedSystemIds:(null==r?void 0:r.selectedSystemIds)||[],systemColumns:this.buildSystemColumns(!0)})),m?y().createElement(le,{hasMultiSelect:!0,permissions:l,selectVariant:"checkbox",systemNotificationIds:d,baselineId:t,toolbarButton:this.buildNotificationsButton(),driftClearFilters:o,selectEntities:s,selectHistoricProfiles:c,onSystemSelect:u,deleteNotifications:this.deleteNotifications,systemColumns:this.buildSystemColumns()}):y().createElement(S.Bullseye,null,y().createElement(S.Spinner,{size:"xl"})))}}]),d}(m.Component);ve.propTypes={addNotifications:b().func,baselineId:b().string,baselineName:b().string,entities:b().object,fetchBaselineData:b().func,permissions:b().object,selectHistoricProfiles:b().func,setSelectedSystemIds:b().func,driftClearFilters:b().func,selectEntities:b().func,toggleDeleteNotificationsModal:b().func,setSystemsToDelete:b().func,systemsToDelete:b().array,deleteNotifications:b().func,deleteNotificationsModalOpened:b().bool,getNotifications:b().func,setSystemsToAdd:b().func,systemNotificationIds:b().array,systemNotificationLoaded:b().bool};const ge=(0,g.connect)((function(e){return{deleteNotificationsModalOpened:e.systemNotificationsState.deleteNotificationsModalOpened,systemNotificationIds:e.systemNotificationsState.systemNotificationIds,systemNotificationLoaded:e.systemNotificationsState.systemNotificationLoaded,systemsToDelete:e.systemNotificationsState.systemsToDelete}}),(function(e){return{addNotifications:function(t,a){return e(be(t,a))},toggleDeleteNotificationsModal:function(){return e(pe())},setSystemsToDelete:function(t){return e(me(t))},deleteNotifications:function(t,a){return e(ye(t,a))},getNotifications:function(t){return e(he(t))},setSelectedSystemIds:function(t){return e({type:"SET_SELECTED_SYSTEM_IDS",payload:t})}}}))(ve);var Ee=a(48270),Se=a(83068),Be=a(43946),ke=a(39356);var Ne=function(e){(0,l.Z)(h,e);var t,a,u,f,m=(u=h,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,c.Z)(u);if(f){var a=(0,c.Z)(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return(0,s.Z)(this,e)});function h(e){var t;return(0,i.Z)(this,h),(t=m.call(this,e)).changeActiveTab=function(e,a){t.setState({activeTab:a})},t.retryBaselineFetch=function(){(0,t.props.clearErrorData)(),t.fetchBaselineId()},t.renderPageHeader=function(e){var a=e.baselinesRead,n=e.baselinesWrite,i=e.notificationsRead,o=t.state.modalOpened,r=t.props,l=r.baselineData,s=r.baselineDataLoading,c=r.notificationsSwitchError,u=r.inlineError,d=r.toggleNotificationPending,f=r.toggleNotificationFulfilled,p=r.toggleNotificationRejected;return s?y().createElement(E.PageHeader,null,y().createElement("div",null,y().createElement(E.Skeleton,{size:E.SkeletonSize.lg}))):void 0!==l?y().createElement(y().Fragment,null,y().createElement(C,{baselineData:l,modalOpened:o,toggleEditNameModal:t.toggleEditNameModal,error:u}),y().createElement(E.PageHeader,{className:i?"bottom-padding-0":""},t.renderBreadcrumb(l,a),y().createElement("div",{id:"edit-baseline-title"},t.renderPageTitle(l,a,n),y().createElement(ke.Z,{classname:"float-right",hasBadge:!1,hasLabel:!0,hasSwitch:!0,baselineData:{id:l.id,display_name:l.display_name,associated_systems:l.mapped_system_count,notifications_enabled:l.notifications_enabled},notificationsSwitchError:c,toggleNotificationPending:d,toggleNotificationFulfilled:f,toggleNotificationRejected:p})),i?t.renderTabs():null)):y().createElement(E.PageHeader,null,t.renderBreadcrumb(),y().createElement(E.PageHeaderTitle,{title:"Baseline"}))},t.state={modalOpened:!1,loadingColumns:[{title:"Fact",transforms:[(0,k.cellWidth)(40)]},{title:"Value",transforms:[(0,k.cellWidth)(45)]},{title:"",transforms:[(0,k.cellWidth)(5)]}],activeTab:0,error:{}},t.fetchBaselineId(),t.renderBreadcrumb=t.renderBreadcrumb.bind((0,r.Z)(t)),t.goToBaselinesList=t.goToBaselinesList.bind((0,r.Z)(t)),t.toggleEditNameModal=function(){var e=t.state.modalOpened,a=t.props.clearErrorData;t.setState({modalOpened:!e}),a()},t}return(0,o.Z)(h,[{key:"componentDidMount",value:(a=(0,n.Z)(p().mark((function e(){var t,a,n,i,o,r;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.props.match.params,e.next=3,window.insights.chrome.auth.getUser();case 3:return e.next=5,null===(t=window.insights)||void 0===t||null===(a=t.chrome)||void 0===a||null===(n=a.appAction)||void 0===n?void 0:n.call(a,"baseline-view");case 5:return e.next=7,null===(i=window.insights)||void 0===i||null===(o=i.chrome)||void 0===o?void 0:o.appObjectId(r.id);case 7:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.baselineData,n=t.editBaselineError,i=t.notificationsSwitchError;a&&(document.title=this.props.baselineData.display_name+" - Baselines - Drift | Red Hat Insights"),e.editBaselineError!==n&&this.setState({error:n}),e.notificationsSwitchError!==i&&this.setState({error:i})}},{key:"fetchBaselineId",value:(t=(0,n.Z)(p().mark((function e(){var t,a,n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.match.params,n=t.fetchBaselineData,e.next=3,n(a.id);case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"goToBaselinesList",value:function(){var e=this.props,t=e.clearBaselineData,a=e.fetchBaselines,n=e.history;t("CHECKBOX"),a("CHECKBOX"),n.push("/baselines")}},{key:"renderBreadcrumb",value:function(e,t){var a=this;return y().createElement(S.Breadcrumb,{ouiaId:"edit-baseline-breadcrumb"},y().createElement(S.BreadcrumbItem,null,y().createElement("a",{onClick:function(){return a.goToBaselinesList()}},"Baselines")),e&&t?y().createElement(S.BreadcrumbHeading,null,e.display_name):null)}},{key:"renderPageTitle",value:function(e,t,a){var n=this;return t?a?y().createElement(y().Fragment,null,y().createElement("span",{className:"pf-c-title pf-m-2xl"},d()(e)?null:e.display_name),y().createElement("span",null,y().createElement(B.EditAltIcon,{className:"pointer not-active edit-icon-margin","data-ouia-component-id":"edit-baseline-name-button","data-ouia-component-type":"PF4/Button",onClick:function(){return n.toggleEditNameModal()}}))):y().createElement(y().Fragment,null,d()(e)?null:e.display_name):y().createElement(y().Fragment,null,"Baseline")}},{key:"renderTabs",value:function(){var e=this.state.activeTab;return y().createElement("div",null,y().createElement(S.Tabs,{activeKey:e,onSelect:this.changeActiveTab},y().createElement(S.Tab,{eventKey:0,title:"Facts",id:"baseline-tab","data-ouia-component-id":"baseline-tab-button"}),y().createElement(S.Tab,{eventKey:1,title:"Associated systems",id:"system-notifications-tab","data-ouia-component-id":""})))}},{key:"renderMain",value:function(e){var t=this.props,a=t.baselineData,n=t.baselineDataLoading,i=t.clearErrorData,o=t.driftClearFilters,r=t.editBaselineEmptyState,l=t.editBaselineError,s=t.editBaselineTableData,c=t.entities,u=t.expandRow,d=t.expandedRows,f=t.exportToCSV,p=t.exportToJSON,m=t.factModalOpened,h=t.fetchBaselineData,b=t.selectFact,v=t.match.params,g=t.selectEntities,E=t.selectHistoricProfiles,S=t.setSelectedSystemIds;return 0===this.state.activeTab?y().createElement(W,{baselineData:a,baselineDataLoading:n,clearErrorData:i,editBaselineEmptyState:r,editBaselineError:l,notificationsSwitchError:!0,editBaselineTableData:s,expandRow:u,expandedRows:d,exportToCSV:f,exportToJSON:p,factModalOpened:m,permissions:e,history,selectFact:b}):y().createElement(ge,{baselineId:v.id,baselineName:null==a?void 0:a.display_name,permissions:e,entities:c,driftClearFilters:o,fetchBaselineData:h,selectEntities:g,selectHistoricProfiles:E,setSelectedSystemIds:S})}},{key:"render",value:function(){var e=this;return y().createElement(Be.B.Consumer,null,(function(t){return y().createElement(y().Fragment,null,e.renderPageHeader(t.permissions),y().createElement(E.Main,null,!1===t.permissions.baselinesRead?y().createElement(H.Z,{icon:B.LockIcon,color:"#6a6e73",title:"You do not have access to view this Baseline",text:["Contact your organization administrator(s) for more information."]}):e.renderMain(t.permissions)))}))}}]),h}(m.Component);Ne.propTypes={history:b().object,match:b().any,clearBaselineData:b().func,baselineData:b().object,baselineDataLoading:b().bool,fetchBaselineData:b().func,factModalOpened:b().bool,editBaselineTableData:b().array,expandRow:b().func,expandedRows:b().array,selectFact:b().func,clearErrorData:b().func,editBaselineError:b().object,notificationsSwitchError:b().object,inlineError:b().object,editBaselineEmptyState:b().bool,exportToCSV:b().func,exportToJSON:b().func,fetchBaselines:b().func,entities:b().object,selectHistoricProfiles:b().func,setSelectedSystemIds:b().func,driftClearFilters:b().func,selectEntities:b().func,toggleNotificationPending:b().func,toggleNotificationFulfilled:b().func,toggleNotificationRejected:b().func};const De=(0,v.withRouter)((0,g.connect)((function(e){return{baselineData:e.editBaselineState.baselineData,baselineDataLoading:e.editBaselineState.baselineDataLoading,factModalOpened:e.editBaselineState.factModalOpened,editBaselineTableData:e.editBaselineState.editBaselineTableData,expandedRows:e.editBaselineState.expandedRows,editBaselineError:e.editBaselineState.editBaselineError,notificationsSwitchError:e.editBaselineState.notificationsSwitchError,editBaselineEmptyState:e.editBaselineState.editBaselineEmptyState,inlineError:e.editBaselineState.inlineError,entities:e.entities}}),(function(e){return{clearBaselineData:function(t){return e(Ee.w.clearBaselineData(t))},expandRow:function(t){return e(N.E.expandRow(t))},fetchBaselineData:function(t){return e(N.E.fetchBaselineData(t))},selectFact:function(t,a){return e(N.E.selectFact(t,a))},clearErrorData:function(){return e(N.E.clearErrorData())},exportToCSV:function(t,a){e(N.E.exportToCSV(t,a))},exportToJSON:function(t){e(N.E.exportToJSON(t))},fetchBaselines:function(t,a){return e(Ee.w.fetchBaselines(t,a))},selectHistoricProfiles:function(t){return e(Se.h.selectHistoricProfiles(t))},setSelectedSystemIds:function(t){return e(ee.r.setSelectedSystemIds(t))},driftClearFilters:function(){return e(te.Z.clearAllFilters())},selectEntities:function(t){return e({type:"SELECT_ENTITY",payload:t})},toggleNotificationPending:function(){return e(N.E.toggleNotificationPending())},toggleNotificationFulfilled:function(t){return e(N.E.toggleNotificationFulfilled(t))},toggleNotificationRejected:function(t,a,n){e(N.E.toggleNotificationRejected(t,a,n))}}}))(Ne))}}]);
//# sourceMappingURL=../sourcemaps/215.9987d742fe75ddfe1a489daa81006a34.js.map