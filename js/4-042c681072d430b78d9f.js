(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{427:function(e,t,n){"use strict";n.r(t);var a=n(21),i=n.n(a),r=n(33),o=n.n(r),l=n(13),s=n.n(l),c=n(14),u=n.n(c),d=n(15),p=n.n(d),m=n(16),f=n.n(m),b=n(17),g=n.n(b),h=n(0),E=n.n(h),v=n(3),w=n.n(v),y=n(18),C=n(103),O=n(237),B=n(238),N=n(265),k=n(267),T=n(266),P=n(304),S=n(215),D=n(39);var x={toggleCreateBaseline:function(){return{type:D.a.CREATE_NEW_BASELINE}}},I=function(e){function t(e){return s()(this,t),p()(this,f()(t).call(this,e))}return g()(t,e),u()(t,[{key:"render",value:function(){var e=this.props.toggleCreateBaseline;return E.a.createElement(S.a,{variant:"primary",onClick:e},"Create Baseline")}}]),t}(h.Component);I.propTypes={toggleCreateBaseline:w.a.func};var j=Object(y.connect)(null,function(e){return{toggleCreateBaseline:function(){return e(x.toggleCreateBaseline())}}})(I),F=n(52),R=n.n(F),V=n(251),L=n(253),A=n(217),_=n(252),U=n(244),W=n(242),M=n(271),z=n(112),q=function(e){function t(e){var n;return s()(this,t),(n=p()(this,f()(t).call(this,e))).submitBaselineName=n.submitBaselineName.bind(R()(R()(n))),n.state={baselineName:""},n.updateBaselineName=function(e){n.setState({baselineName:e})},n}return g()(t,e),u()(t,[{key:"submitBaselineName",value:function(){var e=this.state.baselineName,t=this.props,n=t.createBaseline,a=t.toggleCreateBaseline;n({display_name:e,baseline_facts:[]}),a()}},{key:"render",value:function(){var e=this.state.baselineName;return E.a.createElement(E.a.Fragment,null,E.a.createElement(V.a,{variant:V.b.full},E.a.createElement(L.a,{icon:M.a}),E.a.createElement(A.a,{headingLevel:"h5",size:"lg"},"Create Baseline"),E.a.createElement(_.a,null,"Create a baseline name",E.a.createElement(U.a,null,E.a.createElement(W.a,{value:e,type:"text",onChange:this.updateBaselineName,"aria-label":"baseline name"}),E.a.createElement(S.a,{onClick:this.submitBaselineName},"Submit")))))}}]),t}(h.Component);q.propTypes={toggleCreateBaseline:w.a.func,createBaseline:w.a.func};var J=Object(y.connect)(null,function(e){return{toggleCreateBaseline:function(){return e(x.toggleCreateBaseline())},createBaseline:function(t){return e(z.a.createBaseline(t))}}})(q),H=n(11),K=n(40);var X={exportToCSV:function(e,t){var n={exportType:e,exportData:t,baselineRowData:arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]};return{type:K.a.EXPORT_BASELINES_LIST_TO_CSV,payload:n}}},$=n(230),G=n(212),Q=n(249),Y=function(e){function t(e){var n;return s()(this,t),(n=p()(this,f()(t).call(this,e))).state={kebabOpened:!1},n.exportSelect=n.exportSelect.bind(R()(R()(n))),n.toggleKebab=function(){var e=n.state.kebabOpened;n.setState({kebabOpened:!e})},n}return g()(t,e),u()(t,[{key:"exportSelect",value:function(){var e=this.props,t=e.exportType,n=e.baselineTableData,a=e.baselineData,i=e.baselineRowData;this.toggleKebab(),"baseline list"===t?this.props.exportToCSV(t,n):"baselines data"===t&&this.props.exportToCSV(t,a,i)}},{key:"render",value:function(){var e=this.state.kebabOpened,t=[E.a.createElement($.a,{key:"export",component:"button",onClick:this.exportSelect},"Export as CSV")];return E.a.createElement(G.a,{style:{float:"left"},className:"action-kebab",toggle:E.a.createElement(Q.a,{onToggle:this.toggleKebab}),isOpen:e,dropdownItems:t,isPlain:!0})}}]),t}(h.Component);Y.propTypes={exportToCSV:w.a.func,baselineTableData:w.a.array,exportType:w.a.string,baselineData:w.a.array,baselineRowData:w.a.array};var Z=Object(H.k)(Object(y.connect)(function(e){return{baselineTableData:e.baselinesTableState.baselineTableData,baselineData:e.baselinesTableState.baselineData}},function(e){return{exportToCSV:function(t,n,a){e(X.exportToCSV(t,n,a))}}})(Y)),ee=n(53),te=n.n(ee),ne=n(199),ae=n.n(ne),ie=n(203),re=n(299),oe=n(205),le=n(93),se=n(301);function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ue(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){pe(e,t,n[t])})}return e}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const me=de({},W.a.propTypes),fe=de({},W.a.defaultProps);[me,fe].forEach(e=>{["value","onChange"].forEach(t=>{delete e[t]})});const be=de({},me,{defaultValue:w.a.string,onBlur:w.a.func,autoFocus:w.a.bool}),ge=de({},fe,{defaultValue:null,onBlur:null,autoFocus:!1});class he extends E.a.Component{constructor(...e){super(...e),pe(this,"handleBlur",e=>{this.props.onBlur(e.currentTarget.value,e)})}render(){const e=this.props,{defaultValue:t,onBlur:n,autoFocus:a,value:i,onChange:r}=e,o=ue(e,["defaultValue","onBlur","autoFocus","value","onChange"]);return E.a.createElement(E.a.Fragment,null,E.a.createElement(W.a,ce({},o,{value:void 0,defaultValue:t,onBlur:this.handleBlur,autoFocus:a})))}}he.propTypes=be,he.defaultProps=ge;var Ee=he;var ve=({renderEdit:e,renderValue:t,resolveValue:n,isEditable:a=null}={})=>(i,r)=>{const{rowData:o}=r;if(n&&(i=n(i,r)),e&&o.isEditing&&(!a||a(r))){const t={activeEditId:o.editConfig&&o.editConfig.activeEditId};return e(i,r,t)}return t?t(i,r):i};const we={NONE:"NONE",ROW:"ROW",NO_CONFIRM_ROW:"NO_CONFIRM_ROW",TABLE_TOP:"TABLE_TOP",TABLE_BOTTOM:"TABLE_BOTTOM"};var ye=n(425);const Ce=["INPUT","BUTTON"];let Oe=!1;const Be=(...e)=>{const t=e.filter(e=>"function"==typeof e);return 1===t.length?t[0]:t.length>1?(...e)=>{t.forEach(t=>t(...e))}:void 0},Ne=(e,t)=>!Object.keys(e).find(n=>e[n]!==t[n]),ke=e=>{const{top:t,right:n,bottom:a,left:i,width:r,height:o,x:l,y:s}=e.getBoundingClientRect();return{top:t,right:n,bottom:a,left:i,width:r,height:o,x:l,y:s}},Te=()=>{const{clientWidth:e,clientHeight:t}=document.documentElement;return{width:e,height:t}};function Pe(){return(Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Se(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){xe(e,t,n[t])})}return e}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ie=De({},re.a.propTypes,{editConfig:w.a.shape({editConfirmationType:w.a.oneOf(Object.values(we)),onEditCellClicked:w.a.func,onEditConfirmed:w.a.func,onEditCanceled:w.a.func}).isRequired,onRowClick:w.a.func}),je=De({},re.a.defaultProps,{editConfig:null,onRowClick:()=>void 0}),Fe=(e,t,n,a,{onRowClick:i,editConfig:r})=>{const{target:o}=e,l=o.closest("[data-key]"),s=parseInt(l&&l.getAttribute("data-key"),10);let c;if(!Number.isNaN(s)&&r&&"function"==typeof r.onEditCellClicked){const a=o.closest("[id]"),i=a&&l.contains(a)&&a.getAttribute("id")||null;i||((e,t)=>{(e.isEditing||e.isTableEditing)&&Ce.indexOf(t.tagName)>=0&&!Oe&&(Oe=!0,console.warn(`${Ce.join(", ")} elements are required to have an id for editing to work properly.`))})(t,o),c=()=>{r.onEditCellClicked(e,t,De({},n,{columnIndex:s,elementId:i}))}}setTimeout(()=>{t.isEditing?c&&c():(i(e,t,n,a),c&&setTimeout(c,0))},0)},Re=e=>{let{BodyComponent:t,rows:n,editConfig:a,onRowClick:i}=e,r=Se(e,["BodyComponent","rows","editConfig","onRowClick"]);const o=n.some(e=>e.isEditing),l=n.map(e=>De({},e,{editConfig:a,isTableEditing:o}));return(e=>{const t=new Set(e.map((t,n)=>Object(ye.a)(t,e)?n:null).filter(e=>null!==e));e.filter((n,a)=>void 0!==n.parent&&n.isEditing&&t.has(a)&&n.isEditableTogetherWithParent&&e[n.parent].isEditing).forEach(t=>{e[t.parent].isChildEditing=!0,t.isParentEditing=!0});const n=e.filter((e,n)=>!e.parent||t.has(n)).pop();if(n&&n.isParentEditing){let t=n;for(;void 0!==t.parent&&t.isEditableTogetherWithParent;)t=e[t.parent];t.isLastVisibleParent=!0}})(l),E.a.createElement(t,Pe({},r,{rows:l,onRowClick:(e,t,n,r)=>Fe(e,t,n,r,{onRowClick:i,editConfig:a})}))};Re.propTypes={BodyComponent:w.a.node.isRequired,rows:w.a.array,editConfig:w.a.any,onRowClick:w.a.func},Re.defaultProps={rows:[],editConfig:null,onRowClick:()=>void 0};var Ve=e=>{const t=t=>{let{editConfig:n,onRowClick:a}=t,i=Se(t,["editConfig","onRowClick"]);return E.a.createElement(le.a.Consumer,null,t=>{let{rows:r}=t,o=Se(t,["rows"]);return E.a.createElement(Re,Pe({},o,{rows:r},i,{editConfig:n,onRowClick:a,BodyComponent:e}))})};return t.propTypes=Ie,t.defaultProps=je,t},Le=n(32),Ae=n(198),_e=n.n(Ae),Ue=n(424),We=n(277);function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){ze(e,t,n[t])})}return e}function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const qe=e=>E.a.createElement(S.a,e,E.a.createElement(We.a,null));qe.propTypes=Me({},S.a.propTypes),qe.defaultProps=Me({},S.a.defaultProps,{variant:"plain"});var Je=qe,He=n(256);function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Xe(e,t,n[t])})}return e}function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const $e=e=>E.a.createElement(S.a,e,E.a.createElement(He.a,null));$e.propTypes=Ke({},S.a.propTypes),$e.defaultProps=Ke({},S.a.defaultProps,{variant:"primary"});var Ge=$e;const Qe=Ue.a.parse("\n  tr.pf-c-table__editable-row {    \n    &:hover,\n    &.pf-m-editing {\n      background: #def3ff !important;\n      td {\n        border-bottom: 1px solid #7dc3e8 !important;\n        border-top: 1px solid #7dc3e8 !important;\n  \n        &:first-child {\n          border-left: 1px solid #7dc3e8 !important;\n        }\n  \n        &:last-child {\n          border-right: 1px solid #7dc3e8 !important;\n        }\n      }\n    }\n  \n    &.pf-m-table-editing-first-row {\n      border-top: 3px solid #7dc3e8 !important;\n    }\n  \n    &.pf-m-table-editing-last-row {\n      border-bottom: 3px solid #7dc3e8 !important;\n    }\n  \n    input {\n      display: block;\n      background: var(--pf-global--BackgroundColor--100);\n      border: 1px solid var(--pf-global--BorderColor);\n  \n      &:hover {\n        cursor: text;\n      }\n    }\n  }\n  \n  .pf-c-table__inline-edit-buttons {\n    position: fixed;\n    z-index: 1000;\n    padding: 4px;\n    margin: 0;\n    background: #def3ff;\n    border: 1px solid #7dc3e8;\n  \n    &.pf-m-top {\n      border-bottom: 0;\n    }\n  \n    &.pf-m-bottom {\n      border-top: 0;\n    }\n  \n    &.pf-m-bold {\n      border-width: 3px;\n    }\n  \n    button {\n      margin-left: 4px;\n  \n      &:first-child {\n        margin-left: 0;\n      }\n    }\n  }\n\n"),Ye="pf-c-table__editable-row",Ze="pf-c-table__inline-edit-buttons",et={tableEditingFirstRow:"pf-m-table-editing-first-row ",tableEditingLastRow:"pf-m-table-editing-last-row",editing:"pf-m-editing",top:"pf-m-top",bottom:"pf-m-bottom",bold:"pf-m-bold"};Qe.inject();const tt=({messages:{confirmButtonLabel:e,cancelButtonLabel:t},onConfirm:n,onCancel:a,environment:i,buttonsOnTop:r,boldBorder:o})=>{if(null==i)return null;const{window:l,row:s}=i,c=r?((e,t,n)=>{const a=n?-1:0;return{bottom:e.height-t.top-1+a,right:e.width-t.right+10}})(l,s,o):((e,t,n)=>{const a=n?-1:0;return{top:t.bottom-1+a,right:e.width-t.right+10}})(l,s,o),u=Object(Ue.b)(Ze,r?et.top:et.bottom,o&&et.bold);return E.a.createElement("div",{style:c,className:u,key:"confirmButtons"},E.a.createElement(Ge,{key:"confirm","aria-label":e,onMouseUp:n}),E.a.createElement(Je,{key:"cancel","aria-label":t,onMouseUp:a}))};tt.defaultProps={onConfirm:()=>void 0,onCancel:()=>void 0,buttonsOnTop:!1,boldBorder:!1,environment:void 0,messages:{confirmButtonLabel:"Save",cancelButtonLabel:"Cancel"}},tt.propTypes={onConfirm:w.a.func,onCancel:w.a.func,environment:w.a.shape({window:w.a.shape({width:w.a.number,height:w.a.number}),row:w.a.shape({top:w.a.number,bottom:w.a.number,left:w.a.number,right:w.a.number})}),buttonsOnTop:w.a.bool,boldBorder:w.a.bool,messages:w.a.shape({confirmButtonLabel:w.a.string,cancelButtonLabel:w.a.string})};var nt=tt;function at(){return(at=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function it(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){ot(e,t,n[t])})}return e}function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Qe.inject();const lt=rt({},oe.a.propTypes,{trRef:w.a.func,className:w.a.string,onScroll:w.a.func,onResize:w.a.func,row:w.a.shape({isOpen:w.a.bool,isExpanded:w.a.bool,isEditing:w.a.bool,isTableEditing:w.a.bool,isFirstVisible:w.a.bool,isLastVisible:w.a.bool,isChildEditing:w.a.bool,isParentEditing:w.a.bool,isLastVisibleParent:w.a.bool,editConfig:w.a.object}),rowProps:w.a.object}),st=rt({},oe.a.defaultProps,{trRef:void 0,className:"",onScroll:void 0,onResize:void 0,row:{isOpen:void 0,isExpanded:void 0,isEditing:void 0,isTableEditing:void 0,isFirstVisible:void 0,isLastVisible:void 0,isChildEditing:void 0,isParentEditing:void 0,isLastVisibleParent:void 0,editConfig:void 0},rowProps:null}),ct={TABLE_TOP:{hasConfirmationButtons:({isTableEditing:e,isFirstVisible:t})=>e&&t,isTableConfirmation:()=>!0,areButtonsOnTop:()=>!0,hasBoldBorder:()=>!0,getEditStyles:({isTableEditing:e,isFirstVisible:t})=>Object(Ue.b)(Ye,e&&t&&et.tableEditingFirstRow)},TABLE_BOTTOM:{hasConfirmationButtons:({isTableEditing:e,isLastVisible:t})=>e&&t,isTableConfirmation:()=>!0,areButtonsOnTop:()=>!1,hasBoldBorder:()=>!0,getEditStyles:({isTableEditing:e,isLastVisible:t})=>Object(Ue.b)(Ye,e&&t&&et.tableEditingLastRow)},ROW:{hasConfirmationButtons:({isEditing:e,isParentEditing:t,isLastVisibleParent:n,isChildEditing:a,isLastVisible:i})=>e&&!(a&&t)&&!(t&&i)&&!(a&&!n),isTableConfirmation:()=>!1,areButtonsOnTop:({isLastVisible:e,isLastVisibleParent:t})=>e||t,hasBoldBorder:()=>!1,getEditStyles:({isEditing:e})=>Object(Ue.b)(Ye,e&&et.editing)},NO_CONFIRM_ROW:{hasConfirmationButtons:()=>!1,isTableConfirmation:()=>!1,areButtonsOnTop:()=>!1,hasBoldBorder:()=>!1,getEditStyles:({isEditing:e})=>Object(Ue.b)(Ye,e&&et.editing)},NONE:{hasConfirmationButtons:()=>!1,isTableConfirmation:()=>!1,areButtonsOnTop:()=>!1,hasBoldBorder:()=>!1,getEditStyles:()=>Object(Ue.b)(Ye)}},ut=({editConfig:e})=>ct[e&&e.editConfirmationType]||ct[we.NONE];var dt=e=>{class t extends E.a.Component{constructor(e){super(e),ot(this,"setStateWith2dEquals",e=>{this.setState(t=>Object.keys(e).find(n=>!Ne(e[n],t[n]))?e:null)}),ot(this,"saveRowDimensions",e=>{e&&(this.element=e,this.tableElem=e.closest("table")),this.updateRowDimensions()}),ot(this,"updateRowDimensions",()=>{this.element&&this.setStateWith2dEquals({rowDimensions:ke(this.element)})}),ot(this,"handleScroll",e=>{this.updateRowDimensions()}),ot(this,"handleResize",e=>{this.fetchClientDimensions(),this.updateRowDimensions()}),this.state=rt({rowDimensions:{},window:{}},t.getDerivedStateFromProps(e))}componentDidMount(){this.state.hasConfirmationButtons&&this.fetchClientDimensions()}fetchClientDimensions(){this.setStateWith2dEquals({window:Te()})}getConfirmationButtons(){const e=this.props,{row:t,rowProps:n}=e,a=it(e,["row","rowProps"]),{isLastVisible:i,isParentEditing:r,isLastVisibleParent:o,editConfig:l}=t;if(!l)return null;const{onEditConfirmed:s,onEditCanceled:c}=l,u=ut(t);let d;if(this.element&&this.state.rowDimensions){const e=u.isTableConfirmation()?{}:n,l=u.isTableConfirmation()?null:t;d=Object(Le.createPortal)(E.a.createElement(nt,at({},a,{onConfirm:t=>s(t,l,e),onCancel:t=>c(t,l,e),buttonsOnTop:u.areButtonsOnTop({isLastVisible:i,isParentEditing:r,isLastVisibleParent:o}),boldBorder:u.hasBoldBorder(),environment:{window:this.state.window,row:ke(this.element)}})),this.tableElem?this.tableElem.parentNode:document.body)}return d}render(){const{trRef:t,className:n,onScroll:a,onResize:i,row:{isFirstVisible:r,isLastVisible:o,isEditing:l,isTableEditing:s,editConfig:c}}=this.props,{hasConfirmationButtons:u}=this.state,d=ut({editConfig:c}).getEditStyles({isEditing:l,isTableEditing:s,isFirstVisible:r,isLastVisible:o});return E.a.createElement(E.a.Fragment,null,E.a.createElement(e,at({},this.props,{trRef:Be(this.saveRowDimensions,t),className:_e()(d,n),onScroll:Be(u&&this.handleScroll,a),onResize:Be(u&&this.handleResize,i)})),u&&this.getConfirmationButtons())}}return ot(t,"getDerivedStateFromProps",(e,t)=>({hasConfirmationButtons:ut(e.row).hasConfirmationButtons(e.row)})),t.propTypes=lt,t.defaultProps=st,t},pt=n(278),mt=n(272);var ft=function(e){function t(e){var n;s()(this,t),(n=p()(this,f()(t).call(this,e))).finishBaselineEdit=n.finishBaselineEdit.bind(R()(R()(n))),n.addFact=n.addFact.bind(R()(R()(n))),n.renderAddNewFact=n.renderAddNewFact.bind(R()(R()(n))),n.renderEditBaselineName=n.renderEditBaselineName.bind(R()(R()(n))),n.props.fetchBaselineData(n.props.baselineUUID),n.makeId=function(e){var t=e.column,n=e.rowIndex,a=e.columnIndex,i=e.name;return"".concat(t.property,"-").concat(n,"-").concat(a).concat(i?"-".concat(i):"")};var a,i=function(e,t){var a=t.column,i=t.rowIndex,r=t.rowData,o=t.columnIndex,l=t.activeEditId;return E.a.createElement(ie.a,null,r.data.modules.map(function(e,t){var r={marginLeft:t&&"1em",display:"inline-block",width:"48%"},s=n.makeId({rowIndex:i,columnIndex:o,column:a,name:"module-".concat(t)});return E.a.createElement(Ee,{id:s,key:s,defaultValue:e,style:r,onBlur:function(e){return n.onChange(e,{rowIndex:i,moduleIndex:t})},autoFocus:l===s})}))},r=function(e,t){var a=t.column,i=t.rowIndex,r=t.columnIndex,o=t.activeEditId,l=n.makeId({rowIndex:i,columnIndex:r,column:a,name:"parent-repo"});return E.a.createElement(Ee,{id:l,key:l,defaultValue:e,onBlur:function(e){return n.onChange(e,{rowIndex:i,columnIndex:r})},autoFocus:o===l})},o=ve({renderValue:function(e,t){var n=t.rowData;return n.hasOwnProperty("parent")?E.a.createElement(ie.a,null,n.data.modules.filter(function(e){return e}).join(", ")):e},renderEdit:function(e,t,n){var a=t.column,o=t.columnIndex,l=t.rowIndex,s=t.rowData,c=n.activeEditId;return(s.hasOwnProperty("parent")?i:r)(e,{rowData:s,column:a,rowIndex:l,columnIndex:o,activeEditId:c})}}),l=ae()(new Array(5)).map(function(){return ae()(new Array(2)).map(function(e){return E.a.createElement(C.Skeleton,{key:e,size:C.SkeletonSize.md})})});return a=n.props.baselineData?n.props.baselineData.display_name:"",n.state={loadingColumns:["Fact","Value"],columns:[{title:"Fact",cellFormatters:[o]},{title:"Value",cellFormatters:[o]}],rows:l,editedRowsBackup:null,activeEditId:null,baselineName:a,factName:"",valueName:"",showAddNewFact:!1,showAddNewParentFact:!1,parentRowId:void 0,isEditingBaselineName:!1},n.changeBaselineName=function(e){n.setState({baselineName:e})},n.changeFactName=function(e){n.setState({factName:e})},n.changeValueName=function(e){n.setState({valueName:e})},n.submitBaselineName=function(){var e=n.state.baselineName,t=n.props,a={display_name:e};(0,t.patchBaseline)(t.baselineData.id,a),n.clearFactAndValueData(),n.toggleIsEditingBaselineName()},n.onChange=function(e,t){var a=t.rowIndex,i=t.columnIndex,r=t.moduleIndex;n.setState(function(t){var o=t.rows,l=n.props,s=l.baselineData,c=l.patchBaseline,u=(o=ae()(o))[a];if(null!=r)u.data.modules[r]=e;else{var d=i-1;u.cells[d]=e}var p=n.buildApiBody(o,a);return c(s.id,p),{rows:o,activeEditId:null}})},n.buildApiBody=function(e,t){var n=e[t],a={},i=[];if(n.parent||0===n.parent){var r=e[n.parent],o=e.filter(function(n){return n.parent===e[t].parent}).map(function(e){return{name:e.data.modules[0],value:e.data.modules[1]}});i.push({name:r.cells[0],values:o}),a.baseline_facts=i}else i.push({name:n.cells[0],value:n.cells[1]}),a.baseline_facts=i;return a},n.onEditCellClicked=function(e,t,a){var i=a.rowIndex,r=a.columnIndex,o=a.elementId;o!==n.state.activeEditId&&t.isEditing&&4!==r&&n.setState(function(e){var t=e.rows;return{activeEditId:o,rows:t.map(function(e,t){return t===i&&0===r&&e.hasOwnProperty("isOpen")&&(e.isOpen=!e.isOpen),e})}})},n.getParentId=function(e,t){return void 0===t[e].parent?e:t[e].parent},n.getChildId=function(e,t){return void 0===t[e].parent?t.map(function(t,n){return t.parent===e?n:null}).find(function(e){return null!==e}):e},n.onEditActionClick=function(e,t){n.setState(function(e){var n=e.rows;if(!e.editedRowBackup){var a=te()({},t,n[t]);return{editedRowsBackup:JSON.parse(JSON.stringify(a)),rows:n.map(function(e,t){return e.isEditing=!!a[t],e})}}})},n.onEditConfirmed=function(){n.setState(function(e){var t=e.rows,n=e.editedRowsBackup;return t=ae()(t),Object.keys(n).forEach(function(e){t[e].isEditing=!1}),{rows:t,editedRowsBackup:null,activeEditId:null}})},n.onEditCanceled=function(){n.setState(function(e){var t=e.rows,n=e.editedRowsBackup;return t=ae()(t),Object.keys(n).forEach(function(e){t[e]=n[e]}),{rows:t,editedRowsBackup:null,activeEditId:null}})},n.onCollapse=function(e,t,a){var i=n.state.rows;i[t].isOpen=a,n.setState({rows:i})},n.onNewFactActionClick=function(e,t){n.setState({parentRowId:t,showAddNewFact:!0})},n.actionResolver=function(e){return e.isTableEditing?null:""===e.cells[1]?[{title:"Add fact",onClick:n.onNewFactActionClick}]:[{title:"Edit",onClick:n.onEditActionClick}]},n.toggleNewFact=function(){var e=n.state.showAddNewFact;n.setState({showAddNewFact:!e,factName:"",valueName:""})},n.toggleNewParentFact=function(){var e=n.state.showAddNewParentFact;n.setState({showAddNewParentFact:!e,factName:""})},n.clearFactAndValueData=function(){n.setState({factName:"",valueName:"",showAddNewFact:!1,showAddNewParentFact:!1,parentRowId:void 0})},n.toggleIsEditingBaselineName=function(){var e=n.state.isEditingBaselineName;n.setState({isEditingBaselineName:!e})},n}return g()(t,e),u()(t,[{key:"finishBaselineEdit",value:function(){(0,this.props.clearBaselineData)()}},{key:"renderAddNewFact",value:function(){var e=this.state,t=e.showAddNewFact,n=e.showAddNewParentFact,a=e.factName,i=e.valueName;return t||n?E.a.createElement(E.a.Fragment,null,E.a.createElement(N.a,{className:"display-margin"},E.a.createElement(k.a,null,E.a.createElement(T.a,null,"Fact:",E.a.createElement(W.a,{value:a,type:"text",onChange:this.changeFactName,"aria-label":"fact name"})),t?E.a.createElement(T.a,null,"Value:",E.a.createElement(W.a,{value:i,type:"text",onChange:this.changeValueName,"aria-label":"value name"})):null)),E.a.createElement(N.a,{className:"display-margin"},E.a.createElement(k.a,null,E.a.createElement(T.a,null,E.a.createElement(S.a,{variant:"primary",onClick:this.addFact},"Submit")),E.a.createElement(T.a,null,t?E.a.createElement(S.a,{variant:"danger",onClick:this.toggleNewFact},"Cancel"):E.a.createElement(S.a,{variant:"danger",onClick:this.toggleNewParentFact},"Cancel"))))):E.a.createElement(N.a,{className:"display-margin"},E.a.createElement(k.a,null,E.a.createElement(T.a,null,E.a.createElement(S.a,{variant:"primary",onClick:this.toggleNewParentFact},E.a.createElement(pt.a,null),"Add Parent Fact"))),E.a.createElement(k.a,null,E.a.createElement(T.a,null,E.a.createElement(S.a,{variant:"primary",onClick:this.toggleNewFact},E.a.createElement(pt.a,null),"Add Fact"))))}},{key:"addFact",value:function(){var e,t=this.state,n=t.factName,a=t.valueName,i=t.parentRowId,r=t.rows,o=this.props,l=o.baselineData,s=o.patchBaseline;if(a)if(i||0===i){var c=r[i],u=[],d=r.filter(function(e){return e.parent===i}).map(function(e){return{name:e.data.modules[0],value:e.data.modules[1]}});d.push({name:n,value:a}),u.push({name:c.cells[0],values:d}),e={baseline_facts:u}}else e={baseline_facts:[{name:n,value:a}]};else e={baseline_facts:[{name:n,values:[]}]};s(l.id,e),this.clearFactAndValueData()}},{key:"renderEditBaselineName",value:function(){var e=this.state,t=e.isEditingBaselineName,n=e.baselineName;return t?E.a.createElement(N.a,{className:"display-margin"},E.a.createElement(U.a,null,E.a.createElement(W.a,{value:n,type:"text",onChange:this.changeBaselineName,"aria-label":"baseline name"}),E.a.createElement(S.a,{onClick:this.submitBaselineName},"Submit"),E.a.createElement(S.a,{variant:"danger",onClick:this.toggleIsEditingBaselineName},"Cancel"))):E.a.createElement("div",{className:"display-margin"},n," ",E.a.createElement(mt.a,{className:"not-active",onClick:this.toggleIsEditingBaselineName}))}},{key:"render",value:function(){var e=this.state,t=e.activeEditId,n=e.loadingColumns,a=e.columns,i=e.rows,r=this.props.baselineData,o={activeEditId:t,onEditCellClicked:this.onEditCellClicked,editConfirmationType:we.ROW,onEditConfirmed:this.onEditConfirmed,onEditCanceled:this.onEditCanceled},l=Ve(re.a),s=dt(oe.a);return E.a.createElement(E.a.Fragment,null,this.renderEditBaselineName(),r?E.a.createElement(le.d,{cells:a,rows:i,rowWrapper:s,onCollapse:this.onCollapse,actionResolver:this.actionResolver},E.a.createElement(se.a,null),E.a.createElement(l,{editConfig:o})):E.a.createElement(le.d,{cells:n,rows:i},E.a.createElement(se.a,null),E.a.createElement(re.a,null)),E.a.createElement("br",null),this.renderAddNewFact(),E.a.createElement(S.a,{className:"button-margin margin-right",style:{float:"right"},variant:"primary",onClick:this.finishBaselineEdit},"Finish"))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.baselineData&&e.baselineDataLoading!==t.baselineDataLoading)return{rows:(n=e.baselineData,a=[],i=0,n?n.baseline_facts.forEach(function(e){var t=[],n=i;t.push(e.name),e.values?(t.push(""),a.push({cells:t,isOpen:!1}),e.values.forEach(function(e){var t=[];i++,t.push(e.name),t.push(e.value),a.push({cells:[null],data:{modules:t},parent:n})}),i++):(t.push(e.value),a.push({cells:t,isOpen:!1}),i++)}):a=[],a),baselineName:e.baselineData.display_name,baselineDataLoading:e.baselineDataLoading};var n,a,i}}]),t}(h.Component);ft.propTypes={toggleCreateBaseline:w.a.func,clearBaselineData:w.a.func,baselineUUID:w.a.string,baselineData:w.a.object,baselineDataLoading:w.a.bool,patchBaseline:w.a.func,fetchBaselineData:w.a.func};var bt=Object(y.connect)(function(e){return{baselineUUID:e.baselinesTableState.baselineUUID,baselineData:e.baselinesTableState.baselineData,baselineDataLoading:e.baselinesTableState.baselineDataLoading}},function(e){return{fetchBaselineData:function(t){return e(z.a.fetchBaselineData(t))},toggleCreateBaseline:function(){return e(x.toggleCreateBaseline())},clearBaselineData:function(){return e(z.a.clearBaselineData())},patchBaseline:function(t,n){return e(z.a.patchBaseline(t,n))}}})(ft),gt=function(e){function t(e){return s()(this,t),p()(this,f()(t).call(this,e))}var n;return g()(t,e),u()(t,[{key:"componentDidMount",value:(n=o()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.insights.chrome.auth.getUser();case 2:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"render",value:function(){var e=this.props,t=e.creatingNewBaseline,n=e.baselineUUID;return E.a.createElement(E.a.Fragment,null,E.a.createElement(C.PageHeader,null,E.a.createElement(C.PageHeaderTitle,{title:"Baselines"})),E.a.createElement(C.Main,null,E.a.createElement(O.a,{className:"pf-t-light pf-m-opaque-100"},t?E.a.createElement(B.a,null,E.a.createElement("div",null,E.a.createElement(J,null))):null,""!==n?E.a.createElement(B.a,null,E.a.createElement("div",null,E.a.createElement(bt,null))):null,t||""!==n?null:E.a.createElement(B.a,null,E.a.createElement(N.a,{className:"drift-toolbar"},E.a.createElement(k.a,null,E.a.createElement(T.a,null,E.a.createElement(j,null)),E.a.createElement(T.a,null,E.a.createElement(Z,{exportType:"baseline list"})))),E.a.createElement("div",null,E.a.createElement(P.a,null))))))}}]),t}(h.Component);gt.propTypes={creatingNewBaseline:w.a.bool,baselineUUID:w.a.string};t.default=Object(y.connect)(function(e){return{creatingNewBaseline:e.baselinesPageState.creatingNewBaseline,baselineUUID:e.baselinesTableState.baselineUUID}},null)(gt)}}]);
//# sourceMappingURL=../sourcemaps/4.js.map