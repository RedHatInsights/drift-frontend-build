{"version":3,"sources":["webpack://drift-frontend/./src/SmartComponents/BaselinesPage/CreateBaselineModal/CreateBaselineModal.js","webpack://drift-frontend/./src/SmartComponents/BaselinesPage/BaselinesPage.js"],"names":["CreateBaselineModal","props","onSelect","event","isSelected","rowId","baselineTableData","selectBaseline","cancelModal","toggleCreateBaselineModal","clearSelectedBaselines","updateBaselineName","checkKeyPress","key","preventDefault","state","baselineName","submitBaselineName","renderModalBody","modalBody","copyBaselineChecked","copySystemChecked","createBaselineError","renderCopyBaseline","renderCopySystem","renderRadioButtons","className","Form","FormGroup","label","isRequired","type","helperTextInvalid","Object","prototype","hasOwnProperty","call","detail","fieldId","validated","onKeyPress","TextInput","placeholder","value","onChange","ValidatedOptions","aria-label","bind","fromScratchChecked","columns","title","transforms","sortable","cellWidth","setState","handleChecked","_","currentTarget","selectedKey","this","radioChecked","keys","forEach","substring","length","toLowerCase","createBaseline","selectedBaselineIds","history","entities","selectedHSPIds","newBaselineObject","display_name","baseline_facts","selectedSystemIds","inventory_uuid","hsp_uuid","push","baselineData","id","Radio","isChecked","ouiaId","name","createBaselineModalOpened","hasReadPermissions","hasWritePermissions","loading","totalBaselines","BaselinesTable","tableId","tableData","hasMultiSelect","hasInventoryReadPermissions","historicalProfiles","SystemsTable","createBaselineModal","hasHistoricalDropdown","selectVariant","undefined","Button","variant","isDisabled","findSelectedRadio","onClick","globalFilterState","Modal","width","isOpen","onClose","actions","renderActions","GlobalFilterAlert","status","Alert","isInline","Component","propTypes","PropTypes","updatePagination","withRouter","connect","createBaselineModalState","baselinesTableState","radioTable","emptyState","compareState","historicProfilesState","dispatch","createBaselineModalActions","uuid","baselinesTableActions","BaselinesPage","fetchBaseline","baselineId","map","item","onBulkSelect","ids","baseline","renderEmptyState","hasBaselinesWritePermissions","baselineError","revertBaselineFetch","emptyStateMessage","errorMessage","EmptyStateDisplay","icon","ExclamationCircleIcon","color","text","error","button","UndoIcon","AddCircleOIcon","CreateBaselineButton","window","insights","chrome","auth","getUser","appAction","clearEditBaselineData","CardBody","kebab","createButton","exportButton","permissions","inventoryRead","baselinesRead","baselinesWrite","PageHeader","PageHeaderTitle","Main","LockIcon","ErrorAlert","Card","renderTable","checkboxTable","editBaselineActions"],"mappings":"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","file":"js/33.d59bb6aa5322c5bb5777.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { Alert, Button, Modal, Radio, TextInput, Form, FormGroup, ValidatedOptions } from '@patternfly/react-core';\nimport { sortable, cellWidth } from '@patternfly/react-table';\n\nimport SystemsTable from '../../SystemsTable/SystemsTable';\nimport BaselinesTable from '../../BaselinesTable/BaselinesTable';\nimport GlobalFilterAlert from '../../GlobalFilterAlert/GlobalFilterAlert';\nimport { createBaselineModalActions } from './redux';\nimport { baselinesTableActions } from '../../BaselinesTable/redux';\n\nexport class CreateBaselineModal extends Component {\n    constructor(props) {\n        super(props);\n\n        this.submitBaselineName = this.submitBaselineName.bind(this);\n\n        this.state = {\n            baselineName: '',\n            fromScratchChecked: true,\n            copyBaselineChecked: false,\n            copySystemChecked: false,\n            columns: [\n                { title: 'Name', transforms: [ sortable ]},\n                { title: 'Last updated', transforms: [ sortable, cellWidth(40) ]}\n            ]\n        };\n\n        this.updateBaselineName = value => {\n            this.setState({ baselineName: value });\n        };\n\n        this.handleChecked = (_, event) => {\n            const value = event.currentTarget.value;\n            this.props.clearSelectedBaselines('RADIO');\n\n            if (value === 'fromScratchChecked') {\n                this.setState({ fromScratchChecked: true, copyBaselineChecked: false, copySystemChecked: false });\n            } else if (value === 'copyBaselineChecked') {\n                this.setState({ fromScratchChecked: false, copyBaselineChecked: true, copySystemChecked: false });\n            } else {\n                this.setState({ fromScratchChecked: false, copyBaselineChecked: false, copySystemChecked: true });\n            }\n        };\n    }\n\n    findSelectedRadio() {\n        const { copyBaselineChecked, copySystemChecked, fromScratchChecked } = this.state;\n        const radioChecked = { copyBaselineChecked, copySystemChecked, fromScratchChecked };\n        let keys = Object.keys(radioChecked);\n        let selectedKey;\n\n        keys.forEach(function(key) {\n            if (radioChecked[key]) {\n                selectedKey = key.substring(0, key.length - 7).toLowerCase();\n            }\n        });\n\n        return selectedKey;\n    }\n\n    async submitBaselineName() {\n        const { baselineName, fromScratchChecked, copyBaselineChecked, copySystemChecked } = this.state;\n        const { createBaseline, toggleCreateBaselineModal, selectedBaselineIds,\n            history, entities, clearSelectedBaselines, selectedHSPIds } = this.props;\n\n        /*eslint-disable camelcase*/\n        let newBaselineObject = { display_name: baselineName };\n\n        try {\n            if (baselineName !== '') {\n                if (fromScratchChecked) {\n                    newBaselineObject.baseline_facts = [];\n                    await createBaseline(newBaselineObject);\n                } else if (selectedBaselineIds.length === 1 && copyBaselineChecked) {\n                    newBaselineObject = { display_name: baselineName };\n                    await createBaseline(newBaselineObject, selectedBaselineIds[0]);\n                } else if (entities.selectedSystemIds.length === 1 && copySystemChecked) {\n                    newBaselineObject.inventory_uuid = entities.selectedSystemIds[0];\n                    await createBaseline(newBaselineObject);\n                } else if (selectedHSPIds.length === 1 && copySystemChecked) {\n                    newBaselineObject.hsp_uuid = selectedHSPIds[0];\n                    await createBaseline(newBaselineObject);\n                }\n\n                history.push('baselines/' + this.props.baselineData.id);\n                toggleCreateBaselineModal();\n                clearSelectedBaselines('RADIO');\n            }\n        } catch (e) {\n            // do nothing and let redux handle\n        }\n        /*eslint-enable camelcase*/\n    }\n\n    onSelect = (event, isSelected, rowId) => {\n        const { baselineTableData, selectBaseline } = this.props;\n\n        let id = [ baselineTableData[rowId][0] ];\n        selectBaseline(id, isSelected, 'RADIO');\n    }\n\n    cancelModal = () => {\n        const { toggleCreateBaselineModal, clearSelectedBaselines } = this.props;\n\n        this.updateBaselineName('');\n        clearSelectedBaselines('RADIO');\n        toggleCreateBaselineModal();\n    }\n\n    renderRadioButtons() {\n        const { fromScratchChecked, copyBaselineChecked, copySystemChecked } = this.state;\n\n        return (<React.Fragment>\n            <Radio\n                isChecked={ fromScratchChecked }\n                id='create baseline'\n                ouiaId='create-baseline-from-scratch-radio'\n                name='baseline-create-options'\n                label='Create baseline from scratch'\n                value='fromScratchChecked'\n                onChange={ this.handleChecked }\n            />\n            <Radio\n                isChecked={ copyBaselineChecked }\n                id='copy baseline'\n                ouiaId='create-baseline-copy-baseline-radio'\n                name='baseline-create-options'\n                label='Copy an existing baseline'\n                value='copyBaselineChecked'\n                onChange={ this.handleChecked }\n            />\n            <Radio\n                isChecked={ copySystemChecked }\n                id='copy system'\n                ouiaId='create-baseline-copy-system-radio'\n                name='baseline-create-options'\n                label='Copy an existing system'\n                value='copySystemChecked'\n                onChange={ this.handleChecked }\n            />\n        </React.Fragment>\n        );\n    }\n\n    renderCopyBaseline() {\n        const { baselineTableData, createBaselineModalOpened, hasReadPermissions, hasWritePermissions, loading, totalBaselines } = this.props;\n        const { columns } = this.state;\n\n        return (<React.Fragment>\n            <b>Select baseline to copy from</b>\n            <BaselinesTable\n                tableId='RADIO'\n                onSelect={ this.onSelect }\n                tableData={ baselineTableData }\n                loading={ loading }\n                createBaselineModalOpened={ createBaselineModalOpened }\n                columns={ columns }\n                totalBaselines={ totalBaselines }\n                hasReadPermissions={ hasReadPermissions }\n                hasWritePermissions={ hasWritePermissions }\n                hasMultiSelect={ false }\n            />\n        </React.Fragment>\n        );\n    }\n\n    renderCopySystem() {\n        const { hasInventoryReadPermissions, entities, historicalProfiles } = this.props;\n\n        return (<React.Fragment>\n            <b>Select system to copy from</b>\n            <br></br>\n            <SystemsTable\n                selectedSystemIds={ [] }\n                createBaselineModal={ true }\n                hasHistoricalDropdown={ true }\n                hasMultiSelect={ false }\n                historicalProfiles={ historicalProfiles }\n                hasInventoryReadPermissions={ hasInventoryReadPermissions }\n                entities={ entities }\n                selectVariant='radio'\n            />\n        </React.Fragment>\n        );\n    }\n\n    checkKeyPress = (event) => {\n        if (event.key === 'Enter') {\n            event.preventDefault();\n            this.state.baselineName ? this.submitBaselineName() : null;\n        }\n    }\n\n    renderModalBody = () => {\n        const { baselineName, copyBaselineChecked, copySystemChecked } = this.state;\n        const { createBaselineError } = this.props;\n        let modalBody;\n\n        if (copyBaselineChecked) {\n            modalBody = this.renderCopyBaseline();\n        } else if (copySystemChecked) {\n            modalBody = this.renderCopySystem();\n        }\n\n        return (<React.Fragment>\n            { this.renderRadioButtons() }\n            <div className='md-padding-top md-padding-bottom'>\n                <Form>\n                    <FormGroup\n                        label='Baseline name'\n                        isRequired\n                        type=\"text\"\n                        helperTextInvalid={ Object.prototype.hasOwnProperty.call(createBaselineError, 'detail') ? createBaselineError.detail : null }\n                        fieldId=\"name\"\n                        validated={ Object.prototype.hasOwnProperty.call(createBaselineError, 'status') ? 'error' : null }\n                        onKeyPress={ this.checkKeyPress }\n                    >\n                        <TextInput\n                            className=\"fact-value\"\n                            placeholder=\"Baseline name\"\n                            value={ baselineName }\n                            type=\"text\"\n                            onChange={ this.updateBaselineName }\n                            validated={ Object.prototype.hasOwnProperty.call(createBaselineError, 'status') ? ValidatedOptions.error : null }\n                            aria-label=\"baseline name\"\n                        />\n                    </FormGroup>\n                </Form>\n            </div>\n            { modalBody }\n        </React.Fragment>\n        );\n    }\n\n    renderActions() {\n        const { selectedBaselineIds, selectedHSPIds, entities } = this.props;\n        const { baselineName, copyBaselineChecked, copySystemChecked } = this.state;\n        let actions;\n        let selectedSystemIds = entities === undefined || entities.selectedSystemIds === undefined ? [] : entities.selectedSystemIds;\n\n        if (baselineName === ''\n            || (copyBaselineChecked && selectedBaselineIds.length === 0)\n            || (copySystemChecked &&\n                (selectedSystemIds.length === 0 && selectedHSPIds.length === 0)\n            )\n        ) {\n            actions = [\n                <Button\n                    key=\"confirm\"\n                    variant=\"primary\"\n                    isDisabled\n                    ouiaId={ 'create-baseline-button-' + this.findSelectedRadio() }\n                >\n                    Create baseline\n                </Button>,\n                <Button\n                    key=\"cancel\"\n                    variant=\"link\"\n                    onClick={ this.cancelModal }\n                    ouiaId=\"create-baseline-modal-cancel-button\"\n                >\n                    Cancel\n                </Button>\n            ];\n        } else {\n            actions = [\n                <Button\n                    key=\"confirm\"\n                    variant=\"primary\"\n                    onClick={ this.submitBaselineName }\n                    ouiaId={ 'create-baseline-button-' + this.findSelectedRadio() }\n                >\n                    Create baseline\n                </Button>,\n                <Button\n                    key=\"cancel\"\n                    variant=\"link\"\n                    onClick={ this.cancelModal }\n                    ouiaId=\"create-baseline-modal-cancel-button\"\n                >\n                    Cancel\n                </Button>\n            ];\n        }\n\n        return actions;\n    }\n\n    render() {\n        const { createBaselineError, createBaselineModalOpened, globalFilterState } = this.props;\n        const { copySystemChecked } = this.state;\n\n        return (\n            <Modal\n                className=\"drift\"\n                width=\"1200px\"\n                title=\"Create baseline\"\n                isOpen={ createBaselineModalOpened }\n                onClose={ this.cancelModal }\n                actions={ this.renderActions() }\n            >\n                { copySystemChecked\n                    ? <GlobalFilterAlert globalFilterState={ globalFilterState }/>\n                    : null\n                }\n                { createBaselineError.status\n                    ? <Alert\n                        variant='danger'\n                        isInline\n                        title={ 'Status: ' + createBaselineError.status }\n                        ouiaId=\"status\"\n                    >\n                        <p>\n                            { createBaselineError.detail }\n                        </p>\n                    </Alert>\n                    : <div></div>\n                }\n                { this.renderModalBody() }\n            </Modal>\n        );\n    }\n}\n\nCreateBaselineModal.propTypes = {\n    createBaselineModalOpened: PropTypes.bool,\n    createBaseline: PropTypes.func,\n    selectBaseline: PropTypes.func,\n    history: PropTypes.object,\n    baselineData: PropTypes.object,\n    toggleCreateBaselineModal: PropTypes.func,\n    clearSelectedBaselines: PropTypes.func,\n    entities: PropTypes.object,\n    selectedBaselineIds: PropTypes.array,\n    createBaselineError: PropTypes.object,\n    baselineTableData: PropTypes.array,\n    loading: PropTypes.bool,\n    totalBaselines: PropTypes.number,\n    updatePagination: PropTypes.func,\n    historicalProfiles: PropTypes.array,\n    selectedHSPIds: PropTypes.array,\n    hasInventoryReadPermissions: PropTypes.bool,\n    hasReadPermissions: PropTypes.bool,\n    hasWritePermissions: PropTypes.bool,\n    globalFilterState: PropTypes.object\n};\n\nfunction mapStateToProps(state) {\n    return {\n        createBaselineModalOpened: state.createBaselineModalState.createBaselineModalOpened,\n        baselineData: state.createBaselineModalState.baselineData,\n        entities: state.entities,\n        selectedBaselineIds: state.baselinesTableState.radioTable.selectedBaselineIds,\n        createBaselineError: state.createBaselineModalState.createBaselineError,\n        loading: state.baselinesTableState.radioTable.loading,\n        emptyState: state.baselinesTableState.radioTable.emptyState,\n        baselineTableData: state.baselinesTableState.radioTable.baselineTableData,\n        totalBaselines: state.baselinesTableState.radioTable.totalBaselines,\n        historicalProfiles: state.compareState.historicalProfiles,\n        selectedHSPIds: state.historicProfilesState.selectedHSPIds,\n        globalFilterState: state.globalFilterState\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        toggleCreateBaselineModal: () => dispatch(createBaselineModalActions.toggleCreateBaselineModal()),\n        createBaseline: (newBaselineObject, uuid) => dispatch(createBaselineModalActions.createBaseline(newBaselineObject, uuid)),\n        selectBaseline: (id, isSelected, tableId) => dispatch(baselinesTableActions.selectBaseline(id, isSelected, tableId)),\n        clearSelectedBaselines: (tableId) => dispatch(baselinesTableActions.clearSelectedBaselines(tableId))\n    };\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(CreateBaselineModal));\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\n\nimport { Main, PageHeader, PageHeaderTitle } from '@redhat-cloud-services/frontend-components';\nimport { Card, CardBody } from '@patternfly/react-core';\nimport { AddCircleOIcon, ExclamationCircleIcon, LockIcon, UndoIcon } from '@patternfly/react-icons';\nimport { sortable, cellWidth } from '@patternfly/react-table';\n\nimport BaselinesTable from '../BaselinesTable/BaselinesTable';\nimport CreateBaselineButton from './CreateBaselineButton/CreateBaselineButton';\nimport CreateBaselineModal from './CreateBaselineModal/CreateBaselineModal';\nimport EmptyStateDisplay from '../EmptyStateDisplay/EmptyStateDisplay';\nimport ErrorAlert from '../ErrorAlert/ErrorAlert';\nimport { baselinesTableActions } from '../BaselinesTable/redux';\nimport { editBaselineActions } from './EditBaseline/redux';\nimport { PermissionContext } from '../../App';\n\nexport class BaselinesPage extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            columns: [\n                { title: 'Name', transforms: [ sortable, cellWidth(40) ]},\n                { title: 'Last updated', transforms: [ sortable, cellWidth(45) ]},\n                { title: '', transforms: [ cellWidth(5) ]}\n            ],\n            emptyStateMessage: [\n                'You currently have no baselines displayed.',\n                'Create a baseline to use in your Comparison analysis.'\n            ],\n            errorMessage: [ 'The list of baselines cannot be displayed at this time. Please retry and if',\n                'the problem persists contact your system administrator.',\n                ''\n            ]\n        };\n    }\n\n    async componentDidMount() {\n        await window.insights.chrome.auth.getUser();\n        await window.insights?.chrome?.appAction?.('baseline-list');\n    }\n\n    fetchBaseline = (baselineId) => {\n        const { history } = this.props;\n\n        history.push('baselines/' + baselineId);\n    }\n\n    onSelect = (event, isSelected, rowId) => {\n        const { baselineTableData, selectBaseline } = this.props;\n        let ids;\n\n        if (rowId === -1) {\n            ids = baselineTableData.map(function(item) {\n                return item[0];\n            });\n        } else {\n            ids = [ baselineTableData[rowId][0] ];\n        }\n\n        selectBaseline(ids, isSelected, 'CHECKBOX');\n    }\n\n    onBulkSelect = (isSelected) => {\n        const { baselineTableData, selectBaseline } = this.props;\n        let ids = [];\n\n        baselineTableData.forEach(function(baseline) {\n            ids.push(baseline[0]);\n        });\n\n        selectBaseline(ids, isSelected, 'CHECKBOX');\n    }\n\n    renderTable(hasReadPermissions, hasWritePermissions) {\n        const { baselineTableData, loading, createBaselineModalOpened, clearEditBaselineData, selectedBaselineIds,\n            totalBaselines } = this.props;\n        const { columns } = this.state;\n\n        clearEditBaselineData();\n\n        return (\n            <CardBody>\n                <div>\n                    <BaselinesTable\n                        tableId='CHECKBOX'\n                        hasMultiSelect={ true }\n                        onSelect={ this.onSelect }\n                        tableData={ baselineTableData }\n                        loading={ loading }\n                        columns={ columns }\n                        kebab={ true }\n                        createButton={ true }\n                        exportButton={ true }\n                        onClick={ this.fetchBaseline }\n                        createBaselineModalOpened={ createBaselineModalOpened }\n                        onBulkSelect={ this.onBulkSelect }\n                        selectedBaselineIds={ selectedBaselineIds }\n                        totalBaselines={ totalBaselines }\n                        hasReadPermissions={ hasReadPermissions }\n                        hasWritePermissions={ hasWritePermissions }\n                    />\n                </div>\n            </CardBody>\n        );\n    }\n\n    renderEmptyState = (hasBaselinesWritePermissions) => {\n        const { baselineError, emptyState, loading, revertBaselineFetch } = this.props;\n        const { emptyStateMessage, errorMessage } = this.state;\n\n        if (!baselineError.status) {\n            return <EmptyStateDisplay\n                icon={ AddCircleOIcon }\n                title={ 'No baselines' }\n                text={ emptyStateMessage }\n                button={ <CreateBaselineButton\n                    emptyState={ emptyState }\n                    hasWritePermissions={ hasBaselinesWritePermissions }\n                    loading={ loading } /> }\n            />;\n        } else if (baselineError.status !== 200 && baselineError.status !== undefined) {\n            return <EmptyStateDisplay\n                icon={ ExclamationCircleIcon }\n                color='#c9190b'\n                title={ 'Baselines cannot be displayed' }\n                text={ errorMessage }\n                error={ 'Error ' + baselineError.status + ': ' + baselineError.detail }\n                button={ <a onClick={ () => revertBaselineFetch('CHECKBOX') }>\n                    <UndoIcon className='reload-button' />\n                        Retry\n                </a> }\n            />;\n        }\n    }\n\n    render() {\n        const { baselineError, emptyState, loading, revertBaselineFetch } = this.props;\n\n        return (\n            <PermissionContext.Consumer>\n                { value =>\n                    <React.Fragment>\n                        <CreateBaselineModal\n                            hasInventoryReadPermissions={ value.permissions.inventoryRead }\n                            hasReadPermissions={ value.permissions.baselinesRead }\n                            hasWritePermissions={ value.permissions.baselinesWrite }\n                        />\n                        <PageHeader>\n                            <PageHeaderTitle title='Baselines'/>\n                        </PageHeader>\n                        <Main>\n                            { value.permissions.baselinesRead === false\n                                ? <EmptyStateDisplay\n                                    icon={ LockIcon }\n                                    color='#6a6e73'\n                                    title={ 'You do not have access to Baselines' }\n                                    text={ [ 'Contact your organization administrator(s) for more information.' ] }\n                                />\n                                : emptyState && !loading\n                                    ? this.renderEmptyState(value.permissions.baselinesWrite)\n                                    : <React.Fragment>\n                                        <ErrorAlert\n                                            error={ !emptyState && baselineError ? baselineError : {} }\n                                            onClose={ revertBaselineFetch }\n                                            tableId={ 'CHECKBOX' }\n                                        />\n                                        <Card className='pf-t-light pf-m-opaque-100'>\n                                            {\n                                                this.renderTable(value.permissions.baselinesRead, value.permissions.baselinesWrite)\n                                            }\n                                        </Card>\n                                    </React.Fragment>\n                            }\n                        </Main>\n                    </React.Fragment>\n                }\n            </PermissionContext.Consumer>\n        );\n    }\n}\n\nBaselinesPage.propTypes = {\n    loading: PropTypes.bool,\n    baselineTableData: PropTypes.array,\n    emptyState: PropTypes.bool,\n    createBaselineModalOpened: PropTypes.bool,\n    selectBaseline: PropTypes.func,\n    history: PropTypes.object,\n    baselineError: PropTypes.object,\n    revertBaselineFetch: PropTypes.func,\n    clearEditBaselineData: PropTypes.func,\n    selectedBaselineIds: PropTypes.array,\n    totalBaselines: PropTypes.number\n};\n\nfunction mapStateToProps(state) {\n    return {\n        loading: state.baselinesTableState.checkboxTable.loading,\n        emptyState: state.baselinesTableState.checkboxTable.emptyState,\n        baselineTableData: state.baselinesTableState.checkboxTable.baselineTableData,\n        createBaselineModalOpened: state.createBaselineModalState.createBaselineModalOpened,\n        baselineError: state.baselinesTableState.checkboxTable.baselineError,\n        selectedBaselineIds: state.baselinesTableState.checkboxTable.selectedBaselineIds,\n        totalBaselines: state.baselinesTableState.checkboxTable.totalBaselines\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        selectBaseline: (id, isSelected, tableId) => dispatch(baselinesTableActions.selectBaseline(id, isSelected, tableId)),\n        revertBaselineFetch: (tableId) => dispatch(baselinesTableActions.revertBaselineFetch(tableId)),\n        clearEditBaselineData: () => dispatch(editBaselineActions.clearEditBaselineData())\n    };\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(BaselinesPage));\n"],"sourceRoot":""}