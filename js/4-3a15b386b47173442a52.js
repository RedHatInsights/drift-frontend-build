(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{342:function(e,t,a){
/** @license MIT License (c) copyright 2010-2014 original author or authors */
var n=a(566);t.find=function(e,t,a,o){if("string"!=typeof t)return;if(""===t)return{target:e,key:void 0};if(t===r)return{target:e,key:""};var l,i=e,c=void 0!==o;return n(t,function(t){if(null==e)return i=null,!1;l=Array.isArray(e)?c?function(e,t,a,n){var r=t;if(r<0)throw new Error("array index out of bounds "+r);if(void 0!==n&&"function"==typeof e&&(r=e(t,a,n))<0)throw new Error("could not find patch context "+n);return r}(a,d(t),e,o):"-"===t?t:d(t):t,i=e,e=e[l]}),null===i?void 0:{target:i,key:l}},t.join=function(e){return e.join(r)},t.absolute=function(e){return e[0]===r?e:r+e},t.parse=function(e){var t=[];return n(e,t.push.bind(t)),t},t.contains=function(e,t){return 0===t.indexOf(e)&&t[e.length]===r},t.encodeSegment=function(e){return e.replace(u,s).replace(o,l)},t.decodeSegment=function(e){return e.replace(i,r).replace(p,c)},t.parseArrayIndex=d,t.isValidArrayIndex=h;var r="/",o=/\//g,l="~1",i=/~1/g,c="~",u=/~/g,s="~0",p=/~0/g;var f=/^(0|[1-9]\d*)$/;function h(e){return f.test(e)}function d(e){if(h(e))return+e;throw new SyntaxError("invalid array index "+e)}},343:function(e,t){function a(e){Error.call(this),this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}e.exports=a,a.prototype=Object.create(Error.prototype),a.prototype.constructor=a},432:function(e,t){
/** @license MIT License (c) copyright 2010-2014 original author or authors */
t.cons=function(e,t){var a=t.length,n=new Array(a+1);n[0]=e;for(var r=0;r<a;++r)n[r+1]=t[r];return n},t.tail=function(e){for(var t=e.length-1,a=new Array(t),n=0;n<t;++n)a[n]=e[n+1];return a},t.map=function(e,t){for(var a=new Array(t.length),n=0;n<t.length;++n)a[n]=e(t[n]);return a}},433:function(e,t,a){var n=a(342),r=a(434),o=a(567),l=a(568),i=a(432),c=a(435),u=a(343),s=a(436),p=n.find,f=n.parseArrayIndex;function h(e,t){var a=e.target;if(Array.isArray(a))if("-"===e.key)a.push(t);else{if(e.key>a.length)throw new u("target of add outside of array bounds");a.splice(e.key,0,t)}else{if(!y(a))throw new u("target of add must be an object or array "+e.key);a[e.key]=t}}function d(e,t){if(e.path===t.path&&"remove"===t.op)throw new TypeError("Can't commute add,remove -> remove,add for same path");return l(e,t)}function m(e){var t,a=e.target;if(Array.isArray(a))return(t=a.splice(f(e.key),1))[0];if(y(a))return t=a[e.key],delete a[e.key],t;throw new u("target of remove must be an object or array")}function v(e){return void 0===e||null==e.target&&void 0!==e.key}function b(e){return void 0!==e.key&&void 0===e.target[e.key]}function y(e){return null!==e&&"object"==typeof e}t.test={apply:function(e,t,a){var n,r,l=p(e,t.path,a.findContext,t.context),i=l.target;Array.isArray(i)?(n=f(l.key),r=i[n]):r=void 0===l.key?l.target:l.target[l.key];if(!o(r,t.value))throw new c("test failed "+JSON.stringify(t));return e},inverse:function(e,t){return e.push(t),1},commute:function(e,t){if(e.path===t.path&&"remove"===t.op)throw new TypeError("Can't commute test,remove -> remove,test for same path");if("test"===t.op||"replace"===t.op)return[t,e];return l(e,t)}},t.add={apply:function(e,t,a){var n=p(e,t.path,a.findContext,t.context);if(v(n))throw new u("path does not exist "+t.path);if(void 0===t.value)throw new u("missing value");var o=r(t.value);if(void 0===n.key)return o;return h(n,o),e},inverse:function(e,t){var a=t.context;void 0!==a&&(a={before:a.before,after:i.cons(t.value,a.after)});return e.push({op:"test",path:t.path,value:t.value,context:a}),e.push({op:"remove",path:t.path,context:a}),1},commute:d},t.remove={apply:function(e,t,a){var n=p(e,t.path,a.findContext,t.context);if(v(n)||void 0===n.target[n.key])throw new u("path does not exist "+t.path);return m(n),e},inverse:function(e,t,a,n){var r=n[a-1];if(void 0===r||"test"!==r.op||r.path!==t.path)throw new s("cannot invert remove w/o test");var o=r.context;void 0!==o&&(o={before:o.before,after:i.tail(o.after)});return e.push({op:"add",path:r.path,value:r.value,context:o}),2},commute:function(e,t){if(e.path===t.path&&"remove"===t.op)return[t,e];return l(e,t)}},t.replace={apply:function(e,t,a){var n=p(e,t.path,a.findContext,t.context);if(v(n)||b(n))throw new u("path does not exist "+t.path);if(void 0===t.value)throw new u("missing value");var o=r(t.value);if(void 0===n.key)return o;var l=n.target;Array.isArray(l)?l[f(n.key)]=o:l[n.key]=o;return e},inverse:function(e,t,a,n){var r=n[a-1];if(void 0===r||"test"!==r.op||r.path!==t.path)throw new s("cannot invert replace w/o test");var o=r.context;void 0!==o&&(o={before:o.before,after:i.cons(r.value,i.tail(o.after))});return e.push({op:"test",path:r.path,value:t.value}),e.push({op:"replace",path:r.path,value:r.value}),2},commute:function(e,t){if(e.path===t.path&&"remove"===t.op)throw new TypeError("Can't commute replace,remove -> remove,replace for same path");if("test"===t.op||"replace"===t.op)return[t,e];return l(e,t)}},t.move={apply:function(e,t,a){if(n.contains(t.path,t.from))throw new u("move.from cannot be ancestor of move.path");var r=p(e,t.path,a.findContext,t.context),o=p(e,t.from,a.findContext,t.fromContext);return h(r,m(o)),e},inverse:function(e,t){return e.push({op:"move",path:t.from,context:t.fromContext,from:t.path,fromContext:t.context}),1},commute:function(e,t){if(e.path===t.path&&"remove"===t.op)throw new TypeError("Can't commute move,remove -> move,replace for same path");return l(e,t)}},t.copy={apply:function(e,t,a){var n=p(e,t.path,a.findContext,t.context),o=p(e,t.from,a.findContext,t.fromContext);if(v(o)||b(o))throw new u("copy.from must exist");var l,i=o.target;l=Array.isArray(i)?i[f(o.key)]:i[o.key];return h(n,r(l)),e},inverse:function(e,t){throw new s("cannot invert "+t.op)},commute:d}},434:function(e,t){function a(e){return null==e||"object"!=typeof e?e:Array.isArray(e)?function(e){for(var t=e.length,n=new Array(t),r=0;r<t;++r)n[r]=a(e[r]);return n}(e):function(e){for(var t,n=Object.keys(e),r={},o=0,l=n.length;o<l;++o)t=n[o],r[t]=a(e[t]);return r}(e)}
/** @license MIT License (c) copyright 2010-2014 original author or authors */
e.exports=a},435:function(e,t){function a(e){Error.call(this),this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}e.exports=a,a.prototype=Object.create(Error.prototype),a.prototype.constructor=a},436:function(e,t){function a(e){Error.call(this),this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}e.exports=a,a.prototype=Object.create(Error.prototype),a.prototype.constructor=a},563:function(e,t,a){
/** @license MIT License (c) copyright 2010-2014 original author or authors */
var n=a(564),r=a(432),o=a(565),l=a(569),i=a(342).encodeSegment;t.diff=function(e,t,a){return s(e,t,"",function(e,t){return"object"==typeof e?{patch:t,hash:p(h,e.hash,u),makeContext:p(h,e.makeContext,f),invertible:!(!1===e.invertible)}:{patch:t,hash:p(h,e,u),makeContext:f,invertible:!0}}(a,[])).patch},t.patch=o.apply,t.patchInPlace=o.applyInPlace,t.inverse=l,t.clone=o.clone,t.InvalidPatchOperationError=a(343),t.TestFailedError=a(435),t.PatchNotInvertibleError=a(436);var c=o.isValidObject,u=o.defaultHash;function s(e,t,a,o){return Array.isArray(e)&&Array.isArray(t)?function(e,t,a,o){var l=r.map(o.hash,e),i=r.map(o.hash,t),c=n.compare(l,i);return function(e,t,a,r,o){var l=0;return n.reduce(function(r,o,i,c){var u,p,f=r.patch,h=a+"/"+(c+l);return o===n.REMOVE?(u=f[f.length-1],p=r.makeContext(c,e),r.invertible&&f.push({op:"test",path:h,value:e[c],context:p}),void 0!==u&&"add"===u.op&&u.path===h?(u.op="replace",u.context=p):f.push({op:"remove",path:h,context:p}),l-=1):o===n.ADD?(f.push({op:"add",path:h,value:t[i],context:r.makeContext(c,e)}),l+=1):s(e[c],t[i],h,r),r},r,o)}(e,t,a,o,c)}(e,t,a,o):c(e)&&c(t)?function(e,t,a,n){var r,o,l=Object.keys(t),c=n.patch;for(r=l.length-1;r>=0;--r){o=l[r];var u=a+"/"+i(o);void 0!==e[o]?s(e[o],t[o],u,n):c.push({op:"add",path:u,value:t[o]})}for(l=Object.keys(e),r=l.length-1;r>=0;--r)if(o=l[r],void 0===t[o]){var p=a+"/"+i(o);n.invertible&&c.push({op:"test",path:p,value:e[o]}),c.push({op:"remove",path:p})}return n}(e,t,a,o):function(e,t,a,n){e!==t&&(n.invertible&&n.patch.push({op:"test",path:a,value:e}),n.patch.push({op:"replace",path:a,value:t}));return n}(e,t,a,o)}function p(e,t,a){return e(t)?t:a}function f(){}function h(e){return"function"==typeof e}},564:function(e,t){var a,n,r;function o(e,t,o,l,i,c){return t[i+l]===o[c+l]?{value:e[c+1][i+1].value,type:r}:e[c][i+1].value<e[c+1][i].value?{value:e[c][i+1].value+1,type:a}:{value:e[c+1][i].value+1,type:n}}
/** @license MIT License (c) copyright 2010-2014 original author or authors */
t.compare=function(e,t){for(var l=e.length,i=t.length,c=function(e,t){var a=0,n=Math.min(e.length,t.length);for(;a<n&&e[a]===t[a];)++a;return a}(e,t),u=c<l&&c<i?function(e,t){var a=e.length-1,n=t.length-1,r=Math.min(a,n),o=0;for(;o<r&&e[a-o]===t[n-o];)++o;return o}(e,t):0,s=u+c-1,p=function(e,t){var o,l,i,c=[];for(i=c[t]=[],l=0;l<e;++l)i[l]={value:e-l,type:a};for(o=0;o<t;++o)c[o]=[],c[o][e]={value:t-o,type:n};return c[t][e]={value:0,type:r},c}(l-=s,i-=s),f=l-1;f>=0;--f)for(var h=i-1;h>=0;--h)p[h][f]=o(p,e,t,c,f,h);return{prefix:c,matrix:p,suffix:u}},t.reduce=function(e,t,o){var l,i,c,u,s=o.matrix,p=o.prefix;for(l=0;l<p;++l)t=e(t,r,l,l);c=l,p=s.length,l=0,i=0;for(;l<p;)switch(u=s[l][i].type,t=e(t,u,l+c,i+c),u){case r:++l,++i;break;case a:++i;break;case n:++l}for(l+=c,i+=c,p=o.suffix,c=0;c<p;++c)t=e(t,r,l+c,i+c);return t},t.REMOVE=a=-1,t.ADD=n=1,t.EQUAL=r=0},565:function(e,t,a){
/** @license MIT License (c) copyright 2010-2014 original author or authors */
var n=a(433),r=a(434),o=a(343);t.apply=function(e,t,a){return i(e,r(t),a)},t.applyInPlace=i,t.clone=r,t.isValidObject=c,t.defaultHash=function(e){return c(e)||function(e){return"[object Array]"===Object.prototype.toString.call(e)}(e)?JSON.stringify(e):e};var l={};function i(e,t,a){if(a||(a=l),!Array.isArray(e))return t;for(var r,i,c=0;c<e.length;++c){if(i=e[c],void 0===(r=n[i.op]))throw new o("invalid op "+JSON.stringify(i));t=r.apply(t,i,a)}return t}function c(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}},566:function(e,t){
/** @license MIT License (c) copyright 2010-2014 original author or authors */
e.exports=function(e,t){var l,i,c,u;l=e.charAt(0)===n?1:0,i="",a.lastIndex=l;for(;c=a.exec(e);)if(u=c[0],i+=e.slice(l,a.lastIndex-u.length),l=a.lastIndex,u===n){if(!1===t(i))return e;i=""}else i+=u===o?n:r;return i+=e.slice(l),t(i),e};var a=/\/|~1|~0/g,n="/",r="~",o="~1"},567:function(e,t){function a(e,t){return e===t||(Array.isArray(e)&&Array.isArray(t)?function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!a(e[n],t[n]))return!1;return!0}(e,t):"object"==typeof e&&"object"==typeof t&&function(e,t){if(null===e&&null!==t||null!==e&&null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o,l=0;l<n.length;++l)if(!((o=n[l])in t&&a(e[o],t[o])))return!1;return!0}(e,t))}e.exports=a},568:function(e,t,a){var n=a(342);function r(e,t,a,n,r){var o=t.length-1,l=+t[o],i=+n[o],c=n.slice();return l>i?c:("add"===e.op||"copy"===e.op?c[o]=Math.max(0,i-r):"remove"===e.op&&(c[o]=Math.max(0,i+r)),c)}function o(e){return"remove"===e.op?{op:e.op,path:e.path}:"copy"===e.op||"move"===e.op?{op:e.op,path:e.path,from:e.from}:{op:e.op,path:e.path,value:e.value}}e.exports=function(e,t){var a=n.parse(e.path),l=n.parse(t.path),i=function(e,t){var a=e.length,n=t.length;if(0===a||0===n||a<2&&n<2)return[];var r=a===n?a-1:Math.min(a,n),o=0;for(;o<r&&e[o]===t[o];)++o;return e.slice(0,o)}(a,l),c=function(e,t,a){return n.isValidArrayIndex(e[a])&&n.isValidArrayIndex(t[a])}(a,l,i.length),u=o(e),s=o(t);return 0!==i.length||c?c?function(e,t,a,o){if(t.length===o.length)return function(e,t,a,r){var o,l=t.length-1,i=+t[l],c=+r[l];i<c?"add"===e.op||"copy"===e.op?((o=r.slice())[l]=Math.max(0,c-1),a.path=n.absolute(n.join(o))):"remove"===e.op&&((o=r.slice())[l]=c+1,a.path=n.absolute(n.join(o))):"add"===a.op||"copy"===a.op?((o=t.slice())[l]=i+1,e.path=n.absolute(n.join(o))):i>c&&"remove"===a.op&&((o=t.slice())[l]=Math.max(0,i-1),e.path=n.absolute(n.join(o)));return[a,e]}(e,t,a,o);t.length>o.length?(t=r(a,o,e,t,-1),e.path=n.absolute(n.join(t))):(o=r(e,t,a,o,1),a.path=n.absolute(n.join(o)));return[a,e]}(u,a,s,l):function(e,t,a,n){if(e.path===a.path)throw new TypeError("cannot commute "+e.op+","+a.op+" with identical object paths");return[a,e]}(u,0,s):[s,u]}},569:function(e,t,a){var n=a(433);function r(e,t,a,r){var o=n[t.op];return void 0!==o&&"function"==typeof o.inverse?o.inverse(e,t,a,r):1}e.exports=function(e){var t,a,n=[];for(t=e.length-1;t>=0;t-=a)a=r(n,e[t],t,e);return n}},574:function(e,t,a){"use strict";a.r(t);var n=a(23),r=a.n(n),o=a(36),l=a.n(o),i=a(15),c=a.n(i),u=a(16),s=a.n(u),p=a(17),f=a.n(p),h=a(18),d=a.n(h),m=a(19),v=a.n(m),b=a(182),y=a.n(b),g=a(1),E=a.n(g),k=a(4),x=a.n(k),w=a(20),C=a(431),D=a.n(C),F=a(230),S=a(400),T=a(402),N=a(401),B=a(373),A=a(372),M=a(412),O=a(386),V=a(388),j=a(352),I=a(387),L=a(445),R=a(12),_=a(350),P=a(169);var U={toggleCreateBaseline:function(){return{type:P.a.CREATE_NEW_BASELINE}}},K=a(346),H=function(e){function t(e){var a;return c()(this,t),(a=f()(this,d()(t).call(this,e))).createBaseline=a.createBaseline.bind(y()(y()(a))),a}return v()(t,e),s()(t,[{key:"createBaseline",value:function(){var e=this.props,t=e.history,a=e.toggleCreateBaseline,n=e.addSystemModalOpened,r=e.toggleAddSystemModal;"/"===t.location.pathname&&(!0===n&&r(),t.push({pathname:"baselines"})),a()}},{key:"render",value:function(){return E.a.createElement(_.a,{variant:"primary",onClick:this.createBaseline},"Create baseline")}}]),t}(g.Component);H.propTypes={toggleCreateBaseline:x.a.func,toggleAddSystemModal:x.a.func,history:x.a.object,addSystemModalOpened:x.a.bool};var J=Object(R.k)(Object(w.connect)(function(e){return{addSystemModalOpened:e.addSystemModalState.addSystemModalOpened}},function(e){return{toggleCreateBaseline:function(){return e(U.toggleCreateBaseline())},toggleAddSystemModal:function(){return e(K.a.toggleAddSystemModal())}}})(H)),z=a(379),G=a(377),q=a(406),Q=a(219),W=function(e){function t(e){var a;return c()(this,t),(a=f()(this,d()(t).call(this,e))).submitBaselineName=a.submitBaselineName.bind(y()(y()(a))),a.state={baselineName:""},a.updateBaselineName=function(e){a.setState({baselineName:e})},a}return v()(t,e),s()(t,[{key:"submitBaselineName",value:function(){var e=this.state.baselineName,t=this.props,a=t.createBaseline,n=t.toggleCreateBaseline;a({display_name:e,baseline_facts:[]}),n()}},{key:"render",value:function(){var e=this.state.baselineName;return E.a.createElement(E.a.Fragment,null,E.a.createElement(O.a,{variant:O.b.full},E.a.createElement(V.a,{icon:q.a}),E.a.createElement(j.a,{headingLevel:"h5",size:"lg"},"Create baseline"),E.a.createElement(I.a,null,"Create a baseline name",E.a.createElement(z.a,null,E.a.createElement(G.a,{value:e,type:"text",onChange:this.updateBaselineName,"aria-label":"baseline name"}),E.a.createElement(_.a,{onClick:this.submitBaselineName},"Submit")))))}}]),t}(g.Component);W.propTypes={toggleCreateBaseline:x.a.func,createBaseline:x.a.func};var X=Object(w.connect)(null,function(e){return{toggleCreateBaseline:function(){return e(U.toggleCreateBaseline())},createBaseline:function(t){return e(Q.a.createBaseline(t))}}})(W),Y=a(170);var $={exportToCSV:function(e,t){var a={exportType:e,exportData:t,baselineRowData:arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]};return{type:Y.a.EXPORT_BASELINES_LIST_TO_CSV,payload:a}}},Z=a(365),ee=a(347),te=a(384),ae=function(e){function t(e){var a;return c()(this,t),(a=f()(this,d()(t).call(this,e))).state={kebabOpened:!1},a.exportSelect=a.exportSelect.bind(y()(y()(a))),a.toggleKebab=function(){var e=a.state.kebabOpened;a.setState({kebabOpened:!e})},a}return v()(t,e),s()(t,[{key:"exportSelect",value:function(){var e=this.props,t=e.exportType,a=e.baselineTableData,n=e.baselineData,r=e.baselineRowData;this.toggleKebab(),"baseline list"===t?this.props.exportToCSV(t,a):"baselines data"===t&&this.props.exportToCSV(t,n,r)}},{key:"render",value:function(){var e=this.state.kebabOpened,t=[E.a.createElement(Z.a,{key:"export",component:"button",onClick:this.exportSelect},"Export as CSV")];return E.a.createElement(ee.a,{style:{float:"left"},className:"action-kebab",toggle:E.a.createElement(te.a,{onToggle:this.toggleKebab}),isOpen:e,dropdownItems:t,isPlain:!0})}}]),t}(g.Component);ae.propTypes={exportToCSV:x.a.func,baselineTableData:x.a.array,exportType:x.a.string,baselineData:x.a.array,baselineRowData:x.a.array};var ne=Object(R.k)(Object(w.connect)(function(e){return{baselineTableData:e.baselinesTableState.baselineTableData,baselineData:e.baselinesTableState.baselineData}},function(e){return{exportToCSV:function(t,a,n){e($.exportToCSV(t,a,n))}}})(ae)),re=a(404),oe=a(354),le=a(30);var ie={toggleFactModal:function(){return{type:le.a.TOGGLE_FACT_MODAL}},setFactData:function(e){return{type:le.a.SET_FACT_DATA,payload:e}}},ce=function(e){function t(e){var a;return c()(this,t),(a=f()(this,d()(t).call(this,e))).handleAddFact=a.handleAddFact.bind(y()(y()(a))),a}return v()(t,e),s()(t,[{key:"handleAddFact",value:function(){var e=this.props,t=e.setFactData,a=e.toggleFactModal;t({factName:"",factValue:"",fact:[]}),a()}},{key:"render",value:function(){return E.a.createElement(S.a,{className:"display-margin"},E.a.createElement(T.a,null,E.a.createElement(N.a,null,E.a.createElement(_.a,{variant:"primary",onClick:this.handleAddFact},"Add fact"))))}}]),t}(g.Component);ce.propTypes={toggleFactModal:x.a.func,setFactData:x.a.func};var ue=Object(w.connect)(null,function(e){return{toggleFactModal:function(){return e(ie.toggleFactModal())},setFactData:function(t){return e(ie.setFactData(t))}}})(ce),se=a(374),pe=a(389),fe=a(563),he=a.n(fe),de=a(220),me=function(e){function t(e){var a;return c()(this,t),(a=f()(this,d()(t).call(this,e))).editFact=a.editFact.bind(y()(y()(a))),a.deleteFact=a.deleteFact.bind(y()(y()(a))),a.addFact=a.addFact.bind(y()(y()(a))),a.state={isOpen:!1,factName:a.props.factName,factValue:a.props.factValue,fact:a.props.fact},a}return v()(t,e),s()(t,[{key:"onKebabToggle",value:function(e){this.setState({isOpen:e})}},{key:"editFact",value:function(){var e=this.state,t=e.factName,a=e.factValue,n=e.fact,r=this.props,o=r.toggleFactModal,l=r.setFactData;o(),l({factName:t,factValue:a,fact:n})}},{key:"deleteFact",value:function(){var e,t=this.state,a=t.factName,n=t.factValue,r=t.fact,o=this.props,l=o.baselineData,i=o.patchBaseline,c={name:a,value:n};if(r.values&&""!==n){var u=ge.buildDeletedSubFact(c,r);e=ge.makeDeleteFactPatch(u,l,r)}else e=ge.makeDeleteFactPatch(c,l,[]);i(l.id,e)}},{key:"addFact",value:function(){var e=this.state.fact,t=this.props,a=t.toggleFactModal,n=t.setFactData;a(),n({fact:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.isOpen,n=t.factValue,r=t.fact,o=[E.a.createElement(Z.a,{key:"edit",component:"button",onClick:this.editFact},r.values&&""===n?"Edit category":"Edit fact"),E.a.createElement(Z.a,{key:"delete",component:"button",onClick:this.deleteFact},r.values&&""===n?"Delete category":"Delete fact")];return r.values&&""===n&&o.push(E.a.createElement(Z.a,{key:"add fact",component:"button",onClick:this.addFact},"Add sub fact")),E.a.createElement(ee.a,{position:de.d.right,style:{float:"right"},className:"baseline-fact-kebab",toggle:E.a.createElement(te.a,{onToggle:function(t){return e.onKebabToggle(t)}}),isOpen:a,dropdownItems:o,isPlain:!0})}}]),t}(g.Component);me.propTypes={factName:x.a.string,factValue:x.a.string,fact:x.a.object,toggleFactModal:x.a.func,setFactData:x.a.func,baselineData:x.a.obj,patchBaseline:x.a.func};var ve=Object(w.connect)(function(e){return{baselineData:e.baselinesTableState.baselineData}},function(e){return{toggleFactModal:function(){return e(ie.toggleFactModal())},setFactData:function(t){return e(ie.setFactData(t))},patchBaseline:function(t,a){return e(Q.a.patchBaseline(t,a))}}})(me);function be(e,t,a){var n=[];return Array.isArray(a)&&0===a.length?t.baseline_facts.forEach(function(t){t.name!==e.name&&n.push(t)}):t.baseline_facts.forEach(function(e){e.name!==a.name&&n.push(e)}),n}function ye(e,t){return he.a.diff(t,e)}var ge={renderKebab:function(e,t,a){return E.a.createElement("td",null,E.a.createElement(ve,{factName:e,factValue:t,fact:a}))},buildNewFactData:function(e,t,a,n){var r={},o=[];return n&&!Array.isArray(n)?(n.values.forEach(function(e){o.push(e)}),o.push({name:t,value:a}),r.name=n.name,r.values=o,r):(r.name=t,e?r.values=[]:r.value=a,r)},buildEditedFactData:function(e,t,a,n,r,o){var l={},i=[],c=t,u=n;if(e)l.name=a,o.values.forEach(function(e){i.push(e)}),l.values=i;else if(o.values&&""!==r){l.name=o.name;var s={name:a,value:r};o.values.forEach(function(e){e.name!==c&&e.value!==u&&i.push(e)}),i.push(s),l.values=i}else l={name:a,value:r};return l},buildDeletedSubFact:function(e,t){var a=[];return t.values.forEach(function(t){t.name!==e.name&&t.value!==e.value&&a.push(t)}),{name:t.name,values:a}},makeAddFactPatch:function(e,t,a){if(void 0===e||void 0===t)return{};var n=be(e,t,a);n.push(e);var r=ye(n,t.baseline_facts);return{display_name:t.display_name,facts_patch:r}},makeDeleteFactPatch:function(e,t,a){if(void 0===e||void 0===t)return{};var n=be(e,t,a);e.values&&n.push(e);var r=ye(n,t.baseline_facts);return{display_name:t.display_name,facts_patch:r}}},Ee=function(e){function t(e){var a;return c()(this,t),(a=f()(this,d()(t).call(this,e))).cancelFact=a.cancelFact.bind(y()(y()(a))),a.confirmModal=a.confirmModal.bind(y()(y()(a))),a.renderCategoryCheckbox=a.renderCategoryCheckbox.bind(y()(y()(a))),a.renderFactInput=a.renderFactInput.bind(y()(y()(a))),a.renderValueInput=a.renderValueInput.bind(y()(y()(a))),a.renderModalBody=a.renderModalBody.bind(y()(y()(a))),a.patchFact=a.patchFact.bind(y()(y()(a))),a.state={factName:a.props.factName,factValue:a.props.factValue,factData:a.props.factData},""!==a.props.factName&&""===a.props.factValue?a.state.categoryCheck=!0:a.state.categoryCheck=!1,a.handleChange=function(e){a.setState({categoryCheck:e})},a.handleNewName=function(e){a.setState({factName:e})},a.handleNewValue=function(e){a.setState({factValue:e})},a}return v()(t,e),s()(t,[{key:"cancelFact",value:function(){(0,this.props.toggleFactModal)()}},{key:"confirmModal",value:function(){var e=this.props,t=e.toggleFactModal,a=e.factName,n=e.factValue;""===a&&""===n||void 0===a&&void 0===n?this.addFact():this.editFact(),t()}},{key:"addFact",value:function(){var e=this.state,t=e.categoryCheck,a=e.factName,n=e.factValue,r=e.factData,o=ge.buildNewFactData(t,a,n,r);this.patchFact(o,r)}},{key:"editFact",value:function(){var e=this.state,t=e.categoryCheck,a=e.factName,n=e.factValue,r=e.factData,o=ge.buildEditedFactData(t,this.props.factName,a,this.props.factValue,n,r);this.patchFact(o,r)}},{key:"patchFact",value:function(e,t){var a=this.props,n=a.baselineData,r=a.patchBaseline,o=ge.makeAddFactPatch(e,n,t);r(n.id,o)}},{key:"renderCategoryCheckbox",value:function(){var e=this.state.categoryCheck,t=this.props,a=t.factName,n=t.factValue;return""!==a&&""===n?E.a.createElement(se.a,{label:"This is a category","aria-label":"controlled checkbox example",id:"categoryCheck",name:"isCategory",defaultChecked:!0,isDisabled:!0}):""!==a&&""!==n?E.a.createElement(se.a,{label:"This is a category","aria-label":"controlled checkbox example",id:"categoryCheck",name:"isCategory",isDisabled:!0}):E.a.createElement(se.a,{label:"This is a category",isChecked:e,onChange:this.handleChange,"aria-label":"controlled checkbox example",id:"categoryCheck",name:"isCategory"})}},{key:"renderFactInput",value:function(){var e=this.state.factName;return E.a.createElement("div",{className:"fact-value"},"Fact name:",E.a.createElement("br",null),E.a.createElement(G.a,{value:e,type:"text",placeholder:"Name",onChange:this.handleNewName,isValid:""!==e&&void 0!==e,"aria-label":"fact name"}))}},{key:"renderValueInput",value:function(){var e,t=this.state,a=t.categoryCheck,n=t.factValue;return e=a?E.a.createElement(G.a,{type:"text","aria-label":"value",isDisabled:!0}):E.a.createElement(G.a,{value:n,type:"text",placeholder:"Value",onChange:this.handleNewValue,isValid:""!==n&&void 0!==n,"aria-label":"value"}),E.a.createElement("div",{className:"fact-value"},"Value:",E.a.createElement("br",null),e)}},{key:"renderModalBody",value:function(){return E.a.createElement(E.a.Fragment,null,this.renderCategoryCheckbox(),this.renderFactInput(),E.a.createElement("br",null),this.renderValueInput())}},{key:"render",value:function(){var e=this.props.factModalOpened;return E.a.createElement(pe.a,{title:"Fact add/edit",isOpen:e,onClose:this.cancelFact,width:"auto",actions:[E.a.createElement(_.a,{key:"confirm",variant:"primary",onClick:this.confirmModal},"Save"),E.a.createElement(_.a,{key:"cancel",variant:"primary",onClick:this.cancelFact},"Cancel")]},this.renderModalBody())}}]),t}(g.Component);Ee.propTypes={toggleFactModal:x.a.func,factModalOpened:x.a.bool,factName:x.a.string,factValue:x.a.string,factData:x.a.obj,baselineData:x.a.obj,patchBaseline:x.a.func};var ke=Object(w.connect)(function(e){return{factModalOpened:e.factModalState.factModalOpened,factName:e.factModalState.factName,factValue:e.factModalState.factValue,factData:e.factModalState.factData,baselineData:e.baselinesTableState.baselineData}},function(e){return{toggleFactModal:function(){return e(ie.toggleFactModal())},patchBaseline:function(t,a){return e(Q.a.patchBaseline(t,a))}}})(Ee),xe=function(e){function t(e){return c()(this,t),f()(this,d()(t).call(this,e))}return v()(t,e),s()(t,[{key:"renderHeaderRow",value:function(){return E.a.createElement("tr",null,E.a.createElement("th",{className:"edit-baseline-header"},E.a.createElement("div",null,"Fact")),E.a.createElement("th",{className:"edit-baseline-header"},E.a.createElement("div",null,"Value")),E.a.createElement("th",null))}},{key:"renderLoadingRows",value:function(){for(var e=[],t=[],a=0;a<3;a+=1)t.push(E.a.createElement("td",null,E.a.createElement(F.Skeleton,{size:F.SkeletonSize.md})));for(var n=0;n<10;n+=1)e.push(E.a.createElement("tr",null,t));return e}},{key:"renderExpandableRowButton",value:function(e){var t=this;return this.props.expandedRows.includes(e)?E.a.createElement(re.a,{className:"pointer active-blue",onClick:function(){return t.props.expandRow(e)}}):E.a.createElement(oe.a,{className:"pointer",onClick:function(){return t.props.expandRow(e)}})}},{key:"renderRowData",value:function(e){var t=this.props.expandedRows,a=[],n=[];return e.values?(a.push(E.a.createElement("td",{className:t.includes(e.name)?"nested-fact":""},this.renderExpandableRowButton(e.name)," ",e.name)),a.push(E.a.createElement("td",null)),a.push(ge.renderKebab(e.name,"",e)),n.push(E.a.createElement("tr",null,a)),t.includes(e.name)&&e.values.forEach(function(t){(a=[]).push(E.a.createElement("td",{className:"nested-fact"},E.a.createElement("p",{className:"child-row"},t.name))),a.push(E.a.createElement("td",null,t.value)),a.push(ge.renderKebab(t.name,t.value,e)),n.push(E.a.createElement("tr",null,a))})):(a.push(E.a.createElement("td",null,e.name)),a.push(E.a.createElement("td",null,e.value)),a.push(ge.renderKebab(e.name,e.value,e)),n.push(E.a.createElement("tr",null,a))),n}},{key:"renderRows",value:function(){var e=this.props.baselineData.baseline_facts,t=[],a=[];if(void 0!==e)for(var n=0;n<e.length;n+=1)a=this.renderRowData(e[n]),t.push(a);return t}},{key:"renderTable",value:function(){var e=this.props.baselineDataLoading;return E.a.createElement("table",{className:"pf-c-table ins-c-table pf-m-compact ins-entity-table drift-table"},E.a.createElement("thead",null,this.renderHeaderRow()),E.a.createElement("tbody",null,e?this.renderLoadingRows():this.renderRows()))}},{key:"render",value:function(){var e=this.props.factModalOpened;return E.a.createElement(E.a.Fragment,null,e?E.a.createElement(ke,null):null,E.a.createElement(ue,null),this.renderTable(),E.a.createElement(_.a,{className:"button-margin margin-right",style:{float:"right"},variant:"primary",onClick:this.finishBaselineEdit},"Finish"))}}]),t}(g.Component);xe.propTypes={toggleCreateBaseline:x.a.func,clearBaselineData:x.a.func,baselineUUID:x.a.string,baselineData:x.a.object,baselineDataLoading:x.a.bool,patchBaseline:x.a.func,fetchBaselineData:x.a.func,factModalOpened:x.a.bool,editBaselineTableData:x.a.array,expandRow:x.a.func,expandedRows:x.a.array};var we=Object(w.connect)(function(e){return{baselineUUID:e.baselinesTableState.baselineUUID,baselineData:e.baselinesTableState.baselineData,baselineDataLoading:e.baselinesTableState.baselineDataLoading,factModalOpened:e.factModalState.factModalOpened,editBaselineTableData:e.baselinesTableState.editBaselineTableData,expandedRows:e.baselinesTableState.expandedRows}},function(e){return{toggleCreateBaseline:function(){return e(U.toggleCreateBaseline())},clearBaselineData:function(){return e(Q.a.clearBaselineData())},patchBaseline:function(t,a){return e(Q.a.patchBaseline(t,a))},expandRow:function(t){return e(Q.a.expandRow(t))}}})(xe),Ce=function(e){function t(e){var a;return c()(this,t),(a=f()(this,d()(t).call(this,e))).handleSearch=D()(function(e){this.setState({search:!0}),this.props.fetchBaselines(e)},250),a.state={search:!1},a.handleSearch=a.handleSearch.bind(y()(y()(a))),a}var a;return v()(t,e),s()(t,[{key:"componentDidMount",value:(a=l()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.insights.chrome.auth.getUser();case 2:(0,this.props.fetchBaselines)();case 4:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"renderToolbar",value:function(){return E.a.createElement(S.a,{className:"drift-toolbar"},E.a.createElement(T.a,null,E.a.createElement(N.a,null,E.a.createElement(F.SimpleTableFilter,{buttonTitle:null,onFilterChange:this.handleSearch,placeholder:"Search by name"}))),E.a.createElement(T.a,null,E.a.createElement(N.a,null,E.a.createElement(J,null)),E.a.createElement(N.a,null,E.a.createElement(ne,{exportType:"baseline list"}))))}},{key:"renderEmptyState",value:function(){return E.a.createElement("center",null,E.a.createElement(O.a,null,E.a.createElement(V.a,{icon:M.a}),E.a.createElement("br",null),E.a.createElement(j.a,{size:"lg"},"No baselines"),E.a.createElement(I.a,null,"You currently have no baselines displayed.",E.a.createElement("br",null),"Please create a baseline to use in your System Comparison analysis."),E.a.createElement(J,null)))}},{key:"renderTable",value:function(){var e=this.props.baselineListLoading;return E.a.createElement(B.a,null,this.renderToolbar(),E.a.createElement("div",null,E.a.createElement(L.a,{baselineListLoading:e})))}},{key:"render",value:function(){var e=this.props,t=e.creatingNewBaseline,a=e.baselineUUID,n=e.fullBaselineListData,r=e.baselineListLoading;return E.a.createElement(E.a.Fragment,null,E.a.createElement(F.PageHeader,null,E.a.createElement(F.PageHeaderTitle,{title:"Baselines"})),E.a.createElement(F.Main,null,E.a.createElement(A.a,{className:"pf-t-light pf-m-opaque-100"},t?E.a.createElement(B.a,null,E.a.createElement("div",null,E.a.createElement(X,null))):null,""!==a?E.a.createElement(B.a,null,E.a.createElement("div",null,E.a.createElement(we,null))):null,t||""!==a?null:0===n.length&&!1===r?this.renderEmptyState():this.renderTable())))}}]),t}(g.Component);Ce.propTypes={baselineListLoading:x.a.bool,creatingNewBaseline:x.a.bool,baselineUUID:x.a.string,fullBaselineListData:x.a.array,fetchBaselines:x.a.func};t.default=Object(w.connect)(function(e){return{baselineListLoading:e.baselinesTableState.baselineListLoading,creatingNewBaseline:e.baselinesPageState.creatingNewBaseline,baselineUUID:e.baselinesTableState.baselineUUID,fullBaselineListData:e.baselinesTableState.fullBaselineListData}},function(e){return{fetchBaselines:function(t){return e(Q.a.fetchBaselines(t))}}})(Ce)}}]);
//# sourceMappingURL=../sourcemaps/4.js.map