"use strict";(self.webpackChunkdrift=self.webpackChunkdrift||[]).push([[489],{87358:(e,t,n)=>{n.d(t,{D:()=>a.A});var a=n(39709)},19631:(e,t,n)=>{n.d(t,{I:()=>r});var a=n(86816),o=n(73049);const r={toggleCreateBaselineModal:function(){return{type:a.A.TOGGLE_CREATE_BASELINE_MODAL}},createBaseline:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return{type:a.A.CREATE_BASELINE,payload:o.A.postNewBaseline(e,t)}},clearCreateBaselineData:function(){return{type:a.A.CLEAR_CREATE_BASELINE_DATA}}}},84244:(e,t,n)=>{n.d(t,{A:()=>se});var a=n(10467),o=n(23029),r=n(92901),l=n(50388),i=n(53954),s=n(15361),c=n(64467),u=n(62193),d=n.n(u),p=n(54756),f=n.n(p),b=n(32995),g=n.n(b),m=n(5556),h=n.n(m),v=n(61225),y=n(92162),S=n(95397),A=n(13054),E=n(94798),B=n(58168),I=n(91294);function P(e,t,n){return t=(0,i.A)(t),(0,l.A)(e,k()?Reflect.construct(t,n||[],(0,i.A)(e).constructor):t.apply(e,n))}function k(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(k=function(){return!!e})()}var T=function(e){function t(e){var n;return(0,o.A)(this,t),(n=P(this,t,[e])).deleteBaselines=n.deleteBaselines.bind(n),n}return(0,s.A)(t,e),(0,r.A)(t,[{key:"deleteBaselines",value:(n=(0,a.A)(f().mark((function e(){var t,n,a,o,r,l,i,s,c;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.clearSelectedBaselines,a=t.deleteSelectedBaselines,o=t.selectedBaselineIds,r=t.fetchWithParams,l=t.baselineId,i=t.tableId,s=t.toggleModal,c=l?{baseline_ids:[l]}:{baseline_ids:o},s(),e.prev=3,e.next=6,a(c,i);case 6:n(i),r(),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,this,[[3,10]])}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){var e=this.props,t=e.baselineId,n=e.modalOpened,a=e.selectedBaselineIds,o=e.toggleModal,r=t||1===a.length?"Delete 1 selected baseline":"Delete ".concat(a.length," selected baselines");return g().createElement(A.Modal,{className:"drift",variant:A.ModalVariant.small,titleIconVariant:"warning",title:r,isOpen:n,onClose:o,actions:[g().createElement(A.Button,{key:"confirm",variant:"danger",onClick:this.deleteBaselines,ouiaId:"delete"},r),g().createElement(A.Button,{key:"cancel",variant:"link",onClick:o,ouiaId:"cancel"},"Cancel")]},"Deleting a baseline is permanent and cannot be undone.")}}]);var n}(b.Component);T.propTypes={modalOpened:h().bool,clearSelectedBaselines:h().func,selectedBaselineIds:h().array,deleteSelectedBaselines:h().func,fetchWithParams:h().func,baselineId:h().string,tableId:h().string,toggleModal:h().func,revertBaselineFetch:h().func};const w=(0,v.connect)(null,(function(e){return{deleteSelectedBaselines:function(t,n){return e(I.A.deleteSelectedBaselines(t,n))},clearSelectedBaselines:function(t){return e(I.A.clearSelectedBaselines(t))},revertBaselineFetch:function(t){return e(I.A.revertBaselineFetch(t))}}}))(T);var O=n(2270);function C(e,t,n){return t=(0,i.A)(t),(0,l.A)(e,x()?Reflect.construct(t,n||[],(0,i.A)(e).constructor):t.apply(e,n))}function x(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(x=function(){return!!e})()}var D=function(e){function t(e){var n;return(0,o.A)(this,t),n=C(this,t,[e]),(0,c.A)(n,"fetchBaseline",(function(){var e=n.props,t=e.baselineRowData;(0,e.navigate)("/baselines/"+t[0])})),n.state={isOpen:!1,modalOpened:!1},n.onKebabToggle=n.onKebabToggle.bind(n),n.toggleModal=function(){var e=n.state.modalOpened;n.setState({modalOpened:!e})},n}return(0,s.A)(t,e),(0,r.A)(t,[{key:"onKebabToggle",value:function(e){this.setState({isOpen:e})}},{key:"render",value:function(){var e=this,t=this.state,n=t.isOpen,a=t.modalOpened,o=this.props,r=o.baselineRowData,l=o.fetchWithParams,i=o.tableId,s=o.baselineName,c=[g().createElement(A.DropdownItem,{key:"edit","data-ouia-component-id":"edit-baseline-dropdown-item-"+s,component:"button",onClick:this.fetchBaseline},"Edit"),g().createElement(A.DropdownItem,{key:"delete","data-ouia-component-id":"delete-baseline-dropdown-item-"+s,component:"button",onClick:this.toggleModal},"Delete")];return g().createElement(g().Fragment,null,a?g().createElement(w,{modalOpened:a,baselineId:r[0],tableId:i,fetchWithParams:l,toggleModal:this.toggleModal}):null,g().createElement(A.Dropdown,{style:{float:"right"},ouiaId:"baseline-kebab-dropdown-"+s,toggle:g().createElement(A.KebabToggle,{"data-ouia-component-id":"baseline-kebab-dropdown-toggle-"+s,"data-ouia-component-type":"PF4/DropdownToggle",onToggle:function(t){return e.onKebabToggle(t)}}),isOpen:n,dropdownItems:c,isPlain:!0}))}}])}(b.Component);D.propTypes={baselineRowData:h().array,tableId:h().string,fetchWithParams:h().func,baselineName:h().string,navigate:h().func};const N=function(e){var t=(0,O.A)();return g().createElement(D,(0,B.A)({},e,{navigate:t}))};var F=n(53467),R=n(49136),M=n(38221),j=n.n(M),_=n(19631),V=n(87358),W=n(49634);function H(e,t,n){return t=(0,i.A)(t),(0,l.A)(e,L()?Reflect.construct(t,n||[],(0,i.A)(e).constructor):t.apply(e,n))}function L(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(L=function(){return!!e})()}var Y=function(e){function t(e){var n;return(0,o.A)(this,t),n=H(this,t,[e]),(0,c.A)(n,"createBaseline",(function(){var e=n.props,t=e.toggleCreateBaselineModal,a=e.addSystemModalOpened,o=e.toggleAddSystemModal,r=e.location,l=e.navigate;"/"===r.pathname&&(!0===a&&o(),l("/baselines")),t()})),n}return(0,s.A)(t,e),(0,r.A)(t,[{key:"render",value:function(){var e=this.props,t=e.emptyState,n=e.loading,a=e.permissions;return g().createElement(g().Fragment,null,a.baselinesWrite||void 0===a.baselinesWrite?g().createElement(A.Button,{id:"create-baseline-button",variant:"primary",onClick:this.createBaseline,ouiaId:"create-baseline-button",isDisabled:n},"Create baseline"):g().createElement(A.Tooltip,{content:g().createElement("div",null,"You do not have permissions to perform this action")},g().createElement("div",{className:t?"tooltip-button-margin":null},g().createElement(A.Button,{id:"create-baseline-button",variant:"primary",onClick:this.createBaseline,isDisabled:!0,ouiaId:"create-baseline-button"},"Create baseline"))))}}])}(b.Component);Y.propTypes={toggleCreateBaselineModal:h().func,toggleAddSystemModal:h().func,addSystemModalOpened:h().bool,loading:h().bool,emptyState:h().bool,permissions:h().object,navigate:h().func,location:h().object};const K=(0,v.connect)((function(e){return{addSystemModalOpened:e.addSystemModalState.addSystemModalOpened}}),(function(e){return{toggleCreateBaselineModal:function(){return e(_.I.toggleCreateBaselineModal())},toggleAddSystemModal:function(){return e(V.D.toggleAddSystemModal())}}}))((function(e){var t=(0,O.A)(),n=(0,W.useLocation)();return g().createElement(Y,(0,B.A)({},e,{navigate:t,location:n}))}));var J=n(91988),G=n(59675),U=n(73662),z=n(35422),q=n(3935);function X(e,t,n){return t=(0,i.A)(t),(0,l.A)(e,Q()?Reflect.construct(t,n||[],(0,i.A)(e).constructor):t.apply(e,n))}function Q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Q=function(){return!!e})()}var Z=function(e){function t(e){var n;return(0,o.A)(this,t),n=X(this,t,[e]),(0,c.A)(n,"prepareExport",(function(e){var t=n.props,a=t.store,o=t.tableData,r=t.tableId;(0,q.qV)(a),e(r,o)})),(0,c.A)(n,"onToggle",(function(){var e=n.state.dropdownOpen;n.setState({dropdownOpen:!e})})),(0,c.A)(n,"buildDropdownList",(function(){var e=n.props.isDeleteDisabled,t=[];return t.push(g().createElement(A.DropdownItem,{key:"multi-delete","data-ouia-component-id":"delete-baselines-dropdown-item",component:"button",onClick:n.toggleModal,isDisabled:e},"Delete selected baselines")),t})),(0,c.A)(n,"toggleModal",(function(){var e=n.state.modalOpened;n.setState({modalOpened:!e})})),(0,c.A)(n,"setTextFilter",(function(e){n.setState({nameSearch:e}),n.handleSearch(e)})),(0,c.A)(n,"clearTextFilter",(function(){n.setState({nameSearch:""}),n.handleSearch("")})),(0,c.A)(n,"handleSearch",j()((function(e){this.props.onSearch(e)}),250)),n.state={nameSearch:"",modalOpened:!1,dropdownOpen:!1,dropdownItems:[g().createElement(A.DropdownItem,{key:"export-to-CSV",component:"button","data-ouia-component-id":"export-to-csv-dropdown-item-baselines",onClick:function(){return n.prepareExport(n.props.exportToCSV)}},"Export to CSV"),g().createElement(A.DropdownItem,{key:"export-to-JSON",component:"button","data-ouia-component-id":"export-to-json-dropdown-item-baselines",onClick:function(){return n.prepareExport(n.props.exportToJSON)}},"Export to JSON")]},n.handleSearch=n.handleSearch.bind(n),n.clearFilters=n.clearFilters.bind(n),n}return(0,s.A)(t,e),(0,r.A)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.exportStatus,a=t.resetBaselinesExportStatus,o=t.store;"success"===n&&"success"!==e.exportStatus&&((0,q.OX)(o),a()),"failure"===n&&"failure"!==e.exportStatus&&((0,q.sz)(o),a())}},{key:"clearFilters",value:(n=(0,a.A)(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.onSearch,this.setState({nameSearch:""}),t("");case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.props,n=t.createButton,a=t.exportButton,o=t.fetchWithParams,r=t.hasMultiSelect,l=t.kebab,i=t.leftAlignToolbar,s=t.loading,c=t.onBulkSelect,u=t.tableData,d=t.tableId,p=t.page,f=t.permissions,b=t.perPage,m=t.selectedBaselineIds,h=t.totalBaselines,v=t.updatePagination,y=this.state,E=y.dropdownItems,B=y.dropdownOpen,I=y.modalOpened,P=y.nameSearch;return g().createElement(g().Fragment,null,g().createElement(w,{modalOpened:I,tableId:d,fetchWithParams:o,toggleModal:this.toggleModal,selectedBaselineIds:m}),g().createElement(A.Toolbar,{className:i?"baseline-toolbar":null,clearAllFilters:this.clearFilters},g().createElement(A.ToolbarContent,null,r?g().createElement(A.ToolbarGroup,{variant:"filter-group"},g().createElement(A.ToolbarItem,null,g().createElement(S.BulkSelect,{id:"baselines-bulk-select",count:m.length,items:(0,q.HI)(c,u.length),checked:U.A.findCheckedValue(h,m.length),onSelect:function(){return c("page")},isDisabled:0===u.length||!f.baselinesWrite&&l||!f.baselinesRead&&!n}))):null,g().createElement(A.ToolbarGroup,{variant:"filter-group"},g().createElement(A.ToolbarFilter,{chips:""!==P?[P]:[],deleteChip:this.clearFilters,categoryName:"Baseline name"},g().createElement(S.ConditionalFilter,{placeholder:"Filter by name",value:P,"data-ouia-component-type":"PF4/TextInput","data-ouia-component-id":"filter-by-name-baselines-table",onChange:function(t,n){return e.setTextFilter(n)},isDisabled:!f.baselinesRead}))),g().createElement(A.ToolbarGroup,{variant:"button-group"},n?g().createElement(A.ToolbarItem,null,g().createElement(K,{loading:s,permissions:f})):null),g().createElement(A.ToolbarGroup,{variant:"icon-button-group"},a?g().createElement(A.ToolbarItem,null,g().createElement(J.A,{dropdownItems:E,ouiaId:"export-dropdown-baselines",isOpen:B,onToggle:this.onToggle})):null,l?g().createElement(A.ToolbarItem,null,g().createElement(G.A,{ouiaId:"delete-baselines-dropdown",dropdownItems:this.buildDropdownList()})):null),g().createElement(A.ToolbarItem,{variant:"pagination"},g().createElement(z.x,{page:p,perPage:b,total:f.baselinesRead?h:0,isCompact:!0,updatePagination:v,tableId:d})))))}}]);var n}(b.Component);Z.propTypes={createButton:h().bool,exportButton:h().bool,kebab:h().bool,fetchWithParams:h().func,onSearch:h().func,tableId:h().string,tableData:h().array,onBulkSelect:h().func,hasMultiSelect:h().bool,clearSort:h().func,selectedBaselineIds:h().array,isDeleteDisabled:h().bool,page:h().number,perPage:h().number,totalBaselines:h().number,updatePagination:h().func,exportStatus:h().string,exportToCSV:h().func,exportToJSON:h().func,loading:h().bool,permissions:h().object,leftAlignToolbar:h().bool,resetBaselinesExportStatus:h().func,store:h().object};const $=Z;var ee=n(84804),te=n(46493),ne=n(17763);function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){(0,c.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e,t,n){return t=(0,i.A)(t),(0,l.A)(e,le()?Reflect.construct(t,n||[],(0,i.A)(e).constructor):t.apply(e,n))}function le(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(le=function(){return!!e})()}var ie=function(e){function t(e){var n;return(0,o.A)(this,t),n=re(this,t,[e]),(0,c.A)(n,"fetchWithParams",(function(e){var t=n.props,a=t.tableId,o=t.fetchBaselines;e=oe(oe({},n.state.params),e),o(a,R.A.returnParams(e))})),(0,c.A)(n,"onSearch",(function(e){var t=n.state.params,a=t.orderBy,o=t.orderHow,r=e;n.setState({search:e}),n.fetchWithParams({orderBy:a,orderHow:o,search:r})})),(0,c.A)(n,"onSort",(function(e,t,a){var o=n.state.params.search,r=n.props.permissions,l="";0===t?l="display_name":1===t?l=r.baselinesWrite?"display_name":"updated":2===t&&(l="updated"),n.setState({params:oe(oe({},n.state.params),{},{sortBy:{index:t,direction:a},orderHow:a.toUpperCase(),orderBy:l})}),n.fetchWithParams({orderBy:l,orderHow:a.toUpperCase(),search:o})})),(0,c.A)(n,"setSelectedIds",(function(e){var t=[];return e.forEach((function(e){t.push(Array.isArray(e)?e[0]:e.id)})),t})),(0,c.A)(n,"isAnyBaselineSelectedOnPage",(function(e){var t=!1;return e.map((function(e){!0===e.selected&&(t=!0)})),t})),(0,c.A)(n,"onBulkSelect",function(){var e=(0,a.A)(f().mark((function e(t){var a,o,r,l,i,s,c,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.props,o=a.bulkSelectBasket,r=a.tableData,l=a.tableId,i=a.selectBaseline,s=a.selectedBaselineIds,n.setState({bulkSelectType:t}),"none"===t?(c=!1,u=s):(u=n.setSelectedIds(r),c=!n.isAnyBaselineSelectedOnPage(r)),"COMPARISON"===l&&o(r,c),i(u,c,l);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,c.A)(n,"updatePagination",(function(e){n.setState({params:oe(oe({},n.state.params),{},{page:e.page,perPage:e.perPage})}),n.fetchWithParams({page:e.page,perPage:e.perPage})})),(0,c.A)(n,"renderEmptyState",(function(e){var t,a=n.props,o=a.baselineError,r=a.columns,l=a.tableId,i=[];return 200!==o.status&&void 0!==o.status?n.renderError():("RADIO"===l?t=g().createElement(S.EmptyTable,null,g().createElement(ee.A,{title:q.eo,text:q.MG})):"COMPARISON"===l&&(t=!1===e.baselinesRead?g().createElement(ee.A,{icon:E.LockIcon,color:"#6a6e73",title:"You do not have access to Baselines",text:["Contact your organization administrator(s) for more information."]}):g().createElement(S.EmptyTable,null,g().createElement(ee.A,{title:q.eo,text:q.RY}))),i.push({cells:[{title:t,props:{colSpan:r.length}}]}),g().createElement(y.Table,{"aria-label":"Baselines Table","data-ouia-component-id":"baselines-table",cells:r,rows:i,canSelectAll:!1},g().createElement(y.TableHeader,null),g().createElement(y.TableBody,null)))})),n.state={params:{sortBy:{index:1,direction:"asc"},search:void 0,orderBy:"display_name",orderHow:"ASC",page:1,perPage:20},bulkSelectType:"",errorMessage:["The list of baselines cannot be displayed at this time. Please retry and if","the problem persists contact your system administrator.",""]},n}return(0,s.A)(t,e),(0,r.A)(t,[{key:"componentDidMount",value:(l=(0,a.A)(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchWithParams();case 2:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"componentDidUpdate",value:(n=(0,a.A)(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!d()(t.baselineError)&&d()(this.props.baselineError)&&this.fetchWithParams();case 1:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"renderRows",value:function(e){var t=this,n=this.props,a=n.basketIsVisible,o=n.hasMultiSelect,r=n.hasSwitch,l=n.tableData,i=n.kebab,s=n.onClick,c=n.notificationsSwitchError,u=n.selectedBaselineIds,d=n.toggleNotificationPending,p=n.toggleNotificationFulfilled,f=n.toggleNotificationRejected,b=n.tableId,m=[];return l.forEach((function(n,l){var h=[];if(s){var v=g().createElement("div",null,g().createElement("a",{className:"pointer active-blue","data-ouia-component-type":"PF4/Button","data-ouia-component-id":"baseline-details-"+n[1],onClick:function(){return s(n[0])}},n[1]));h.push(v)}else h.push(n[1]);if(h.push(n[2]),h.push(g().createElement("div",{className:"no-left-padding"},g().createElement(te.A,{classname:"sm-padding-right",index:l,badgeCount:n[3],hasBadge:!0,hasSwitch:r,baselineData:{id:n[0],display_name:n[1],associated_systems:n[3],notifications_enabled:n[4]},notificationsSwitchError:c,toggleNotificationPending:d,toggleNotificationFulfilled:p,toggleNotificationRejected:f}))),i&&e){var y=g().createElement(N,{tableId:b,baselineRowData:n,fetchWithParams:t.fetchWithParams,baselineName:n[1],selectedBaselineIds:u});h.push(g().createElement("div",null,y))}n.selected&&(h.selected=!0),o&&(h.disableSelection=a),m.push(h)})),m}},{key:"renderError",value:function(){var e=this.props,t=e.baselineError,n=e.revertBaselineFetch,a=this.state.errorMessage;return g().createElement(ee.A,{icon:E.ExclamationCircleIcon,color:"#c9190b",title:"Baselines cannot be displayed",text:a,error:"Error "+t.status+": "+t.detail,button:g().createElement("a",{onClick:function(){return n()}},g().createElement(E.UndoIcon,{className:"reload-button"}),"Retry")})}},{key:"renderBaselinesPageError",value:function(){var e=this.props,t=e.emptyState,n=e.loading,a=e.permissions,o=e.baselineError;return 200!==o.status&&void 0!==o.status?this.renderError():g().createElement(ee.A,{icon:E.AddCircleOIcon,title:q.eo,text:q.RY,button:g().createElement(K,{emptyState:t,permissions:a,loading:n})})}},{key:"renderTable",value:function(e){var t,n,a=e.baselinesWrite,o=e.baselinesRead,r=this.props,l=r.columns,i=r.createButton,s=r.emptyState,c=r.hasMultiSelect,u=r.kebab,d=r.loading,p=r.onSelect,f=r.tableData,b=r.tableId,m=[];if(d)d&&(t=g().createElement(S.SkeletonTable,{columns:l,rowSize:8,onSelect:!0,hasRadio:!c,canSelectAll:!1,isSelectable:!0}));else if(0===f.length)n=s?g().createElement(S.EmptyTable,null,g().createElement(ee.A,{title:q.eo,text:q.RY})):g().createElement(S.EmptyTable,null,g().createElement(ee.A,{title:q.hU,text:q.lE})),m.push({cells:[{title:n,props:{colSpan:l.length}}]}),t=g().createElement(y.Table,{"aria-label":"Baselines Table","data-ouia-component-id":"baselines-table",cells:l,rows:m,canSelectAll:!1},g().createElement(y.TableHeader,null),g().createElement(y.TableBody,null));else{if(!o&&!i)return g().createElement(ee.A,{icon:E.LockIcon,color:"#6a6e73",title:"You do not have access to Baselines",text:["Contact your organization administrator(s) for more information."]});m=this.renderRows(a),t=g().createElement(y.Table,{className:"baseline-table","aria-label":"Baselines Table","data-ouia-component-id":"baselines-table",onSort:this.onSort,onSelect:!(!a&&("CHECKBOX"!==b&&"COMPARISON"!==b||u))&&p,sortBy:this.state.params.sortBy,cells:l,rows:m,canSelectAll:!1,selectVariant:c?y.RowSelectVariant.checkbox:y.RowSelectVariant.radio,isStickyHeader:!0},g().createElement(y.TableHeader,null),g().createElement(y.TableBody,null))}return g().createElement(A.Card,{className:"pf-t-light pf-m-opaque-100 tableNoPadding"},g().createElement(A.CardBody,null,t))}},{key:"render",value:function(){var e=this,t=this.props,n=t.createButton,a=t.emptyState,o=t.exportStatus,r=t.exportToCSV,l=t.exportToJSON,i=t.exportButton,s=t.hasMultiSelect,c=t.kebab,u=t.leftAlignToolbar,d=t.loading,p=t.permissions,f=t.resetBaselinesExportStatus,b=t.selectedBaselineIds,m=t.tableData,h=t.tableId,v=t.totalBaselines,y=this.state.params,E=y.page,B=y.perPage;return g().createElement(ne.N.Consumer,null,(function(t){return g().createElement(g().Fragment,null,"CHECKBOX"===h&&a&&!d?e.renderBaselinesPageError():g().createElement(g().Fragment,null,g().createElement($,{createButton:n,exportButton:i,exportStatus:o,kebab:c,onSearch:e.onSearch,tableId:h,fetchWithParams:e.fetchWithParams,tableData:m,onBulkSelect:e.onBulkSelect,hasMultiSelect:s,selectedBaselineIds:b,isDeleteDisabled:(null==b?void 0:b.length)<1,page:E,perPage:B,totalBaselines:v,updatePagination:e.updatePagination,exportToCSV:r,exportToJSON:l,leftAlignToolbar:u,loading:d,permissions:p,resetBaselinesExportStatus:f,store:null==t?void 0:t.registry.getStore()}),a&&!d?e.renderEmptyState(p):e.renderTable(p),g().createElement(S.TableToolbar,{isFooter:!0},g().createElement(A.ToolbarGroup,{className:"pf-c-pagination"},g().createElement(A.ToolbarItem,null,g().createElement(z.A,{page:E,perPage:B,total:p.baselinesRead?v:0,isCompact:!1,updatePagination:e.updatePagination,tableId:h}))))))}))}}]);var n,l}(b.Component);ie.propTypes={loading:h().bool,tableData:h().array,fetchBaselines:h().func,tableId:h().string,hasMultiSelect:h().bool,onClick:h().func,kebab:h().bool,createButton:h().bool,exportButton:h().bool,exportStatus:h().string,onSelect:h().func,columns:h().array,selectedBaselineIds:h().array,totalBaselines:h().number,exportToCSV:h().func,exportToJSON:h().func,permissions:h().object,basketIsVisible:h().bool,leftAlignToolbar:h().bool,hasSwitch:h().bool,notificationsSwitchError:h().object,emptyState:h().bool,selectBaseline:h().func,toggleNotificationPending:h().func,toggleNotificationFulfilled:h().func,toggleNotificationRejected:h().func,baselineError:h().object,revertBaselineFetch:h().func,bulkSelectBasket:h().func,resetBaselinesExportStatus:h().func};const se=(0,v.connect)(null,(function(e){return{fetchBaselines:function(t,n){return e(I.A.fetchBaselines(t,n))},exportToCSV:function(t,n){e(I.A.exportToCSV(t,n))},exportToJSON:function(t,n){e(I.A.exportToJSON(t,n))},toggleNotificationPending:function(){return e(F.p.toggleNotificationPending())},toggleNotificationFulfilled:function(t){return e(F.p.toggleNotificationFulfilled(t))},toggleNotificationRejected:function(t,n,a){e(F.p.toggleNotificationRejected(t,n,a))}}}))(ie)},46493:(e,t,n)=>{n.d(t,{A:()=>f});var a=n(80296),o=n(32995),r=n.n(o),l=n(5556),i=n.n(l),s=n(13054);function c(e){var t=e.baselineData,n=e.classname,a=e.isChecked,o=e.handleNotificationToggle,l=e.hasLabel;return r().createElement(s.Switch,{className:n,"aria-label":"notifications-toggle",isChecked:a,onChange:function(){return o(t)},labelOff:l?"Notifications are disabled":null,label:l?"Notifications are enabled":null,isReversed:!0})}c.propTypes={baselineData:i().object,classname:i().string,handleNotificationToggle:i().func,hasLabel:i().bool,isChecked:i().bool};const u=c;var d=n(68504);function p(e){var t=e.badgeCount,n=e.baselineData,l=e.classname,i=e.hasBadge,c=e.hasLabel,p=e.hasSwitch,f=e.index,b=e.notificationsSwitchError,g=e.toggleNotificationPending,m=e.toggleNotificationFulfilled,h=e.toggleNotificationRejected,v=(0,o.useState)(n.notifications_enabled),y=(0,a.A)(v,2),S=y[0],A=y[1];return(0,o.useEffect)((function(){(null==b?void 0:b.id)===n.id&&A(!S)}),[b]),r().createElement(r().Fragment,null,p?r().createElement(u,{classname:l,isChecked:S,hasLabel:c,handleNotificationToggle:function(e){var t={display_name:e.display_name,facts_patch:[],notifications_enabled:!S};d.Ay.toggleNotificationSwitch(e.id,t,g,m,h),A(!S)},baselineData:n}):null,i?r().createElement(s.Badge,{key:f,isRead:!(t>0)||null},t):null)}p.propTypes={badgeCount:i().number,baselineData:i().object,classname:i().string,hasBadge:i().bool,hasLabel:i().bool,hasSwitch:i().bool,index:i().number,notificationsSwitchError:i().object,toggleNotificationPending:i().func,toggleNotificationFulfilled:i().func,toggleNotificationRejected:i().func};const f=p},59675:(e,t,n)=>{n.d(t,{A:()=>m});var a=n(23029),o=n(92901),r=n(50388),l=n(53954),i=n(15361),s=n(32995),c=n.n(s),u=n(5556),d=n.n(u),p=n(13054);function f(e,t,n){return t=(0,l.A)(t),(0,r.A)(e,b()?Reflect.construct(t,n||[],(0,l.A)(e).constructor):t.apply(e,n))}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}var g=function(e){function t(e){var n;return(0,a.A)(this,t),(n=f(this,t,[e])).state={kebabOpened:!1},n.toggleKebab=function(){var e=n.state.kebabOpened;n.setState({kebabOpened:!e})},n}return(0,i.A)(t,e),(0,o.A)(t,[{key:"render",value:function(){var e=this.props,t=e.dropdownItems,n=e.ouiaId,a=this.state.kebabOpened;return c().createElement(p.Dropdown,{id:"action-kebab","aria-label":"action-kebab",style:{float:"left"},ouiaId:n||"action-kebab",toggle:c().createElement(p.KebabToggle,{"data-ouia-component-type":"PF4/DropdownToggle","data-ouia-component-id":n?n+"-toggle":"action-kebab-toggle",onToggle:this.toggleKebab}),isOpen:a,dropdownItems:t,isPlain:!0})}}])}(s.Component);g.propTypes={dropdownItems:d().array,ouiaId:d().string};const m=g},91988:(e,t,n)=>{n.d(t,{A:()=>h});var a=n(23029),o=n(92901),r=n(50388),l=n(53954),i=n(15361),s=n(32995),c=n.n(s),u=n(5556),d=n.n(u),p=n(13054),f=n(94798);function b(e,t,n){return t=(0,l.A)(t),(0,r.A)(e,g()?Reflect.construct(t,n||[],(0,l.A)(e).constructor):t.apply(e,n))}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(g=function(){return!!e})()}var m=function(e){function t(e){return(0,a.A)(this,t),b(this,t,[e])}return(0,i.A)(t,e),(0,o.A)(t,[{key:"render",value:function(){var e=this.props,t=e.dropdownItems,n=e.isOpen,a=e.onToggle,o=e.ouiaId;return c().createElement(p.Dropdown,{toggle:c().createElement(p.DropdownToggle,{ouiaId:o?o+"-toggle":"action-kebab-toggle",toggleIndicator:null,onToggle:a},c().createElement(f.ExportIcon,{className:"pointer not-active"})),isOpen:n,ouiaId:o||"export-dropdown",isPlain:!0,position:p.DropdownPosition.left,dropdownItems:t})}}])}(s.Component);m.propTypes={dropdownItems:d().array,isOpen:d().bool,onToggle:d().func,ouiaId:d().string};const h=m},8456:(e,t,n)=>{n.d(t,{A:()=>v});var a=n(80296),o=n(23029),r=n(92901),l=n(50388),i=n(53954),s=n(15361),c=n(64467),u=n(32995),d=n.n(u),p=n(5556),f=n.n(p),b=n(13054);function g(e,t,n){return t=(0,i.A)(t),(0,l.A)(e,m()?Reflect.construct(t,n||[],(0,i.A)(e).constructor):t.apply(e,n))}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}var h=function(e){function t(e){var n;return(0,o.A)(this,t),n=g(this,t,[e]),(0,c.A)(n,"isFilterSelected",(function(e){for(var t in e)if(e[t].isSelected)return!0;return!1})),(0,c.A)(n,"buildBody",(function(){var e=n.props.globalFilterState,t=e.sidsFilter,o=e.tagsFilter,r=e.workloadsFilter,l="",i=!0;for(var s in r)r[s].isSelected&&(i?(l="Workloads: ".concat(s),i=!1):l="".concat(l,", ").concat(s));if(i||(l+=". "),t.length){l+="SAP ID (SID): ";for(var c=0;c<t.length;c++)l+=t[c],c+1===t.length?l+=". ":l+=", "}if(o.length){var u=[],d={};l+="Tags: ",o.forEach((function(e){u.push(e.split("/"))})),u.forEach((function(e){e[0]in d?d[e[0]].push(e[1]):d[e[0]]=[e[1]]}));for(var p=0,f=Object.entries(d);p<f.length;p++){var b=(0,a.A)(f[p],2),g=b[0],m=b[1];l+=g+": ";for(var h=0;h<m.length;h++)l+=m[h],h+1===m.length?l+=". ":l+=", "}}return l})),n}return(0,s.A)(t,e),(0,r.A)(t,[{key:"render",value:function(){var e=this.props.globalFilterState,t=e.sidsFilter,n=e.tagsFilter,a=e.workloadsFilter;return d().createElement(d().Fragment,null,this.isFilterSelected(a)||t.length>0||n.length>0?d().createElement(b.Alert,{variant:"info",title:"Your systems are pre-filtered by the global context selector.",isInline:!0},d().createElement("p",null,this.buildBody())):null)}}])}(u.Component);h.propTypes={globalFilterState:f().object};const v=h},97417:(e,t,n)=>{n.d(t,{V:()=>o});var a=n(52623);const o={selectHistoricProfiles:function(e){return{type:a.A.SELECT_HISTORIC_PROFILES,payload:e}}}},35422:(e,t,n)=>{n.d(t,{A:()=>m,x:()=>g});var a=n(23029),o=n(92901),r=n(50388),l=n(53954),i=n(15361),s=n(32995),c=n.n(s),u=n(5556),d=n.n(u),p=n(13054);function f(e,t,n){return t=(0,l.A)(t),(0,r.A)(e,b()?Reflect.construct(t,n||[],(0,l.A)(e).constructor):t.apply(e,n))}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}var g=function(e){function t(e){var n;return(0,a.A)(this,t),(n=f(this,t,[e])).onSetPage=n.onSetPage.bind(n),n.onPerPageSelect=n.onPerPageSelect.bind(n),n}return(0,i.A)(t,e),(0,o.A)(t,[{key:"onSetPage",value:function(e,t){var n=this.props,a=n.tableId,o=n.updatePagination,r={page:t,perPage:this.props.perPage};a?o(r,a):o(r)}},{key:"onPerPageSelect",value:function(e,t){var n=this.props,a=n.tableId,o=n.updatePagination,r={page:1,perPage:t};a?o(r,a):o(r)}},{key:"render",value:function(){var e=this.props,t=e.total,n=e.page,a=e.perPage,o=e.isCompact,r=e.widgetId,l=e.variant,i=e.ouiaId;return c().createElement(p.Pagination,{itemCount:t||0,widgetId:r,page:0===t?0:n,perPage:a,variant:l,onSetPage:this.onSetPage,onPerPageSelect:this.onPerPageSelect,isCompact:o,ouiaId:i})}}])}(s.Component);g.propTypes={perPage:d().number,page:d().number,updatePagination:d().func,total:d().number,isCompact:d().bool,tableId:d().string,widgetId:d().string,variant:d().any,ouiaId:d().string};const m=g},91950:(e,t,n)=>{n.d(t,{A:()=>I});var a=n(10467),o=n(64467),r=n(54756),l=n.n(r),i=n(32995),s=n.n(i),c=n(61225),u=n(5556),d=n.n(u),p=n(40941),f=n(94798),b=n(30110),g=n(4885),m=n(99249),h=n(84804),v=n(97417),y=n(73662),S=n(17763);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=function(e){var t=e.baselineId,n=e.createBaselineModal,o=e.deselectHistoricalProfiles,r=e.driftClearFilters,u=e.entities,d=e.permissions,g=e.hasMultiSelect,m=e.historicalProfiles,v=e.isAddSystemNotifications,A=e.selectedSystemIds,B=e.selectEntities,I=e.selectHistoricProfiles,P=e.selectSystemsToAdd,k=e.selectVariant,T=e.setSelectedSystemIds,w=e.systemNotificationIds,O=e.systemColumns,C=(0,c.useSelector)((function(e){var t=e.globalFilterState;return null==t?void 0:t.tagsFilter})),x=(0,c.useSelector)((function(e){var t=e.globalFilterState;return null==t?void 0:t.workloadsFilter})),D=(0,c.useSelector)((function(e){var t=e.globalFilterState;return null==t?void 0:t.sidsFilter})),N=(0,i.useRef)((function(){})),F=function(e){var t=[];switch(e){case"none":t={id:0,selected:!1,bulk:!0};break;case"deselect-page":t={id:0,selected:!1};break;case"page":t={id:0,selected:!0}}B(t)};return d.inventoryRead?s().createElement("div",{className:"inventory-toolbar-no-padding"},s().createElement(S.N.Consumer,null,(function(e){var i,c,d,f;return s().createElement(p.A,{columns:O,onLoad:function(a){var l,i=a.mergeWithEntities,s=a.INVENTORY_ACTION_TYPES,c=a.api;N.current=null==c?void 0:c.getEntities,r(),null==e||null===(l=e.registry)||void 0===l||l.register(i((0,b.A)(s,t,n,m,g,o,v,I,w,P))),T(n?[]:A)},showTags:!0,noDetail:!0,customFilters:{tags:C,filter:{system_profile:E(E(E(E({},(null==x||null===(i=x.SAP)||void 0===i?void 0:i.isSelected)&&{sap_system:!0}),(null==x||null===(c=x["Ansible Automation Platform"])||void 0===c?void 0:c.isSelected)&&{ansible:"not_nil"}),(null==x||null===(d=x["Microsoft SQL"])||void 0===d?void 0:d.isSelected)&&{mssql:"not_nil"}),(null==D?void 0:D.length)>0&&{sap_sids:D})}},tableProps:{canSelectAll:!1,selectVariant:k,ouiaId:"systems-table",className:"inventory-align",isStickyHeader:!0},getEntities:w&&!v?function(){var e=(0,a.A)(l().mark((function e(t,n){var a,o,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(w||[]).slice((n.page-1)*n.per_page,n.page*n.per_page),e.next=3,null===(a=N.current)||void 0===a?void 0:a.call(N,o,{hasItems:!0},!0);case 3:return r=e.sent,e.abrupt("return",E(E({},r),{},{results:r.results.map((function(e){return E(E({},e),o.find((function(t){return t.uuid===e.id}))||{})})),total:(w||[]).length,page:n.page,per_page:n.per_page}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}():function(){var e=(0,a.A)(l().mark((function e(t,n){var a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(a=N.current)||void 0===a?void 0:a.call(N,[],n,!0);case 2:return o=e.sent,e.abrupt("return",E({},o));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),bulkSelect:F&&!v&&{id:"systems-bulk-select",isDisabled:!g,count:null==u||null===(f=u.selectedSystemIds)||void 0===f?void 0:f.length,items:[{title:"Select none (0)",onClick:function(){F("none")}},{title:"Select page (".concat((null==u?void 0:u.count)||0,")"),onClick:function(){F("page")}},{title:"Deselect page (".concat((null==u?void 0:u.count)||0,")"),onClick:function(){F("deselect-page")}}],onSelect:function(){var e;(null==u?void 0:u.rows.length)===(null==u||null===(e=u.selectedSystems)||void 0===e?void 0:e.length)?F("deselect-page"):F("page")},checked:u&&u.selectedSystemIds?y.A.findCheckedValue(null==u?void 0:u.total,null==u?void 0:u.selectedSystemIds.length):null}})}))):s().createElement(h.A,{icon:f.LockIcon,color:"#6a6e73",title:"You do not have access to the inventory",text:["Contact your organization administrator(s) for more information."]})};B.propTypes={setSelectedSystemIds:d().func,selectedSystemIds:d().array,createBaselineModal:d().bool,driftClearFilters:d().func,historicalProfiles:d().array,hasMultiSelect:d().bool,permissions:d().object,entities:d().object,selectEntities:d().func,selectVariant:d().string,systemNotificationIds:d().array,isAddSystemNotifications:d().bool,baselineId:d().string,selectHistoricProfiles:d().func,selectSystemsToAdd:d().func,selectSingleHSP:d().func,deselectHistoricalProfiles:d().func,systemColumns:d().array},B.defaultProps={selectedSystemIds:[]};const I=(0,c.connect)(null,(function(e){return{selectHistoricProfiles:function(t){return e(v.V.selectHistoricProfiles(t))},setSelectedSystemIds:function(t){return e(g.h.setSelectedSystemIds(t))},driftClearFilters:function(){return e(m.A.clearAllFilters())},selectEntities:function(t){return e({type:"SELECT_ENTITY",payload:t})},selectSingleHSP:function(t){return e(m.A.selectSingleHSP(t))}}}))(B)},4885:(e,t,n)=>{n.d(t,{h:()=>a.A});var a=n(67270);n(61692)}}]);
//# sourceMappingURL=../sourcemaps/489.85275b90fbae9ad1e25efe6fd963d1c9.js.map