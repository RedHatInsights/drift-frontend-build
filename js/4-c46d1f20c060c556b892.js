(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{342:function(e,t,a){
/** @license MIT License (c) copyright 2010-2014 original author or authors */
var n=a(568);t.find=function(e,t,a,o){if("string"!=typeof t)return;if(""===t)return{target:e,key:void 0};if(t===r)return{target:e,key:""};var l,c=e,i=void 0!==o;return n(t,function(t){if(null==e)return c=null,!1;l=Array.isArray(e)?i?function(e,t,a,n){var r=t;if(r<0)throw new Error("array index out of bounds "+r);if(void 0!==n&&"function"==typeof e&&(r=e(t,a,n))<0)throw new Error("could not find patch context "+n);return r}(a,d(t),e,o):"-"===t?t:d(t):t,c=e,e=e[l]}),null===c?void 0:{target:c,key:l}},t.join=function(e){return e.join(r)},t.absolute=function(e){return e[0]===r?e:r+e},t.parse=function(e){var t=[];return n(e,t.push.bind(t)),t},t.contains=function(e,t){return 0===t.indexOf(e)&&t[e.length]===r},t.encodeSegment=function(e){return e.replace(u,s).replace(o,l)},t.decodeSegment=function(e){return e.replace(c,r).replace(p,i)},t.parseArrayIndex=d,t.isValidArrayIndex=h;var r="/",o=/\//g,l="~1",c=/~1/g,i="~",u=/~/g,s="~0",p=/~0/g;var f=/^(0|[1-9]\d*)$/;function h(e){return f.test(e)}function d(e){if(h(e))return+e;throw new SyntaxError("invalid array index "+e)}},343:function(e,t){function a(e){Error.call(this),this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}e.exports=a,a.prototype=Object.create(Error.prototype),a.prototype.constructor=a},433:function(e,t){
/** @license MIT License (c) copyright 2010-2014 original author or authors */
t.cons=function(e,t){var a=t.length,n=new Array(a+1);n[0]=e;for(var r=0;r<a;++r)n[r+1]=t[r];return n},t.tail=function(e){for(var t=e.length-1,a=new Array(t),n=0;n<t;++n)a[n]=e[n+1];return a},t.map=function(e,t){for(var a=new Array(t.length),n=0;n<t.length;++n)a[n]=e(t[n]);return a}},434:function(e,t,a){var n=a(342),r=a(435),o=a(569),l=a(570),c=a(433),i=a(436),u=a(343),s=a(437),p=n.find,f=n.parseArrayIndex;function h(e,t){var a=e.target;if(Array.isArray(a))if("-"===e.key)a.push(t);else{if(e.key>a.length)throw new u("target of add outside of array bounds");a.splice(e.key,0,t)}else{if(!y(a))throw new u("target of add must be an object or array "+e.key);a[e.key]=t}}function d(e,t){if(e.path===t.path&&"remove"===t.op)throw new TypeError("Can't commute add,remove -> remove,add for same path");return l(e,t)}function m(e){var t,a=e.target;if(Array.isArray(a))return(t=a.splice(f(e.key),1))[0];if(y(a))return t=a[e.key],delete a[e.key],t;throw new u("target of remove must be an object or array")}function v(e){return void 0===e||null==e.target&&void 0!==e.key}function b(e){return void 0!==e.key&&void 0===e.target[e.key]}function y(e){return null!==e&&"object"==typeof e}t.test={apply:function(e,t,a){var n,r,l=p(e,t.path,a.findContext,t.context),c=l.target;Array.isArray(c)?(n=f(l.key),r=c[n]):r=void 0===l.key?l.target:l.target[l.key];if(!o(r,t.value))throw new i("test failed "+JSON.stringify(t));return e},inverse:function(e,t){return e.push(t),1},commute:function(e,t){if(e.path===t.path&&"remove"===t.op)throw new TypeError("Can't commute test,remove -> remove,test for same path");if("test"===t.op||"replace"===t.op)return[t,e];return l(e,t)}},t.add={apply:function(e,t,a){var n=p(e,t.path,a.findContext,t.context);if(v(n))throw new u("path does not exist "+t.path);if(void 0===t.value)throw new u("missing value");var o=r(t.value);if(void 0===n.key)return o;return h(n,o),e},inverse:function(e,t){var a=t.context;void 0!==a&&(a={before:a.before,after:c.cons(t.value,a.after)});return e.push({op:"test",path:t.path,value:t.value,context:a}),e.push({op:"remove",path:t.path,context:a}),1},commute:d},t.remove={apply:function(e,t,a){var n=p(e,t.path,a.findContext,t.context);if(v(n)||void 0===n.target[n.key])throw new u("path does not exist "+t.path);return m(n),e},inverse:function(e,t,a,n){var r=n[a-1];if(void 0===r||"test"!==r.op||r.path!==t.path)throw new s("cannot invert remove w/o test");var o=r.context;void 0!==o&&(o={before:o.before,after:c.tail(o.after)});return e.push({op:"add",path:r.path,value:r.value,context:o}),2},commute:function(e,t){if(e.path===t.path&&"remove"===t.op)return[t,e];return l(e,t)}},t.replace={apply:function(e,t,a){var n=p(e,t.path,a.findContext,t.context);if(v(n)||b(n))throw new u("path does not exist "+t.path);if(void 0===t.value)throw new u("missing value");var o=r(t.value);if(void 0===n.key)return o;var l=n.target;Array.isArray(l)?l[f(n.key)]=o:l[n.key]=o;return e},inverse:function(e,t,a,n){var r=n[a-1];if(void 0===r||"test"!==r.op||r.path!==t.path)throw new s("cannot invert replace w/o test");var o=r.context;void 0!==o&&(o={before:o.before,after:c.cons(r.value,c.tail(o.after))});return e.push({op:"test",path:r.path,value:t.value}),e.push({op:"replace",path:r.path,value:r.value}),2},commute:function(e,t){if(e.path===t.path&&"remove"===t.op)throw new TypeError("Can't commute replace,remove -> remove,replace for same path");if("test"===t.op||"replace"===t.op)return[t,e];return l(e,t)}},t.move={apply:function(e,t,a){if(n.contains(t.path,t.from))throw new u("move.from cannot be ancestor of move.path");var r=p(e,t.path,a.findContext,t.context),o=p(e,t.from,a.findContext,t.fromContext);return h(r,m(o)),e},inverse:function(e,t){return e.push({op:"move",path:t.from,context:t.fromContext,from:t.path,fromContext:t.context}),1},commute:function(e,t){if(e.path===t.path&&"remove"===t.op)throw new TypeError("Can't commute move,remove -> move,replace for same path");return l(e,t)}},t.copy={apply:function(e,t,a){var n=p(e,t.path,a.findContext,t.context),o=p(e,t.from,a.findContext,t.fromContext);if(v(o)||b(o))throw new u("copy.from must exist");var l,c=o.target;l=Array.isArray(c)?c[f(o.key)]:c[o.key];return h(n,r(l)),e},inverse:function(e,t){throw new s("cannot invert "+t.op)},commute:d}},435:function(e,t){function a(e){return null==e||"object"!=typeof e?e:Array.isArray(e)?function(e){for(var t=e.length,n=new Array(t),r=0;r<t;++r)n[r]=a(e[r]);return n}(e):function(e){for(var t,n=Object.keys(e),r={},o=0,l=n.length;o<l;++o)t=n[o],r[t]=a(e[t]);return r}(e)}
/** @license MIT License (c) copyright 2010-2014 original author or authors */
e.exports=a},436:function(e,t){function a(e){Error.call(this),this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}e.exports=a,a.prototype=Object.create(Error.prototype),a.prototype.constructor=a},437:function(e,t){function a(e){Error.call(this),this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}e.exports=a,a.prototype=Object.create(Error.prototype),a.prototype.constructor=a},565:function(e,t,a){
/** @license MIT License (c) copyright 2010-2014 original author or authors */
var n=a(566),r=a(433),o=a(567),l=a(571),c=a(342).encodeSegment;t.diff=function(e,t,a){return s(e,t,"",function(e,t){return"object"==typeof e?{patch:t,hash:p(h,e.hash,u),makeContext:p(h,e.makeContext,f),invertible:!(!1===e.invertible)}:{patch:t,hash:p(h,e,u),makeContext:f,invertible:!0}}(a,[])).patch},t.patch=o.apply,t.patchInPlace=o.applyInPlace,t.inverse=l,t.clone=o.clone,t.InvalidPatchOperationError=a(343),t.TestFailedError=a(436),t.PatchNotInvertibleError=a(437);var i=o.isValidObject,u=o.defaultHash;function s(e,t,a,o){return Array.isArray(e)&&Array.isArray(t)?function(e,t,a,o){var l=r.map(o.hash,e),c=r.map(o.hash,t),i=n.compare(l,c);return function(e,t,a,r,o){var l=0;return n.reduce(function(r,o,c,i){var u,p,f=r.patch,h=a+"/"+(i+l);return o===n.REMOVE?(u=f[f.length-1],p=r.makeContext(i,e),r.invertible&&f.push({op:"test",path:h,value:e[i],context:p}),void 0!==u&&"add"===u.op&&u.path===h?(u.op="replace",u.context=p):f.push({op:"remove",path:h,context:p}),l-=1):o===n.ADD?(f.push({op:"add",path:h,value:t[c],context:r.makeContext(i,e)}),l+=1):s(e[i],t[c],h,r),r},r,o)}(e,t,a,o,i)}(e,t,a,o):i(e)&&i(t)?function(e,t,a,n){var r,o,l=Object.keys(t),i=n.patch;for(r=l.length-1;r>=0;--r){o=l[r];var u=a+"/"+c(o);void 0!==e[o]?s(e[o],t[o],u,n):i.push({op:"add",path:u,value:t[o]})}for(l=Object.keys(e),r=l.length-1;r>=0;--r)if(o=l[r],void 0===t[o]){var p=a+"/"+c(o);n.invertible&&i.push({op:"test",path:p,value:e[o]}),i.push({op:"remove",path:p})}return n}(e,t,a,o):function(e,t,a,n){e!==t&&(n.invertible&&n.patch.push({op:"test",path:a,value:e}),n.patch.push({op:"replace",path:a,value:t}));return n}(e,t,a,o)}function p(e,t,a){return e(t)?t:a}function f(){}function h(e){return"function"==typeof e}},566:function(e,t){var a,n,r;function o(e,t,o,l,c,i){return t[c+l]===o[i+l]?{value:e[i+1][c+1].value,type:r}:e[i][c+1].value<e[i+1][c].value?{value:e[i][c+1].value+1,type:a}:{value:e[i+1][c].value+1,type:n}}
/** @license MIT License (c) copyright 2010-2014 original author or authors */
t.compare=function(e,t){for(var l=e.length,c=t.length,i=function(e,t){var a=0,n=Math.min(e.length,t.length);for(;a<n&&e[a]===t[a];)++a;return a}(e,t),u=i<l&&i<c?function(e,t){var a=e.length-1,n=t.length-1,r=Math.min(a,n),o=0;for(;o<r&&e[a-o]===t[n-o];)++o;return o}(e,t):0,s=u+i-1,p=function(e,t){var o,l,c,i=[];for(c=i[t]=[],l=0;l<e;++l)c[l]={value:e-l,type:a};for(o=0;o<t;++o)i[o]=[],i[o][e]={value:t-o,type:n};return i[t][e]={value:0,type:r},i}(l-=s,c-=s),f=l-1;f>=0;--f)for(var h=c-1;h>=0;--h)p[h][f]=o(p,e,t,i,f,h);return{prefix:i,matrix:p,suffix:u}},t.reduce=function(e,t,o){var l,c,i,u,s=o.matrix,p=o.prefix;for(l=0;l<p;++l)t=e(t,r,l,l);i=l,p=s.length,l=0,c=0;for(;l<p;)switch(u=s[l][c].type,t=e(t,u,l+i,c+i),u){case r:++l,++c;break;case a:++c;break;case n:++l}for(l+=i,c+=i,p=o.suffix,i=0;i<p;++i)t=e(t,r,l+i,c+i);return t},t.REMOVE=a=-1,t.ADD=n=1,t.EQUAL=r=0},567:function(e,t,a){
/** @license MIT License (c) copyright 2010-2014 original author or authors */
var n=a(434),r=a(435),o=a(343);t.apply=function(e,t,a){return c(e,r(t),a)},t.applyInPlace=c,t.clone=r,t.isValidObject=i,t.defaultHash=function(e){return i(e)||function(e){return"[object Array]"===Object.prototype.toString.call(e)}(e)?JSON.stringify(e):e};var l={};function c(e,t,a){if(a||(a=l),!Array.isArray(e))return t;for(var r,c,i=0;i<e.length;++i){if(c=e[i],void 0===(r=n[c.op]))throw new o("invalid op "+JSON.stringify(c));t=r.apply(t,c,a)}return t}function i(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}},568:function(e,t){
/** @license MIT License (c) copyright 2010-2014 original author or authors */
e.exports=function(e,t){var l,c,i,u;l=e.charAt(0)===n?1:0,c="",a.lastIndex=l;for(;i=a.exec(e);)if(u=i[0],c+=e.slice(l,a.lastIndex-u.length),l=a.lastIndex,u===n){if(!1===t(c))return e;c=""}else c+=u===o?n:r;return c+=e.slice(l),t(c),e};var a=/\/|~1|~0/g,n="/",r="~",o="~1"},569:function(e,t){function a(e,t){return e===t||(Array.isArray(e)&&Array.isArray(t)?function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!a(e[n],t[n]))return!1;return!0}(e,t):"object"==typeof e&&"object"==typeof t&&function(e,t){if(null===e&&null!==t||null!==e&&null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o,l=0;l<n.length;++l)if(!((o=n[l])in t&&a(e[o],t[o])))return!1;return!0}(e,t))}e.exports=a},570:function(e,t,a){var n=a(342);function r(e,t,a,n,r){var o=t.length-1,l=+t[o],c=+n[o],i=n.slice();return l>c?i:("add"===e.op||"copy"===e.op?i[o]=Math.max(0,c-r):"remove"===e.op&&(i[o]=Math.max(0,c+r)),i)}function o(e){return"remove"===e.op?{op:e.op,path:e.path}:"copy"===e.op||"move"===e.op?{op:e.op,path:e.path,from:e.from}:{op:e.op,path:e.path,value:e.value}}e.exports=function(e,t){var a=n.parse(e.path),l=n.parse(t.path),c=function(e,t){var a=e.length,n=t.length;if(0===a||0===n||a<2&&n<2)return[];var r=a===n?a-1:Math.min(a,n),o=0;for(;o<r&&e[o]===t[o];)++o;return e.slice(0,o)}(a,l),i=function(e,t,a){return n.isValidArrayIndex(e[a])&&n.isValidArrayIndex(t[a])}(a,l,c.length),u=o(e),s=o(t);return 0!==c.length||i?i?function(e,t,a,o){if(t.length===o.length)return function(e,t,a,r){var o,l=t.length-1,c=+t[l],i=+r[l];c<i?"add"===e.op||"copy"===e.op?((o=r.slice())[l]=Math.max(0,i-1),a.path=n.absolute(n.join(o))):"remove"===e.op&&((o=r.slice())[l]=i+1,a.path=n.absolute(n.join(o))):"add"===a.op||"copy"===a.op?((o=t.slice())[l]=c+1,e.path=n.absolute(n.join(o))):c>i&&"remove"===a.op&&((o=t.slice())[l]=Math.max(0,c-1),e.path=n.absolute(n.join(o)));return[a,e]}(e,t,a,o);t.length>o.length?(t=r(a,o,e,t,-1),e.path=n.absolute(n.join(t))):(o=r(e,t,a,o,1),a.path=n.absolute(n.join(o)));return[a,e]}(u,a,s,l):function(e,t,a,n){if(e.path===a.path)throw new TypeError("cannot commute "+e.op+","+a.op+" with identical object paths");return[a,e]}(u,0,s):[s,u]}},571:function(e,t,a){var n=a(434);function r(e,t,a,r){var o=n[t.op];return void 0!==o&&"function"==typeof o.inverse?o.inverse(e,t,a,r):1}e.exports=function(e){var t,a,n=[];for(t=e.length-1;t>=0;t-=a)a=r(n,e[t],t,e);return n}},576:function(e,t,a){"use strict";a.r(t);var n=a(23),r=a.n(n),o=a(36),l=a.n(o),c=a(15),i=a.n(c),u=a(16),s=a.n(u),p=a(17),f=a.n(p),h=a(18),d=a.n(h),m=a(19),v=a.n(m),b=a(1),y=a.n(b),g=a(4),E=a.n(g),k=a(20),x=a(239),w=a(373),C=a(374),D=a(401),F=a(403),N=a(402),T=a(447),S=a(432),A=a(182),B=a.n(A),O=a(387),M=a(389),V=a(353),j=a(388),I=a(380),R=a(378),_=a(351),L=a(407),P=a(347),U=a(222),K=function(e){function t(e){var a;return i()(this,t),(a=f()(this,d()(t).call(this,e))).submitBaselineName=a.submitBaselineName.bind(B()(B()(a))),a.state={baselineName:""},a.updateBaselineName=function(e){a.setState({baselineName:e})},a}return v()(t,e),s()(t,[{key:"submitBaselineName",value:function(){var e=this.state.baselineName,t=this.props,a=t.createBaseline,n=t.toggleCreateBaseline;a({display_name:e,baseline_facts:[]}),n()}},{key:"render",value:function(){var e=this.state.baselineName;return y.a.createElement(y.a.Fragment,null,y.a.createElement(O.a,{variant:O.b.full},y.a.createElement(M.a,{icon:L.a}),y.a.createElement(V.a,{headingLevel:"h5",size:"lg"},"Create baseline"),y.a.createElement(j.a,null,"Create a baseline name",y.a.createElement(I.a,null,y.a.createElement(R.a,{value:e,type:"text",onChange:this.updateBaselineName,"aria-label":"baseline name"}),y.a.createElement(_.a,{onClick:this.submitBaselineName},"Submit")))))}}]),t}(b.Component);K.propTypes={toggleCreateBaseline:E.a.func,createBaseline:E.a.func};var H=Object(k.connect)(null,function(e){return{toggleCreateBaseline:function(){return e(P.a.toggleCreateBaseline())},createBaseline:function(t){return e(U.a.createBaseline(t))}}})(K),J=a(12),z=a(170);var G={exportToCSV:function(e,t){var a={exportType:e,exportData:t,baselineRowData:arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]};return{type:z.a.EXPORT_BASELINES_LIST_TO_CSV,payload:a}}},q=a(366),Q=a(346),X=a(385),$=function(e){function t(e){var a;return i()(this,t),(a=f()(this,d()(t).call(this,e))).state={kebabOpened:!1},a.exportSelect=a.exportSelect.bind(B()(B()(a))),a.toggleKebab=function(){var e=a.state.kebabOpened;a.setState({kebabOpened:!e})},a}return v()(t,e),s()(t,[{key:"exportSelect",value:function(){var e=this.props,t=e.exportType,a=e.baselineTableData,n=e.baselineData,r=e.baselineRowData;this.toggleKebab(),"baseline list"===t?this.props.exportToCSV(t,a):"baselines data"===t&&this.props.exportToCSV(t,n,r)}},{key:"render",value:function(){var e=this.state.kebabOpened,t=[y.a.createElement(q.a,{key:"export",component:"button",onClick:this.exportSelect},"Export as CSV")];return y.a.createElement(Q.a,{style:{float:"left"},className:"action-kebab",toggle:y.a.createElement(X.a,{onToggle:this.toggleKebab}),isOpen:e,dropdownItems:t,isPlain:!0})}}]),t}(b.Component);$.propTypes={exportToCSV:E.a.func,baselineTableData:E.a.array,exportType:E.a.string,baselineData:E.a.array,baselineRowData:E.a.array};var W=Object(J.k)(Object(k.connect)(function(e){return{baselineTableData:e.baselinesTableState.baselineTableData,baselineData:e.baselinesTableState.baselineData}},function(e){return{exportToCSV:function(t,a,n){e(G.exportToCSV(t,a,n))}}})($)),Y=a(405),Z=a(355),ee=a(30);var te={toggleFactModal:function(){return{type:ee.a.TOGGLE_FACT_MODAL}},setFactData:function(e){return{type:ee.a.SET_FACT_DATA,payload:e}}},ae=function(e){function t(e){var a;return i()(this,t),(a=f()(this,d()(t).call(this,e))).handleAddFact=a.handleAddFact.bind(B()(B()(a))),a}return v()(t,e),s()(t,[{key:"handleAddFact",value:function(){var e=this.props,t=e.setFactData,a=e.toggleFactModal;t({factName:"",factValue:"",fact:[]}),a()}},{key:"render",value:function(){return y.a.createElement(D.a,{className:"display-margin"},y.a.createElement(F.a,null,y.a.createElement(N.a,null,y.a.createElement(_.a,{variant:"primary",onClick:this.handleAddFact},"Add fact"))))}}]),t}(b.Component);ae.propTypes={toggleFactModal:E.a.func,setFactData:E.a.func};var ne=Object(k.connect)(null,function(e){return{toggleFactModal:function(){return e(te.toggleFactModal())},setFactData:function(t){return e(te.setFactData(t))}}})(ae),re=a(375),oe=a(390),le=a(565),ce=a.n(le),ie=a(219),ue=function(e){function t(e){var a;return i()(this,t),(a=f()(this,d()(t).call(this,e))).editFact=a.editFact.bind(B()(B()(a))),a.deleteFact=a.deleteFact.bind(B()(B()(a))),a.addFact=a.addFact.bind(B()(B()(a))),a.state={isOpen:!1,factName:a.props.factName,factValue:a.props.factValue,fact:a.props.fact},a}return v()(t,e),s()(t,[{key:"onKebabToggle",value:function(e){this.setState({isOpen:e})}},{key:"editFact",value:function(){var e=this.state,t=e.factName,a=e.factValue,n=e.fact,r=this.props,o=r.toggleFactModal,l=r.setFactData;o(),l({factName:t,factValue:a,fact:n})}},{key:"deleteFact",value:function(){var e,t=this.state,a=t.factName,n=t.factValue,r=t.fact,o=this.props,l=o.baselineData,c=o.patchBaseline,i={name:a,value:n};if(r.values&&""!==n){var u=he.buildDeletedSubFact(i,r);e=he.makeDeleteFactPatch(u,l,r)}else e=he.makeDeleteFactPatch(i,l,[]);c(l.id,e)}},{key:"addFact",value:function(){var e=this.state.fact,t=this.props,a=t.toggleFactModal,n=t.setFactData;a(),n({fact:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.isOpen,n=t.factValue,r=t.fact,o=[y.a.createElement(q.a,{key:"edit",component:"button",onClick:this.editFact},r.values&&""===n?"Edit category":"Edit fact"),y.a.createElement(q.a,{key:"delete",component:"button",onClick:this.deleteFact},r.values&&""===n?"Delete category":"Delete fact")];return r.values&&""===n&&o.push(y.a.createElement(q.a,{key:"add fact",component:"button",onClick:this.addFact},"Add sub fact")),y.a.createElement(Q.a,{position:ie.d.right,style:{float:"right"},className:"baseline-fact-kebab",toggle:y.a.createElement(X.a,{onToggle:function(t){return e.onKebabToggle(t)}}),isOpen:a,dropdownItems:o,isPlain:!0})}}]),t}(b.Component);ue.propTypes={factName:E.a.string,factValue:E.a.string,fact:E.a.object,toggleFactModal:E.a.func,setFactData:E.a.func,baselineData:E.a.obj,patchBaseline:E.a.func};var se=Object(k.connect)(function(e){return{baselineData:e.baselinesTableState.baselineData}},function(e){return{toggleFactModal:function(){return e(te.toggleFactModal())},setFactData:function(t){return e(te.setFactData(t))},patchBaseline:function(t,a){return e(U.a.patchBaseline(t,a))}}})(ue);function pe(e,t,a){var n=[];return Array.isArray(a)&&0===a.length?t.baseline_facts.forEach(function(t){t.name!==e.name&&n.push(t)}):t.baseline_facts.forEach(function(e){e.name!==a.name&&n.push(e)}),n}function fe(e,t){return ce.a.diff(t,e)}var he={renderKebab:function(e,t,a){return y.a.createElement("td",null,y.a.createElement(se,{factName:e,factValue:t,fact:a}))},buildNewFactData:function(e,t,a,n){var r={},o=[];return n&&!Array.isArray(n)?(n.values.forEach(function(e){o.push(e)}),o.push({name:t,value:a}),r.name=n.name,r.values=o,r):(r.name=t,e?r.values=[]:r.value=a,r)},buildEditedFactData:function(e,t,a,n,r,o){var l={},c=[],i=t,u=n;if(e)l.name=a,o.values.forEach(function(e){c.push(e)}),l.values=c;else if(o.values&&""!==r){l.name=o.name;var s={name:a,value:r};o.values.forEach(function(e){e.name!==i&&e.value!==u&&c.push(e)}),c.push(s),l.values=c}else l={name:a,value:r};return l},buildDeletedSubFact:function(e,t){var a=[];return t.values.forEach(function(t){t.name!==e.name&&t.value!==e.value&&a.push(t)}),{name:t.name,values:a}},makeAddFactPatch:function(e,t,a){if(void 0===e||void 0===t)return{};var n=pe(e,t,a);n.push(e);var r=fe(n,t.baseline_facts);return{display_name:t.display_name,facts_patch:r}},makeDeleteFactPatch:function(e,t,a){if(void 0===e||void 0===t)return{};var n=pe(e,t,a);e.values&&n.push(e);var r=fe(n,t.baseline_facts);return{display_name:t.display_name,facts_patch:r}}},de=function(e){function t(e){var a;return i()(this,t),(a=f()(this,d()(t).call(this,e))).cancelFact=a.cancelFact.bind(B()(B()(a))),a.confirmModal=a.confirmModal.bind(B()(B()(a))),a.renderCategoryCheckbox=a.renderCategoryCheckbox.bind(B()(B()(a))),a.renderFactInput=a.renderFactInput.bind(B()(B()(a))),a.renderValueInput=a.renderValueInput.bind(B()(B()(a))),a.renderModalBody=a.renderModalBody.bind(B()(B()(a))),a.patchFact=a.patchFact.bind(B()(B()(a))),a.state={factName:a.props.factName,factValue:a.props.factValue,factData:a.props.factData},""!==a.props.factName&&""===a.props.factValue?a.state.categoryCheck=!0:a.state.categoryCheck=!1,a.handleChange=function(e){a.setState({categoryCheck:e})},a.handleNewName=function(e){a.setState({factName:e})},a.handleNewValue=function(e){a.setState({factValue:e})},a}return v()(t,e),s()(t,[{key:"cancelFact",value:function(){(0,this.props.toggleFactModal)()}},{key:"confirmModal",value:function(){var e=this.props,t=e.toggleFactModal,a=e.factName,n=e.factValue;""===a&&""===n||void 0===a&&void 0===n?this.addFact():this.editFact(),t()}},{key:"addFact",value:function(){var e=this.state,t=e.categoryCheck,a=e.factName,n=e.factValue,r=e.factData,o=he.buildNewFactData(t,a,n,r);this.patchFact(o,r)}},{key:"editFact",value:function(){var e=this.state,t=e.categoryCheck,a=e.factName,n=e.factValue,r=e.factData,o=he.buildEditedFactData(t,this.props.factName,a,this.props.factValue,n,r);this.patchFact(o,r)}},{key:"patchFact",value:function(e,t){var a=this.props,n=a.baselineData,r=a.patchBaseline,o=he.makeAddFactPatch(e,n,t);r(n.id,o)}},{key:"renderCategoryCheckbox",value:function(){var e=this.state.categoryCheck,t=this.props,a=t.factName,n=t.factValue;return""!==a&&""===n?y.a.createElement(re.a,{label:"This is a category","aria-label":"controlled checkbox example",id:"categoryCheck",name:"isCategory",defaultChecked:!0,isDisabled:!0}):""!==a&&""!==n?y.a.createElement(re.a,{label:"This is a category","aria-label":"controlled checkbox example",id:"categoryCheck",name:"isCategory",isDisabled:!0}):y.a.createElement(re.a,{label:"This is a category",isChecked:e,onChange:this.handleChange,"aria-label":"controlled checkbox example",id:"categoryCheck",name:"isCategory"})}},{key:"renderFactInput",value:function(){var e=this.state.factName;return y.a.createElement("div",{className:"fact-value"},"Fact name:",y.a.createElement("br",null),y.a.createElement(R.a,{value:e,type:"text",placeholder:"Name",onChange:this.handleNewName,isValid:""!==e&&void 0!==e,"aria-label":"fact name"}))}},{key:"renderValueInput",value:function(){var e,t=this.state,a=t.categoryCheck,n=t.factValue;return e=a?y.a.createElement(R.a,{type:"text","aria-label":"value",isDisabled:!0}):y.a.createElement(R.a,{value:n,type:"text",placeholder:"Value",onChange:this.handleNewValue,isValid:""!==n&&void 0!==n,"aria-label":"value"}),y.a.createElement("div",{className:"fact-value"},"Value:",y.a.createElement("br",null),e)}},{key:"renderModalBody",value:function(){return y.a.createElement(y.a.Fragment,null,this.renderCategoryCheckbox(),this.renderFactInput(),y.a.createElement("br",null),this.renderValueInput())}},{key:"render",value:function(){var e=this.props.factModalOpened;return y.a.createElement(oe.a,{title:"Fact add/edit",isOpen:e,onClose:this.cancelFact,width:"auto",actions:[y.a.createElement(_.a,{key:"confirm",variant:"primary",onClick:this.confirmModal},"Save"),y.a.createElement(_.a,{key:"cancel",variant:"primary",onClick:this.cancelFact},"Cancel")]},this.renderModalBody())}}]),t}(b.Component);de.propTypes={toggleFactModal:E.a.func,factModalOpened:E.a.bool,factName:E.a.string,factValue:E.a.string,factData:E.a.obj,baselineData:E.a.obj,patchBaseline:E.a.func};var me=Object(k.connect)(function(e){return{factModalOpened:e.factModalState.factModalOpened,factName:e.factModalState.factName,factValue:e.factModalState.factValue,factData:e.factModalState.factData,baselineData:e.baselinesTableState.baselineData}},function(e){return{toggleFactModal:function(){return e(te.toggleFactModal())},patchBaseline:function(t,a){return e(U.a.patchBaseline(t,a))}}})(de),ve=function(e){function t(e){return i()(this,t),f()(this,d()(t).call(this,e))}return v()(t,e),s()(t,[{key:"renderHeaderRow",value:function(){return y.a.createElement("tr",null,y.a.createElement("th",{className:"edit-baseline-header"},y.a.createElement("div",null,"Fact")),y.a.createElement("th",{className:"edit-baseline-header"},y.a.createElement("div",null,"Value")),y.a.createElement("th",null))}},{key:"renderLoadingRows",value:function(){for(var e=[],t=[],a=0;a<3;a+=1)t.push(y.a.createElement("td",null,y.a.createElement(x.Skeleton,{size:x.SkeletonSize.md})));for(var n=0;n<10;n+=1)e.push(y.a.createElement("tr",null,t));return e}},{key:"renderExpandableRowButton",value:function(e){var t=this;return this.props.expandedRows.includes(e)?y.a.createElement(Y.a,{className:"pointer active-blue",onClick:function(){return t.props.expandRow(e)}}):y.a.createElement(Z.a,{className:"pointer",onClick:function(){return t.props.expandRow(e)}})}},{key:"renderRowData",value:function(e){var t=this.props.expandedRows,a=[],n=[];return e.values?(a.push(y.a.createElement("td",{className:t.includes(e.name)?"nested-fact":""},this.renderExpandableRowButton(e.name)," ",e.name)),a.push(y.a.createElement("td",null)),a.push(he.renderKebab(e.name,"",e)),n.push(y.a.createElement("tr",null,a)),t.includes(e.name)&&e.values.forEach(function(t){(a=[]).push(y.a.createElement("td",{className:"nested-fact"},y.a.createElement("p",{className:"child-row"},t.name))),a.push(y.a.createElement("td",null,t.value)),a.push(he.renderKebab(t.name,t.value,e)),n.push(y.a.createElement("tr",null,a))})):(a.push(y.a.createElement("td",null,e.name)),a.push(y.a.createElement("td",null,e.value)),a.push(he.renderKebab(e.name,e.value,e)),n.push(y.a.createElement("tr",null,a))),n}},{key:"renderRows",value:function(){var e=this.props.baselineData.baseline_facts,t=[],a=[];if(void 0!==e)for(var n=0;n<e.length;n+=1)a=this.renderRowData(e[n]),t.push(a);return t}},{key:"renderTable",value:function(){var e=this.props.baselineDataLoading;return y.a.createElement("table",{className:"pf-c-table ins-c-table pf-m-compact ins-entity-table drift-table"},y.a.createElement("thead",null,this.renderHeaderRow()),y.a.createElement("tbody",null,e?this.renderLoadingRows():this.renderRows()))}},{key:"render",value:function(){var e=this.props.factModalOpened;return y.a.createElement(y.a.Fragment,null,e?y.a.createElement(me,null):null,y.a.createElement(ne,null),this.renderTable(),y.a.createElement(_.a,{className:"button-margin margin-right",style:{float:"right"},variant:"primary",onClick:this.finishBaselineEdit},"Finish"))}}]),t}(b.Component);ve.propTypes={toggleCreateBaseline:E.a.func,clearBaselineData:E.a.func,baselineUUID:E.a.string,baselineData:E.a.object,baselineDataLoading:E.a.bool,patchBaseline:E.a.func,fetchBaselineData:E.a.func,factModalOpened:E.a.bool,editBaselineTableData:E.a.array,expandRow:E.a.func,expandedRows:E.a.array};var be=Object(k.connect)(function(e){return{baselineUUID:e.baselinesTableState.baselineUUID,baselineData:e.baselinesTableState.baselineData,baselineDataLoading:e.baselinesTableState.baselineDataLoading,factModalOpened:e.factModalState.factModalOpened,editBaselineTableData:e.baselinesTableState.editBaselineTableData,expandedRows:e.baselinesTableState.expandedRows}},function(e){return{toggleCreateBaseline:function(){return e(P.a.toggleCreateBaseline())},clearBaselineData:function(){return e(U.a.clearBaselineData())},patchBaseline:function(t,a){return e(U.a.patchBaseline(t,a))},expandRow:function(t){return e(U.a.expandRow(t))}}})(ve),ye=function(e){function t(e){return i()(this,t),f()(this,d()(t).call(this,e))}var a;return v()(t,e),s()(t,[{key:"componentDidMount",value:(a=l()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.insights.chrome.auth.getUser();case 2:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"render",value:function(){var e=this.props,t=e.creatingNewBaseline,a=e.baselineUUID,n=e.fullBaselineListData;return y.a.createElement(y.a.Fragment,null,y.a.createElement(x.PageHeader,null,y.a.createElement(x.PageHeaderTitle,{title:"Baselines"})),y.a.createElement(x.Main,null,y.a.createElement(w.a,{className:"pf-t-light pf-m-opaque-100"},t?y.a.createElement(C.a,null,y.a.createElement("div",null,y.a.createElement(H,null))):null,""!==a?y.a.createElement(C.a,null,y.a.createElement("div",null,y.a.createElement(be,null))):null,t||""!==a?null:y.a.createElement(C.a,null,0!==n.length?y.a.createElement(D.a,{className:"drift-toolbar"},y.a.createElement(F.a,null,y.a.createElement(N.a,null,y.a.createElement(S.a,null)),y.a.createElement(N.a,null,y.a.createElement(W,{exportType:"baseline list"})))):null,y.a.createElement("div",null,y.a.createElement(T.a,null))))))}}]),t}(b.Component);ye.propTypes={creatingNewBaseline:E.a.bool,baselineUUID:E.a.string,fullBaselineListData:E.a.array};t.default=Object(k.connect)(function(e){return{creatingNewBaseline:e.baselinesPageState.creatingNewBaseline,baselineUUID:e.baselinesTableState.baselineUUID,fullBaselineListData:e.baselinesTableState.fullBaselineListData}},null)(ye)}}]);
//# sourceMappingURL=../sourcemaps/4.js.map