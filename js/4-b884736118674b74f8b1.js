(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{847:function(e,t,a){var n=a(848),r=a(850),l=a(446),i=a(224),c=a(447),o=a(851),s=a(852),u=a(853),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(c(e)&&(i(e)||"string"==typeof e||"function"==typeof e.splice||o(e)||u(e)||l(e)))return!e.length;var t=r(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(s(e))return!n(e).length;for(var a in e)if(d.call(e,a))return!1;return!0}},848:function(e,t,a){var n=a(849)(Object.keys,Object);e.exports=n},849:function(e,t){e.exports=function(e,t){return function(a){return e(t(a))}}},850:function(e,t){var a=Object.prototype.toString;e.exports=function(e){return a.call(e)}},851:function(e,t){e.exports=function(){return!1}},852:function(e,t){e.exports=function(){return!1}},853:function(e,t){e.exports=function(){return!1}},855:function(e,t,a){"use strict";a.r(t),a.d(t,"EditBaseline",(function(){return we}));var n=a(10),r=a.n(n),l=a(19),i=a.n(l),c=a(28),o=a.n(c),s=a(29),u=a.n(s),d=a(45),f=a.n(d),p=a(30),m=a.n(p),h=a(31),b=a.n(h),y=a(18),v=a.n(y),E=a(847),g=a.n(E),k=a(0),D=a.n(k),B=a(4),S=a.n(B),C=a(21),F=a(32),x=a(135),w=a(659),N=a(736),R=a(737),O=a(738),M=a(739),P=a(740),T=a(757),V=a(751),I=a(752),j=a(661),W=a(662),K=a(760),_=a(656),A=a(775),H=a(776),L=a(682),z=a(686),q=a(657),J=a(658),U=a(379),Y=a(50);var X={countFacts:function(e){var t=0,a=0;return e.forEach((function(e){e.selected?Y.a.isCategory(e)?t+=1:a+=1:Y.a.isCategory(e)&&Y.a.baselineSubFacts(e).forEach((function(e){e.selected&&(a+=1)}))})),{categories:t,facts:a}}};function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=v()(e);if(t){var r=v()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return b()(this,a)}}var Q=function(e){m()(a,e);var t=G(a);function a(e){var n;return o()(this,a),(n=t.call(this,e)).isDisabled=function(){var e=n.props.editBaselineTableData,t=!0;return e.forEach((function(e){e.selected&&(t=!1),Y.a.isCategory(e)&&Y.a.baselineSubFacts(e).forEach((function(e){e.selected&&(t=!1)}))})),t},n.state={kebabOpened:!1,modalOpened:!1},n.toggleKebab=function(){var e=n.state.kebabOpened;n.setState({kebabOpened:!e})},n.toggleModalOpened=function(){var e=n.state.modalOpened;n.setState({modalOpened:!e,kebabOpened:!1})},n}return u()(a,[{key:"render",value:function(){var e,t,a,n=this.state,r=n.kebabOpened,l=n.modalOpened,i=this.props.editBaselineTableData,c=X.countFacts(i),o=c.categories,s=c.facts;return o>0&&(t=1===o?"1 category":o+" categories"),s>0&&(a=1===s?"1 fact":s+" facts"),e=[D.a.createElement(_.a,{key:"multi-delete",component:"button",onClick:this.toggleModalOpened,isDisabled:!(i.length>0)||this.isDisabled()},"Delete facts")],D.a.createElement(D.a.Fragment,null,l?D.a.createElement(U.a,{toggleModal:this.toggleModalOpened.bind(this),modalOpened:l,categoryMessage:t,factMessage:a}):null,D.a.createElement(q.a,{style:{float:"left"},toggle:D.a.createElement(J.a,{onToggle:this.toggleKebab}),isOpen:r,dropdownItems:e,isPlain:!0}))}}]),a}(k.Component);Q.propTypes={editBaselineTableData:S.a.array};var Z=Object(F.connect)((function(e){return{editBaselineTableData:e.editBaselineState.editBaselineTableData}}),null)(Q),$=a(188),ee=a(96),te=a(71);function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=v()(e);if(t){var r=v()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return b()(this,a)}}var ne=function(e){m()(a,e);var t=ae(a);function a(e){var n;return o()(this,a),(n=t.call(this,e)).handleAddFact=function(){var e=n.props,t=e.setFactData,a=e.toggleFactModal;t({factName:"",factValue:"",fact:[]}),a()},n}return u()(a,[{key:"render",value:function(){var e=this.props,t=e.editBaselineEmptyState,a=e.hasWritePermissions,n=e.isDisabled;return D.a.createElement(D.a.Fragment,null,a||void 0===a?D.a.createElement(ee.a,{variant:"primary",isDisabled:n,onClick:this.handleAddFact},"Add fact or category"):D.a.createElement($.a,{content:D.a.createElement("div",null,"You do not have permissions to perform this action")},D.a.createElement("div",{className:t?"tooltip-button-margin":null},D.a.createElement(ee.a,{variant:"primary",isDisabled:!0,onClick:this.handleAddFact},"Add fact or category"))))}}]),a}(k.Component);ne.propTypes={toggleFactModal:S.a.func,setFactData:S.a.func,isDisabled:S.a.bool,hasWritePermissions:S.a.bool,editBaselineEmptyState:S.a.bool};var re=Object(F.connect)(null,(function(e){return{toggleFactModal:function(){return e(te.a.toggleFactModal())},setFactData:function(t){return e(te.a.setFactData(t))}}}))(ne),le=a(75),ie=a(726);function ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=v()(e);if(t){var r=v()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return b()(this,a)}}var oe=function(e){m()(a,e);var t=ce(a);function a(e){var n;return o()(this,a),(n=t.call(this,e)).onToggle=function(){var e=n.state.dropdownOpen;n.setState({dropdownOpen:!e})},n.state={bulkSelectItems:[{title:"Select all",key:"select-all",onClick:function(){return n.props.onBulkSelect(!0)}},{title:"Select none",key:"select-none",onClick:function(){return n.props.onBulkSelect(!1)}}],dropdownOpen:!1,dropdownItems:[D.a.createElement(_.a,{key:"export-to-CSV",component:"button",onClick:function(){return n.props.exportToCSV(n.props.tableData,n.props.baselineData)}},"Export to CSV")]},n}return u()(a,[{key:"render",value:function(){var e=this.props,t=e.hasWritePermissions,a=e.isDisabled,n=e.onBulkSelect,r=e.selected,l=e.totalFacts,i=this.state,c=i.bulkSelectItems,o=i.dropdownItems,s=i.dropdownOpen;return D.a.createElement(A.a,{className:"drift-toolbar"},D.a.createElement(H.a,null,D.a.createElement(L.a,null,D.a.createElement(x.BulkSelect,{count:r>0?r:null,items:c,checked:le.a.findCheckedValue(l,r),onSelect:function(){return n(!r>0)},isDisabled:a})),D.a.createElement(L.a,null,D.a.createElement(re,{isDisabled:!(l>0),hasWritePermissions:t})),D.a.createElement(z.a,{variant:"icon-button-group"},D.a.createElement(L.a,null,D.a.createElement(ie.a,{dropdownItems:o,isOpen:s,onToggle:this.onToggle})),D.a.createElement(L.a,null,D.a.createElement(Z,null)))))}}]),a}(k.Component);oe.propTypes={isDisabled:S.a.bool,onBulkSelect:S.a.func,selected:S.a.any,totalFacts:S.a.number,exportToCSV:S.a.func,tableData:S.a.array,baselineData:S.a.object,hasWritePermissions:S.a.bool};var se=oe,ue=a(728),de=a(745),fe=a(746),pe=a(742),me=a(25),he=a(773),be=a(380);function ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=v()(e);if(t){var r=v()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return b()(this,a)}}var ve=function(e){m()(n,e);var t,a=ye(n);function n(e){var t;return o()(this,n),(t=a.call(this,e)).checkKeyPress=function(e){"Enter"===e.key&&(e.preventDefault(),t.confirmModal())},t.cancelFact=t.cancelFact.bind(f()(t)),t.confirmModal=t.confirmModal.bind(f()(t)),t.renderCategoryCheckbox=t.renderCategoryCheckbox.bind(f()(t)),t.renderFactInput=t.renderFactInput.bind(f()(t)),t.renderValueInput=t.renderValueInput.bind(f()(t)),t.renderModalBody=t.renderModalBody.bind(f()(t)),t.state={factName:t.props.factName,factValue:t.props.factValue,factData:t.props.factData,isCategory:t.props.isCategory},t.state.isAddFact=""===t.props.factName&&""===t.props.factValue,t.state.isEditFact=""!==t.props.factName&&""!==t.props.factValue,t.handleChange=function(e){t.setState({isCategory:e})},t.handleNewName=function(e){t.setState({factName:e})},t.handleNewValue=function(e){t.setState({factValue:e})},t}return u()(n,[{key:"cancelFact",value:function(){(0,this.props.toggleFactModal)()}},{key:"confirmModal",value:(t=i()(r.a.mark((function e(){var t,a,n,l,i,c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.toggleFactModal,n=t.baselineData,l=t.patchBaseline,i=t.fetchBaselineData,c=this.state.isAddFact,o="",e.prev=3,o=c?this.addFact(n):this.editFact(n),e.next=7,l(n.id,o);case 7:e.sent&&i(n.id),a(),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(3);case 14:case"end":return e.stop()}}),e,this,[[3,12]])}))),function(){return t.apply(this,arguments)})},{key:"addFact",value:function(e){var t=this.state,a=t.isCategory,n=t.factName,r=t.factValue,l=t.factData,i=Y.a.buildNewFactData(a,n,r,l);return Y.a.makeAddFactPatch(i,e)}},{key:"editFact",value:function(e){var t=this.state,a=t.isCategory,n=t.factName,r=t.factValue,l=t.factData,i=Y.a.buildEditedFactData(a,this.props.factName,n,this.props.factValue,r,l);return Y.a.makeEditFactPatch(i,e,l)}},{key:"renderCategoryCheckbox",value:function(){var e=this.state,t=e.isCategory,a=e.isEditFact;return D.a.createElement(w.a,{"aria-label":"controlled checkbox example",label:"This is a category",id:"isCategory",name:"isCategory",onChange:this.handleChange,isChecked:t,isDisabled:t&&a})}},{key:"renderFactInput",value:function(){var e=this.props.inlineError,t=this.state,a=t.factName,n=t.isCategory;return D.a.createElement("div",{className:"fact-value"},D.a.createElement(de.a,null,D.a.createElement(fe.a,{label:n?"Category name":"Fact name",isRequired:!0,helperTextInvalid:e.hasOwnProperty("detail")?e.detail:null,validated:e.hasOwnProperty("status")?"error":null,fieldId:"fact name",onKeyPress:this.checkKeyPress},D.a.createElement(pe.a,{value:a,type:"text",placeholder:"Name",onChange:this.handleNewName,validated:e.hasOwnProperty("status")?me.d.error:null,"aria-label":"fact name"}))))}},{key:"renderValueInput",value:function(){var e=this.props.inlineError,t=this.state.factValue;return D.a.createElement("div",{className:"fact-value"},D.a.createElement(de.a,null,D.a.createElement(fe.a,{label:"Value",isRequired:!0,helperTextInvalid:e.hasOwnProperty("detail")?e.detail:null,validated:e.hasOwnProperty("status")?"error":null,fieldId:"fact value",onKeyPress:this.checkKeyPress},D.a.createElement(pe.a,{value:t,type:"text",placeholder:"Value",onChange:this.handleNewValue,validated:e.hasOwnProperty("status")?me.d.error:null,"aria-label":"value"}))))}},{key:"renderModalBody",value:function(){var e=this.props,t=e.inlineError,a=e.isSubFact,n=this.state,r=n.isAddFact,l=n.isCategory;return D.a.createElement(D.a.Fragment,null,t.status?D.a.createElement(he.a,{variant:"danger",isInline:!0,title:"Status: "+t.status},D.a.createElement("p",null,t.detail)):D.a.createElement("div",null),r&&!a||l?this.renderCategoryCheckbox():null,this.renderFactInput(),D.a.createElement("br",null),l?null:this.renderValueInput())}},{key:"title",value:function(){var e=this.props.isSubFact,t=this.state,a=t.isAddFact,n=t.isEditFact,r=t.isCategory,l="Add fact";return!0!==n||r||e?!0===a&&!0===r?l="Add category":!0===a&&!0===e?l="Add sub fact":!0===n&&!0===e?l="Edit sub fact":!0===r&&(l="Edit category"):l="Edit fact",l}},{key:"render",value:function(){var e=this.props.factModalOpened;return D.a.createElement(be.a,{variant:be.b.small,title:this.title(),isOpen:e,onClose:this.cancelFact,actions:[D.a.createElement(ee.a,{key:"confirm",variant:"primary",onClick:this.confirmModal},"Save"),D.a.createElement(ee.a,{key:"cancel",variant:"link",onClick:this.cancelFact},"Cancel")]},this.renderModalBody())}}]),n}(k.Component);ve.propTypes={toggleFactModal:S.a.func,factModalOpened:S.a.bool,factName:S.a.string,factValue:S.a.string,factData:S.a.object,isCategory:S.a.bool,isSubFact:S.a.bool,baselineData:S.a.object,patchBaseline:S.a.func,fetchBaselineData:S.a.func,inlineError:S.a.object};var Ee=Object(F.connect)((function(e){return{factModalOpened:e.editBaselineState.factModalOpened,factName:e.editBaselineState.factName,factValue:e.editBaselineState.factValue,factData:e.editBaselineState.factData,isCategory:e.editBaselineState.isCategory,isSubFact:e.editBaselineState.isSubFact,baselineData:e.editBaselineState.baselineData,inlineError:e.editBaselineState.inlineError}}),(function(e){return{toggleFactModal:function(){return e(te.a.toggleFactModal())},patchBaseline:function(t,a){return e(te.a.patchBaseline(t,a))},fetchBaselineData:function(t){return e(te.a.fetchBaselineData(t))}}}))(ve);function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=v()(e);if(t){var r=v()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return b()(this,a)}}var ke=function(e){m()(n,e);var t,a=ge(n);function n(e){var t;return o()(this,n),(t=a.call(this,e)).cancelModal=function(){var e=t.props,a=e.toggleEditNameModal,n=e.baselineData;t.updateBaselineName(n.display_name),a()},t.checkKeyPress=function(e){"Enter"===e.key&&(e.preventDefault(),t.confirmModal())},t.state={baselineName:t.props.baselineData.display_name},t.updateBaselineName=function(e){t.setState({baselineName:e})},t.confirmModal=t.confirmModal.bind(f()(t)),t}return u()(n,[{key:"confirmModal",value:(t=i()(r.a.mark((function e(){var t,a,n,l,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.baselineName,a=this.props,n=a.baselineData,l=a.patchBaseline,i=a.toggleEditNameModal,e.prev=2,e.next=5,l(n.id,{display_name:t,facts_patch:[]});case 5:i(),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(){return t.apply(this,arguments)})},{key:"renderModalBody",value:function(){var e=this.state.baselineName,t=this.props.error,a=t.hasOwnProperty("status")?me.d.error:null;return D.a.createElement("div",{className:"fact-value"},D.a.createElement(de.a,null,D.a.createElement(fe.a,{label:"Baseline title",isRequired:!0,fieldId:"baseline name",helperTextInvalid:t.hasOwnProperty("detail")?t.detail:null,validated:a,onKeyPress:this.checkKeyPress},D.a.createElement(pe.a,{value:e,type:"text",onChange:this.updateBaselineName,validated:a,"aria-label":"baseline name"}))))}},{key:"render",value:function(){var e=this.props,t=e.modalOpened,a=e.error;return D.a.createElement(be.a,{variant:be.b.small,title:"Edit name",isOpen:t,onClose:this.cancelModal,actions:[D.a.createElement(ee.a,{key:"confirm",variant:"primary",onClick:this.confirmModal},"Save"),D.a.createElement(ee.a,{key:"cancel",variant:"link",onClick:this.cancelModal},"Cancel")]},a.status&&D.a.createElement(he.a,{variant:"danger",isInline:!0,title:"Status: "+a.status},D.a.createElement("p",null,a.detail)),this.renderModalBody())}}]),n}(k.Component);ke.propTypes={baselineData:S.a.object,toggleEditNameModal:S.a.func,modalOpened:S.a.bool,patchBaseline:S.a.func,error:S.a.object};var De=Object(F.connect)(null,(function(e){return{patchBaseline:function(t,a){return e(te.a.patchBaseline(t,a))}}}))(ke),Be=a(203),Se=a(17),Ce=a(206),Fe=a(217);function xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=v()(e);if(t){var r=v()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return b()(this,a)}}var we=function(e){m()(n,e);var t,a=xe(n);function n(e){var t;return o()(this,n),(t=a.call(this,e)).retryBaselineFetch=function(){(0,t.props.clearErrorData)(),t.fetchBaselineId()},t.renderPageHeader=function(e,a){var n=t.state.modalOpened,r=t.props,l=r.baselineData,i=r.baselineDataLoading,c=r.inlineError;return i?D.a.createElement(x.PageHeader,null,D.a.createElement("div",null,D.a.createElement(x.Skeleton,{size:x.SkeletonSize.lg}))):void 0!==l?D.a.createElement(D.a.Fragment,null,D.a.createElement(De,{baselineData:l,modalOpened:n,toggleEditNameModal:t.toggleEditNameModal,error:c}),D.a.createElement(x.PageHeader,null,t.renderBreadcrumb(l,e),t.renderPageTitle(l,e),e&&a?D.a.createElement(T.a,{className:"pointer not-active edit-icon-margin",onClick:function(){return t.toggleEditNameModal()}}):null)):D.a.createElement(x.PageHeader,null,t.renderBreadcrumb(),D.a.createElement(x.PageHeaderTitle,{title:"Baseline"}))},t.onSelect=function(e,a){var n,r=t.props,l=r.editBaselineTableData,i=r.selectFact,c=[],o=Number(a.target.name);l.forEach((function(e){e[Se.e]===o?n=e:Y.a.isCategory(e)&&Y.a.baselineSubFacts(e).forEach((function(e){e[Se.e]===o&&(n=e)}))})),c=[n[0]],Y.a.isCategory(n)&&Y.a.baselineSubFacts(n).forEach((function(e){c.push(e[Se.e])})),i(c,e)},t.onBulkSelect=function(e){var a=t.props,n=a.editBaselineTableData,r=a.selectFact,l=[];n.forEach((function(e){l.push(e[Se.e]),Y.a.isCategory(e)&&Y.a.baselineSubFacts(e).forEach((function(e){l.push(e[Se.e])}))})),r(l,e)},t.renderCheckbox=function(e){var a;return Y.a.isCategory(e)?a="category-"+e[Se.e]:"string"==typeof e[Se.g]&&(a="fact-"+e[Se.e]),D.a.createElement(w.a,{isChecked:e.selected,onChange:t.onSelect,id:a,name:e[Se.e]})},t.state={modalOpened:!1,errorMessage:["The baseline cannot be displayed at this time. Please retry and if","the problem persists contact your system administrator.",""]},t.fetchBaselineId(),t.renderBreadcrumb=t.renderBreadcrumb.bind(f()(t)),t.goToBaselinesList=t.goToBaselinesList.bind(f()(t)),t.toggleEditNameModal=function(){var e=t.state.modalOpened,a=t.props.clearErrorData;t.setState({modalOpened:!e}),a()},t}return u()(n,[{key:"componentDidMount",value:(t=i()(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.insights.chrome.auth.getUser();case 2:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"componentDidUpdate",value:function(){this.props.baselineData&&(document.title=this.props.baselineData.display_name+" - Baselines - Drift | Red Hat Insights")}},{key:"fetchBaselineId",value:function(){var e=this.props,t=e.match.params;(0,e.fetchBaselineData)(t.id)}},{key:"goToBaselinesList",value:function(){var e=this.props,t=e.history;(0,e.clearBaselineData)("CHECKBOX"),t.push("/baselines")}},{key:"renderBreadcrumb",value:function(e,t){var a=this;return D.a.createElement(N.a,null,D.a.createElement(R.a,null,D.a.createElement("a",{onClick:function(){return a.goToBaselinesList()}},"Baselines")),e&&t?D.a.createElement(O.a,null,e.display_name):null)}},{key:"renderPageTitle",value:function(e,t){return t?D.a.createElement(x.PageHeaderTitle,{title:g()(e)?null:e.display_name}):D.a.createElement(x.PageHeaderTitle,{title:"Baseline"})}},{key:"renderHeaderRow",value:function(e){return D.a.createElement("tr",{key:"edit-baseline-table-header"},e?D.a.createElement("th",null):null,D.a.createElement("th",{className:"edit-baseline-header"},D.a.createElement("div",null,"Fact")),D.a.createElement("th",{className:"edit-baseline-header"},D.a.createElement("div",null,"Value")),D.a.createElement("th",null))}},{key:"renderLoadingRows",value:function(){for(var e=[],t=[],a=0;a<3;a+=1)t.push(D.a.createElement("td",null,D.a.createElement(x.Skeleton,{size:x.SkeletonSize.md})));for(var n=0;n<10;n+=1)e.push(D.a.createElement("tr",null,t));return e}},{key:"renderExpandableRowButton",value:function(e){var t=this;return this.props.expandedRows.includes(e)?D.a.createElement(V.a,{className:"pointer active-blue",onClick:function(){return t.props.expandRow(e)}}):D.a.createElement(I.a,{className:"pointer",onClick:function(){return t.props.expandRow(e)}})}},{key:"renderRowData",value:function(e,t){var a=this,n=this.props,r=n.expandedRows,l=n.baselineData,i=[],c=[],o=l.baseline_facts.find((function(t){return t.name===e[Se.f]}));return t&&i.push(D.a.createElement("td",{className:r.includes(e[Se.f])?"pf-c-table__check nested-fact":"pf-c-table__check"},this.renderCheckbox(e))),Y.a.isCategory(e)?(i.push(D.a.createElement("td",null,this.renderExpandableRowButton(e[Se.f])," ",e[Se.f])),i.push(D.a.createElement("td",null)),i.push(Y.a.renderKebab({factName:e[Se.f],factData:o,isCategory:!0,hasWritePermissions:t})),c.push(D.a.createElement("tr",{key:e[Se.f]},i)),r.includes(e[Se.f])&&Y.a.baselineSubFacts(e).forEach((function(e){i=[],t&&i.push(D.a.createElement("td",{className:"pf-c-table__check nested-fact"},a.renderCheckbox(e))),i.push(D.a.createElement("td",null,D.a.createElement("p",{className:"child-row"},e[Se.f]))),i.push(D.a.createElement("td",null,e[Se.g])),i.push(Y.a.renderKebab({factName:e[Se.f],factValue:e[Se.g],factData:o,isSubFact:!0,hasWritePermissions:t})),c.push(D.a.createElement("tr",{key:e[Se.f]},i))}))):(i.push(D.a.createElement("td",null,e[Se.f])),i.push(D.a.createElement("td",null,e[Se.g])),i.push(Y.a.renderKebab({factName:e[Se.f],factValue:e[Se.g],factData:o,hasWritePermissions:t})),c.push(D.a.createElement("tr",{key:e[Se.f]},i))),c}},{key:"renderRows",value:function(e){var t=this.props.editBaselineTableData,a=[],n=[];if(0!==t.length)for(var r=0;r<t.length;r+=1)n=this.renderRowData(t[r],e),a.push(n);return a}},{key:"renderEmptyState",value:function(e){var t=this,a=this.props,n=a.editBaselineEmptyState,r=a.editBaselineError,l=this.state.errorMessage;return 200!==r.status&&void 0!==r.status?D.a.createElement(Ce.a,{icon:j.a,color:"#c9190b",title:"Baseline cannot be displayed",text:l,error:"Error "+r.status+": "+r.detail,button:D.a.createElement("a",{onClick:function(){return t.retryBaselineFetch()}},D.a.createElement(W.a,{className:"reload-button"}),"Retry")}):D.a.createElement(Ce.a,{title:"No facts",text:["No facts or categories have been added to this baseline yet."],button:D.a.createElement(re,{hasWritePermissions:e,editBaselineEmptyState:n})})}},{key:"renderTable",value:function(e){var t=this.props.baselineDataLoading;return D.a.createElement("table",{className:"pf-c-table ins-c-table pf-m-grid-md ins-entity-table drift-table"},D.a.createElement("thead",null,this.renderHeaderRow(e)),D.a.createElement("tbody",{key:"edit-baseline-table"},t?this.renderLoadingRows():this.renderRows(e)))}},{key:"render",value:function(){var e=this,t=this.props,a=t.baselineData,n=t.editBaselineTableData,r=t.exportToCSV,l=t.factModalOpened,i=t.editBaselineEmptyState,c=t.editBaselineError,o=t.clearErrorData,s=Y.a.findSelected(n);return D.a.createElement(Fe.a.Consumer,null,(function(t){return D.a.createElement(D.a.Fragment,null,e.renderPageHeader(t.permissions.baselinesRead,t.permissions.baselinesWrite),D.a.createElement(x.Main,null,!1===t.permissions.baselinesRead?D.a.createElement(Ce.a,{icon:K.a,color:"#6a6e73",title:"You do not have access to view this Baseline",text:["Contact your organization administrator(s) for more information."]}):D.a.createElement(D.a.Fragment,null,l?D.a.createElement(Ee,null):D.a.createElement("div",null),D.a.createElement(ue.a,{error:!i&&c.status?c:{},onClose:o}),i?e.renderEmptyState(t.permissions.baselinesWrite):D.a.createElement(M.a,{className:"pf-t-light pf-m-opaque-100"},D.a.createElement(P.a,null,D.a.createElement(se,{selected:s,onBulkSelect:e.onBulkSelect,isDisabled:0===n.length||!t.permissions.baselinesWrite,totalFacts:Y.a.findFactCount(n),baselineData:a,exportToCSV:r,tableData:n,hasWritePermissions:t.permissions.baselinesWrite}),e.renderTable(t.permissions.baselinesWrite))))))}))}}]),n}(k.Component);we.propTypes={history:S.a.object,match:S.a.any,clearBaselineData:S.a.func,baselineData:S.a.object,baselineDataLoading:S.a.bool,fetchBaselineData:S.a.func,factModalOpened:S.a.bool,editBaselineTableData:S.a.array,expandRow:S.a.func,expandedRows:S.a.array,selectFact:S.a.func,clearErrorData:S.a.func,editBaselineError:S.a.object,inlineError:S.a.object,editBaselineEmptyState:S.a.bool,exportToCSV:S.a.func,hasWritePermissions:S.a.bool};t.default=Object(C.o)(Object(F.connect)((function(e){return{baselineData:e.editBaselineState.baselineData,baselineDataLoading:e.editBaselineState.baselineDataLoading,factModalOpened:e.editBaselineState.factModalOpened,editBaselineTableData:e.editBaselineState.editBaselineTableData,expandedRows:e.editBaselineState.expandedRows,editBaselineError:e.editBaselineState.editBaselineError,editBaselineEmptyState:e.editBaselineState.editBaselineEmptyState,inlineError:e.editBaselineState.inlineError}}),(function(e){return{clearBaselineData:function(t){return e(Be.a.clearBaselineData(t))},expandRow:function(t){return e(te.a.expandRow(t))},fetchBaselineData:function(t){return e(te.a.fetchBaselineData(t))},selectFact:function(t,a){return e(te.a.selectFact(t,a))},clearErrorData:function(){return e(te.a.clearErrorData())},exportToCSV:function(t,a){e(te.a.exportToCSV(t,a))}}}))(we))}}]);
//# sourceMappingURL=../sourcemaps/4.js.map