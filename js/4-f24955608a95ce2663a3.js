(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{540:function(e,t,a){"use strict";var r=a(659),n=a(52);function o(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){var a=function(e){var t;switch(e.arrayFormat){case"index":return function(e,a,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=a):r[e]=a};case"bracket":return function(e,a,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],a):r[e]=[a]:r[e]=a};default:return function(e,t,a){void 0!==a[e]?a[e]=[].concat(a[e],t):a[e]=t}}}(t=n({arrayFormat:"none"},t)),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),n=t.shift(),o=t.length>0?t.join("="):void 0;o=void 0===o?null:decodeURIComponent(o),a(decodeURIComponent(n),o,r)})),Object.keys(r).sort().reduce((function(e,t){var a=r[t];return Boolean(a)&&"object"==typeof a&&!Array.isArray(a)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return t[e]})):t}(a):e[t]=a,e}),Object.create(null))):r},t.stringify=function(e,t){var a=function(e){switch(e.arrayFormat){case"index":return function(t,a,r){return null===a?[o(t,e),"[",r,"]"].join(""):[o(t,e),"[",o(r,e),"]=",o(a,e)].join("")};case"bracket":return function(t,a){return null===a?o(t,e):[o(t,e),"[]=",o(a,e)].join("")};default:return function(t,a){return null===a?o(t,e):[o(t,e),"=",o(a,e)].join("")}}}(t=n({encode:!0,strict:!0,arrayFormat:"none"},t));return e?Object.keys(e).sort().map((function(r){var n=e[r];if(void 0===n)return"";if(null===n)return o(r,t);if(Array.isArray(n)){var s=[];return n.slice().forEach((function(e){void 0!==e&&s.push(a(r,e,s.length))})),s.join("&")}return o(r,t)+"="+o(n,t)})).filter((function(e){return e.length>0})).join("&"):""}},655:function(e,t,a){var r=a(656),n=a(657),o=a(658);e.exports=function(e,t){return r(e)||n(e,t)||o()}},656:function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},657:function(e,t){e.exports=function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var a=[],r=!0,n=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(a.push(s.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw o}}return a}}},658:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},659:function(e,t,a){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},684:function(e,t,a){"use strict";var r=a(44),n={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};function c(e){return r.isMemo(e)?s:i[e.$$typeof]||n}i[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i[r.Memo]=s;var l=Object.defineProperty,u=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,a,r){if("string"!=typeof a){if(f){var n=m(a);n&&n!==f&&e(t,n,r)}var s=u(a);p&&(s=s.concat(p(a)));for(var i=c(t),h=c(a),y=0;y<s.length;++y){var g=s[y];if(!(o[g]||r&&r[g]||h&&h[g]||i&&i[g])){var v=d(a,g);try{l(t,g,v)}catch(e){}}}}return t}},685:function(e,t,a){"use strict";a.r(t);var r=a(5),n=a.n(r),o=a(12),s=a.n(o),i=a(28),c=a.n(i),l=a(29),u=a.n(l),p=a(30),d=a.n(p),m=a(31),f=a.n(m),h=a(32),y=a.n(h),g=a(1),v=a.n(g),S=a(0),b=a.n(S),E=a(36),k=a(33),C=a(370),P=a(513),w=a(514),I=a(535),O=a(537),F=a(536),T=a(224);var D,H={toggleErrorAlert:function(){return{type:T.a.OPEN_ERROR_ALERT}}},x=a(77),N=a(25),j=a.n(N),A=a(655),M=a.n(A),R=a(39),B=a.n(R),_=a(262),L=a(522),K=a(524),U=a(233),$=a(523),Y=a(540),G=a.n(Y),V=a(476),z=a(482),W=a(469),X=a(477),q=a(471),J=a(474),Q=a(473),Z=a(472),ee=a(467),te=a(465),ae=a(466),re=a(2),ne=a.n(re),oe=a(355),se=a(265),ie=a(560),ce=a(529),le=a(252),ue=a(239),pe=(D=function(e,t){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}D(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),de=function(){return(de=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},me=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a},fe=a(684);var he=a(542),ye=a(559),ge=a(498),ve=a(500),Se=function(e){function t(e){var a;return c()(this,t),(a=d()(this,f()(t).call(this,e))).onSelect=function(e,t,r){var n=a.props,o=n.baselineTableData;(0,n.selectBaseline)(-1===r?o.map((function(e){return e[0]})):[o[r][0]],t,"CHECKBOX")},a.confirmModal=a.confirmModal.bind(B()(a)),a.cancelSelection=a.cancelSelection.bind(B()(a)),a.changeActiveTab=a.changeActiveTab.bind(B()(a)),a.state={columns:[{title:"Name",transforms:[he.a]},{title:"Last updated",transforms:[he.a]}]},a}var a;return y()(t,e),u()(t,[{key:"componentDidMount",value:(a=s()(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.insights.chrome.auth.getUser();case 2:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"confirmModal",value:function(){var e=this.props,t=e.confirmModal,a=e.entities,r=e.selectedBaselineIds,n=e.toggleModal,o=e.selectedHSPIds;t(a.selectedSystemIds,r,o),n()}},{key:"cancelSelection",value:function(){this.props.toggleModal()}},{key:"selectedSystemIds",value:function(){var e=this.props.systems.map((function(e){return e.id}));return e||[]}},{key:"selectedBaselineIds",value:function(){var e=this.props.baselines.map((function(e){return e.id}));return e||[]}},{key:"changeActiveTab",value:function(e,t){(0,this.props.selectActiveTab)(t)}},{key:"render",value:function(){var e=this.props,t=e.activeTab,a=e.addSystemModalOpened,r=e.baselineTableData,n=e.loading,o=this.state.columns;return v.a.createElement(v.a.Fragment,null,v.a.createElement(oe.a,{title:"Choose systems",isOpen:a,onClose:this.cancelSelection,width:"auto",isFooterLeftAligned:!0,actions:[v.a.createElement(se.a,{key:"confirm",variant:"primary",onClick:this.confirmModal},"Submit")]},v.a.createElement(ie.a,{activeKey:t,onSelect:this.changeActiveTab},v.a.createElement(ce.a,{eventKey:0,title:"Systems"},v.a.createElement(ye.a,{selectedSystemIds:this.selectedSystemIds()})),v.a.createElement(ce.a,{eventKey:1,title:"Baselines"},v.a.createElement(ge.a,{tableId:"CHECKBOX",hasMultiSelect:!0,onSelect:this.onSelect,tableData:r,loading:n,columns:o})))))}}]),t}(g.Component);Se.propTypes={cookies:Object(S.instanceOf)(le.a).isRequired},Se.propTypes={showModal:b.a.bool,addSystemModalOpened:b.a.bool,activeTab:b.a.number,confirmModal:b.a.func,cancelSelection:b.a.func,toggleModal:b.a.func,selectActiveTab:b.a.func,entities:b.a.object,systems:b.a.array,selectedBaselineIds:b.a.array,baselines:b.a.array,selectedHSPIds:b.a.array,loading:b.a.bool,baselineTableData:b.a.array,selectBaseline:b.a.func};var be,Ee,ke,Ce,Pe=(be=Object(k.connect)((function(e){return{addSystemModalOpened:e.addSystemModalState.addSystemModalOpened,systems:e.compareState.systems,activeTab:e.addSystemModalState.activeTab,entities:e.entities,selectedBaselineIds:e.baselinesTableState.checkboxTable.selectedBaselineIds,baselines:e.compareState.baselines,selectedHSPIds:e.historicProfilesState.selectedHSPIds,loading:e.baselinesTableState.checkboxTable.loading,baselineTableData:e.baselinesTableState.checkboxTable.baselineTableData}}),(function(e){return{toggleModal:function(){return e(ve.a.toggleAddSystemModal())},selectActiveTab:function(t){return e(ve.a.selectActiveTab(t))},selectBaseline:function(t,a,r){return e(x.a.selectBaseline(t,a,r))}}}))(Se),Ee=be.displayName||be.name,ke=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onChange=function(){t.forceUpdate()},t}return pe(t,e),t.prototype.listen=function(){this.props.cookies.addChangeListener(this.onChange)},t.prototype.unlisten=function(e){(e||this.props.cookies).removeChangeListener(this.onChange)},t.prototype.componentDidMount=function(){this.listen()},t.prototype.componentDidUpdate=function(e){e.cookies!==this.props.cookies&&(this.unlisten(e.cookies),this.listen())},t.prototype.componentWillUnmount=function(){this.unlisten()},t.prototype.render=function(){var e=this.props,t=e.forwardedRef,a=e.cookies,r=me(e,["forwardedRef","cookies"]),n=a.getAll();return g.createElement(be,de({},r,{ref:t,cookies:a,allCookies:n}))},t.displayName="withCookies("+Ee+")",t.WrappedComponent=be,t}(g.Component),(Ce=g.forwardRef((function(e,t){return g.createElement(ue.a,null,(function(a){return g.createElement(ke,de({cookies:a},e,{forwardedRef:t}))}))}))).displayName=ke.displayName,Ce.WrappedComponent=ke.WrappedComponent,fe(Ce,be)),we=function(e){function t(e){return c()(this,t),d()(this,f()(t).call(this,e))}return y()(t,e),u()(t,[{key:"render",value:function(){return v.a.createElement(se.a,{className:"add-system-button",variant:"primary",onClick:this.props.toggleAddSystemModal},this.props.isTable?"Add":"Add systems or baselines")}}]),t}(g.Component);we.propTypes={toggleAddSystemModal:b.a.func,isTable:b.a.bool};var Ie=Object(k.connect)(null,(function(e){return{toggleAddSystemModal:function(){return e(ve.a.toggleAddSystemModal())}}}))(we),Oe=a(468),Fe=a(470),Te=a(475),De=function(e){function t(e){return c()(this,t),d()(this,f()(t).call(this,e))}return y()(t,e),u()(t,[{key:"icon",value:function(){return"SAME"===this.props.factState?v.a.createElement(Oe.b,{color:"#3E8635",height:"20px",width:"20px"}):"DIFFERENT"===this.props.factState?v.a.createElement(Fe.b,{color:"#C9190B",height:"20px",width:"20px"}):v.a.createElement(Te.b,{color:"#151515",height:"20px",width:"20px"})}},{key:"render",value:function(){return this.icon()}}]),t}(g.Component);De.propTypes={factState:b.a.string};var He=De,xe=a(9);function Ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];e.push({search:"?"+G.a.stringify({system_ids:t,baseline_ids:a,hsp_ids:r})})}var je=a(356),Ae=a(357),Me=a(509),Re=a(478),Be=a(515),_e=a(70);var Le={selectHistoricProfiles:function(e){return{type:_e.a.SELECT_HISTORIC_PROFILES,payload:e}},setSelectedHistoricProfiles:function(e){return{type:_e.a.SET_SELECTED_HISTORIC_PROFILES,payload:e}}},Ke=function(e){function t(e){var a;return c()(this,t),(a=d()(this,f()(t).call(this,e))).handleChange=function(){var e=a.state.checked,t=a.props,r=t.selectHistoricProfiles,n=t.profile;a.setState({checked:!e}),r([n.id])},a.state={checked:a.props.selectedHSPIds.some((function(e){return e===a.props.profile.id}))},a}return y()(t,e),u()(t,[{key:"render",value:function(){var e=this.props.profile,t=this.state.checked;return v.a.createElement(v.a.Fragment,null,v.a.createElement(Be.a,{label:ne.a.utc(e.captured_date).format("DD MMM YYYY, HH:mm UTC"),isChecked:t,onChange:this.handleChange,"aria-label":e.id,id:e.id,name:e.id}))}}]),t}(g.Component);Ke.propTypes={profile:b.a.object,selectHistoricProfiles:b.a.func,selectedHSPIds:b.a.array};var Ue=Object(k.connect)((function(e){return{selectedHSPIds:e.historicProfilesState.selectedHSPIds}}),(function(e){return{selectHistoricProfiles:function(t){return e(Le.selectHistoricProfiles(t))}}}))(Ke),$e=a(41),Ye=function(e){function t(e){var a;return c()(this,t),(a=d()(this,f()(t).call(this,e))).fetchHistoricalComparison=function(){var e=a.props,t=e.baselines,r=e.systems,n=e.selectedHSPIds,o=t.map((function(e){return e.id})),s=r.map((function(e){return e.id}));a.props.fetchCompare(s,o,n)},a}return y()(t,e),u()(t,[{key:"render",value:function(){return v.a.createElement(se.a,{style:{float:"left"},variant:"primary",onClick:this.fetchHistoricalComparison},"Compare")}}]),t}(g.Component);Ye.propTypes={fetchHistoricalComparison:b.a.func,baselines:b.a.array,systems:b.a.array,selectedHSPIds:b.a.array,fetchCompare:b.a.func,location:b.a.object,history:b.a.object};var Ge=Object(E.o)(Object(k.connect)((function(e){return{baselines:e.compareState.baselines,systems:e.compareState.systems,selectedHSPIds:e.historicProfilesState.selectedHSPIds}}),null)(Ye)),Ve=function(e){function t(e){var a;return c()(this,t),(a=d()(this,f()(t).call(this,e))).createDropdownArray=function(e){var t=a.props.fetchCompare,r=[];return e.profiles.forEach((function(e){r.push(v.a.createElement(je.a,null,v.a.createElement(Ue,{profile:e})))})),r.push(v.a.createElement("div",{className:"hsp-button"},v.a.createElement(Ge,{fetchCompare:t}))),r},a.state={isOpen:!1,historicalData:a.renderLoadingRows()},a.onToggle=function(){var e=a.state.isOpen;!1===e&&a.fetchData(a.props.systemId),a.setState({isOpen:!e})},a}var a;return y()(t,e),u()(t,[{key:"fetchData",value:(a=s()(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e.a.fetchHistoricalData(t);case 2:a=e.sent,this.setState({historicalData:this.createDropdownArray(a)});case 4:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"renderLoadingRows",value:function(){for(var e=[],t=0;t<3;t+=1)e.push(v.a.createElement(C.Skeleton,{className:"hsp-dropdown-loading hsp-button",size:C.SkeletonSize.sm})),e.push(v.a.createElement("br",null));return e}},{key:"render",value:function(){var e=this.state,t=e.isOpen,a=e.historicalData;return v.a.createElement(v.a.Fragment,null,v.a.createElement(Ae.a,{toggle:v.a.createElement(Me.a,{className:"historical-system-profile-dropdown",iconComponent:null,onToggle:this.onToggle},v.a.createElement(Re.b,null)),isOpen:t,isPlain:!0,dropdownItems:a}))}}]),t}(g.Component);Ve.propTypes={fetchHistoricalData:b.a.func,systemId:b.a.string,fetchCompare:b.a.func};var ze=Ve,We=a(369),Xe=function(e){function t(e){var a;return c()(this,t),(a=d()(this,f()(t).call(this,e))).removeSystem=function(e){"system"===e.type?(a.systemIds=a.systemIds.filter((function(t){return t!==e.id})),a.HSPIds=a.props.historicalProfiles.filter((function(t){return t.system_id!==e.id})).map((function(e){return e.id}))):"baseline"===e.type?a.baselineIds=a.baselineIds.filter((function(t){return t!==e.id})):"historical-system-profile"===e.type&&(a.HSPIds=a.HSPIds.filter((function(t){return t!==e.id}))),a.props.setSelectedHistoricProfiles(a.HSPIds),a.fetchCompare(a.systemIds,a.baselineIds,a.HSPIds)},a.masterList=[],a.setSystemIds(),a.setBaselineIds(),a.setHSPIds(),a.fetchCompare=a.fetchCompare.bind(B()(a)),a.removeSystem=a.removeSystem.bind(B()(a)),a.formatDate=a.formatDate.bind(B()(a)),a}var a;return y()(t,e),u()(t,[{key:"componentDidMount",value:(a=s()(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.insights.chrome.auth.getUser();case 2:(0,this.props.fetchCompare)(this.systemIds,this.baselineIds,this.HSPIds);case 4:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"formatEntities",value:function(e,t,a){var r=[],n={};if(0===e.length&&0===t.length&&0===a.length)return[];e=e.map((function(e){return e.type="system",e})),t=t.map((function(e){return e.type="baseline",e})),(a=a.map((function(e){return e.type="historical-system-profile",e}))).forEach((function(e){n.hasOwnProperty(e.system_id)?n[e.system_id].push(e):n[e.system_id]=[e]})),r=e;for(var o=function(){var t=M()(i[s],2),a=t[0],n=t[1],o=e.find((function(e){return a===e.id})),c=void 0;void 0!==o?(c=r.indexOf(o),r=[].concat(j()(r.slice(0,c+1)),j()(n),j()(r.slice(c+1,r.length)))):r=r.concat(n)},s=0,i=Object.entries(n);s<i.length;s++)o();return t.concat(r)}},{key:"setSystemIds",value:function(){this.systemIds=G.a.parse(this.props.location.search).system_ids,this.systemIds=Array.isArray(this.systemIds)?this.systemIds:[this.systemIds],this.systemIds=this.systemIds.filter((function(e){return void 0!==e}))}},{key:"setBaselineIds",value:function(){this.baselineIds=G.a.parse(this.props.location.search).baseline_ids,this.baselineIds=Array.isArray(this.baselineIds)?this.baselineIds:[this.baselineIds],this.baselineIds=this.baselineIds.filter((function(e){return void 0!==e}))}},{key:"setHSPIds",value:function(){var e=this.props.selectHistoricProfiles;this.HSPIds=G.a.parse(this.props.location.search).hsp_ids,this.HSPIds=Array.isArray(this.HSPIds)?this.HSPIds:[this.HSPIds],this.HSPIds=this.HSPIds.filter((function(e){return void 0!==e})),e(this.HSPIds)}},{key:"formatDate",value:function(e){return ne.a.utc(e).format("DD MMM YYYY, HH:mm UTC")}},{key:"fetchCompare",value:function(e,t,a){this.systemIds=e,this.baselineIds=t,this.HSPIds=a,Ne(this.props.history,e,t,a),this.props.setSelectedBaselines(this.baselineIds,"CHECKBOX"),this.props.fetchCompare(e,t,a)}},{key:"renderRows",value:function(e){var t=this,a=[];return void 0!==e&&e.forEach((function(e){a.push(t.renderRow(e))})),a}},{key:"renderLoadingRows",value:function(){for(var e=[],t=[],a=0;a<3;a+=1)t.push(v.a.createElement("td",null,v.a.createElement(C.Skeleton,{size:C.SkeletonSize.md})));for(var r=0;r<10;r+=1)e.push(v.a.createElement("tr",null,t));return e}},{key:"findSystem",value:function(e){var t=[],a=void 0;return this.masterList.forEach((function(r){a=e.systems.find((function(e){return e.id===r.id})),t.push(v.a.createElement("td",{className:"DIFFERENT"===e.state?"highlight comparison-cell":"comparison-cell"},null===a.value?"No Data":a.value))})),t}},{key:"renderRow",value:function(e){var t=this,a=[],r=[];return e.comparisons?(a.push(v.a.createElement("td",{className:this.props.expandedRows.includes(e.name)?"nested-fact sticky-column fixed-column-1":"sticky-column fixed-column-1"},this.renderExpandableRowButton(this.props.expandedRows,e.name)," ",e.name)),a.push(v.a.createElement("td",{className:"fact-state sticky-column fixed-column-2"},v.a.createElement(He,{factState:e.state}))),this.masterList.forEach((function(){a.push(v.a.createElement("td",{className:"comparison-cell"}))})),r.push(v.a.createElement("tr",null,a)),this.props.expandedRows.includes(e.name)&&e.comparisons.forEach((function(e){a=t.renderRowChild(e),r.push(v.a.createElement("tr",{className:"DIFFERENT"===e.state?"unexpected-row":""},a))}))):(a.push(v.a.createElement("td",{className:"sticky-column fixed-column-1"},e.name)),a.push(v.a.createElement("td",{className:"fact-state sticky-column fixed-column-2"},v.a.createElement(He,{factState:e.state}))),a=a.concat(this.findSystem(e)),r.push(v.a.createElement("tr",{className:"DIFFERENT"===e.state?"unexpected-row":""},a))),r}},{key:"renderRowChild",value:function(e){var t=[];return t.push(v.a.createElement("td",{className:"nested-fact sticky-column fixed-column-1"},v.a.createElement("p",{className:"child-row"},e.name))),t.push(v.a.createElement("td",{className:"fact-state sticky-column fixed-column-2"},v.a.createElement(He,{factState:e.state}))),t=t.concat(this.findSystem(e))}},{key:"renderSystemHeaders",value:function(){var e=this,t=[],a="";return this.masterList.forEach((function(r){"system"===r.type?a=v.a.createElement(V.b,null):"baseline"===r.type?a=v.a.createElement(z.b,null):"historical-system-profile"===r.type&&(a=v.a.createElement(W.b,null)),t.push(v.a.createElement("th",{"header-id":r.id,key:r.id,className:"drift-header ".concat(r.type,"-header")},v.a.createElement("div",null,v.a.createElement("a",{onClick:function(){return e.removeSystem(r)},className:"remove-system-icon"},v.a.createElement(X.b,null))),v.a.createElement("div",{className:"comparison-header"},v.a.createElement("div",{className:"drift-header-icon"},a),v.a.createElement("div",{className:"system-name"},r.display_name),v.a.createElement("div",{className:"system-updated"},!1===r.system_profile_exists?v.a.createElement(_.a,{position:"top",content:v.a.createElement("div",null,"System profile does not exist. Please run insights-client on system to upload archive.")},v.a.createElement(q.b,{color:"#f0ab00"})):"",r.last_updated?e.formatDate(r.last_updated):e.formatDate(r.updated),insights.chrome.isBeta()&&"system"===r.type?v.a.createElement(ze,{systemId:r.id,fetchCompare:e.fetchCompare}):null))))})),t}},{key:"renderSortButton",value:function(e,t){var a=this;return t===xe.a?v.a.createElement(Q.b,{className:"pointer active-blue",onClick:function(){return a.toggleSort(e,t)}}):t===xe.c?v.a.createElement(Z.b,{className:"pointer active-blue",onClick:function(){return a.toggleSort(e,t)}}):v.a.createElement(ee.b,{className:"pointer not-active",onClick:function(){return a.toggleSort(e,t)}})}},{key:"toggleSort",value:function(e,t){"fact"===e?this.props.toggleFactSort(t):this.props.toggleStateSort(t)}},{key:"renderHeaderRow",value:function(){var e=this.props.stateSort;return v.a.createElement("tr",{className:"sticky-column-header"},v.a.createElement("th",{className:"fact-header sticky-column fixed-column-1",key:"fact-header"},v.a.createElement("div",{className:"active-blue"},"Fact ",this.renderSortButton("fact",this.props.factSort))),v.a.createElement("th",{className:"state-header sticky-column fixed-column-2",key:"state-header"},""!==e?v.a.createElement("div",{className:"active-blue"},"State ",this.renderSortButton("state",this.props.stateSort)):v.a.createElement("div",null,"State ",this.renderSortButton("state",this.props.stateSort))),this.renderSystemHeaders())}},{key:"renderExpandableRowButton",value:function(e,t){var a=this;return e.includes(t)?v.a.createElement(te.b,{className:"pointer active-blue",onClick:function(){return a.props.expandRow(t)}}):v.a.createElement(ae.b,{className:"pointer",onClick:function(){return a.props.expandRow(t)}})}},{key:"renderEmptyState",value:function(){return v.a.createElement("center",null,v.a.createElement(L.a,null,v.a.createElement(K.a,{icon:J.b}),v.a.createElement("br",null),v.a.createElement(U.a,{size:"lg"},"Add systems or baselines to compare"),v.a.createElement($.a,null,"You currently have no systems or baselines displayed. Add at least two",v.a.createElement("br",null),"systems or baselines to compare their facts."),v.a.createElement(Ie,{isTable:!1})))}},{key:"renderTable",value:function(e,t){return v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:"drift-table-wrapper"},v.a.createElement("table",{className:"pf-c-table pf-m-compact drift-table"},v.a.createElement("thead",null,this.renderHeaderRow()),v.a.createElement("tbody",null,t?this.renderLoadingRows():this.renderRows(e)))))}},{key:"render",value:function(){var e=this.props,t=e.emptyState,a=e.filteredCompareData,r=e.systems,n=e.baselines,o=e.historicalProfiles,s=e.loading;return this.masterList=this.formatEntities(r,n,o),v.a.createElement(v.a.Fragment,null,v.a.createElement(Pe,{selectedSystemIds:r.map((function(e){return e.id})),confirmModal:this.fetchCompare}),t&&!s?this.renderEmptyState():this.renderTable(a,s))}}]),t}(g.Component);Xe.propTypes={addSystemModalOpened:b.a.bool,location:b.a.object,history:b.a.object,fetchCompare:b.a.func,fullCompareData:b.a.array,filteredCompareData:b.a.array,systems:b.a.array,baselines:b.a.array,historicalProfiles:b.a.array,factSort:b.a.string,stateSort:b.a.string,loading:b.a.bool,toggleFactSort:b.a.func,toggleStateSort:b.a.func,expandRow:b.a.func,expandedRows:b.a.array,setSelectedBaselines:b.a.func,setSelectedHistoricProfiles:b.a.func,selectHistoricProfiles:b.a.func,emptyState:b.a.bool};var qe=Object(E.o)(Object(k.connect)((function(e){return{addSystemModalOpened:e.addSystemModalState.addSystemModalOpened,fullCompareData:e.compareState.fullCompareData,filteredCompareData:e.compareState.filteredCompareData,loading:e.compareState.loading,systems:e.compareState.systems,baselines:e.compareState.baselines,historicalProfiles:e.compareState.historicalProfiles,factSort:e.compareState.factSort,stateSort:e.compareState.stateSort,expandedRows:e.compareState.expandedRows,emptyState:e.compareState.emptyState}}),(function(e){return{fetchCompare:function(t,a,r){return e(We.a.fetchCompare(t,a,r))},toggleFactSort:function(t){return e(We.a.toggleFactSort(t))},toggleStateSort:function(t){return e(We.a.toggleStateSort(t))},expandRow:function(t){return e(We.a.expandRow(t))},setSelectedBaselines:function(t,a){return e(x.a.setSelectedBaselines(t,a))},selectHistoricProfiles:function(t){return e(Le.selectHistoricProfiles(t))},setSelectedHistoricProfiles:function(t){return e(Le.setSelectedHistoricProfiles(t))}}}))(Xe)),Je=a(225);var Qe={toggleFilterDropDown:function(){return{type:Je.a.OPEN_FILTER_DROPDOWN}}},Ze=function(e){function t(e){var a;return c()(this,t),(a=d()(this,f()(t).call(this,e))).onToggle=a.onToggle.bind(B()(a)),a.createDropdownItem=a.createDropdownItem.bind(B()(a)),a}return y()(t,e),u()(t,[{key:"onToggle",value:function(){this.props.toggleDropDown()}},{key:"createDropdownItem",value:function(e){var t=this;return v.a.createElement(Be.a,{className:"state-filter-checkbox",id:e.display,label:e.display,isChecked:e.selected,onChange:function(){return t.props.addStateFilter(e)}})}},{key:"createDropdownArray",value:function(e){var t=[];return e.forEach(function(e){var a=this.createDropdownItem(e);t.push(a)}.bind(this)),t}},{key:"createSelectedViewsString",value:function(e){for(var t=[],a="",r=0;r<e.length;r++)e[r].selected&&t.push(e[r].display);for(var n=0;n<t.length;n++)a+=t[n],n+1<t.length&&(a+=", ");return a}},{key:"render",value:function(){var e,t,a=this.props.stateFilters;return e=this.createDropdownArray(a),t=this.createSelectedViewsString(a),v.a.createElement(v.a.Fragment,null,v.a.createElement(Ae.a,{className:"state-filter-dropdown",onSelect:this.onToggle,toggle:v.a.createElement(Me.a,{onToggle:this.onToggle},"View: ",t),isOpen:this.props.filterDropdownOpened,dropdownItems:e}))}}]),t}(g.Component);Ze.propTypes={toggleDropDown:b.a.func,filterDropdownOpened:b.a.bool,stateFilters:b.a.array,addStateFilter:b.a.func};var et=Object(k.connect)((function(e){return{filterDropdownOpened:e.filterDropdownOpened,stateFilters:e.compareState.stateFilters}}),(function(e){return{toggleDropDown:function(){return e(Qe.toggleFilterDropDown())},addStateFilter:function(t){return e(We.a.addStateFilter(t))}}}))(Ze),tt=a(551),at=a.n(tt),rt=a(519),nt=function(e){function t(e){var a;return c()(this,t),(a=d()(this,f()(t).call(this,e))).updateFactFilter=function(e){a.setState({filter:e}),a.setFactFilter(e)},a.setFactFilter=at()((function(e){this.props.changeFactFilter(e)}),250),a.state={filter:a.props.factFilter},a.setFactFilter=a.setFactFilter.bind(B()(a)),a}return y()(t,e),u()(t,[{key:"componentDidUpdate",value:function(e){""!==e.factFilter&&""===this.props.factFilter&&this.setState({filter:this.props.factFilter})}},{key:"render",value:function(){return v.a.createElement(v.a.Fragment,null,v.a.createElement(rt.a,{value:this.state.filter,id:"filterByFact",placeholder:"Filter by fact",onChange:this.updateFactFilter,"aria-label":"filter by fact"}))}}]),t}(g.Component);nt.propTypes={changeFactFilter:b.a.func,factFilter:b.a.string};var ot=Object(k.connect)((function(e){return{factFilter:e.compareState.factFilter}}),(function(e){return{changeFactFilter:function(t){return e(We.a.filterByFact(t))}}}))(nt),st=a(226);var it={toggleKebab:function(){return{type:st.a.TOGGLE_KEBAB}}},ct=a(358),lt=function(e){function t(e){var a;return c()(this,t),(a=d()(this,f()(t).call(this,e))).removeSystemsSelect=a.removeSystemsSelect.bind(B()(a)),a}return y()(t,e),u()(t,[{key:"removeSystemsSelect",value:function(){var e=this.props,t=e.history,a=e.toggleKebab,r=e.removeSystems,n=e.clearSelectedBaselines,o=e.selectHistoricProfiles,s=e.selectedHSPIds;a(),r(),n("CHECKBOX"),o(s),Ne(t,[])}},{key:"render",value:function(){var e=[v.a.createElement(je.a,{key:"remove-systems",component:"button",onClick:this.removeSystemsSelect},"Clear all comparisons")];return v.a.createElement(Ae.a,{id:"action-kebab","aria-label":"action-kebab",style:{float:"left"},toggle:v.a.createElement(ct.a,{onToggle:this.props.toggleKebab}),isOpen:this.props.kebabOpened,dropdownItems:e,isPlain:!0})}}]),t}(g.Component);lt.propTypes={removeSystems:b.a.func,clearSelectedBaselines:b.a.func,toggleKebab:b.a.func,kebabOpened:b.a.bool,history:b.a.object,selectedHSPIds:b.a.array,selectHistoricProfiles:b.a.func};var ut=Object(E.o)(Object(k.connect)((function(e){return{kebabOpened:e.kebabOpened,selectedHSPIds:e.historicProfilesState.selectedHSPIds}}),(function(e){return{removeSystems:function(){return e(We.a.clearState())},clearSelectedBaselines:function(t){return e(x.a.clearSelectedBaselines(t))},toggleKebab:function(){return e(it.toggleKebab())},selectHistoricProfiles:function(t){return e(Le.selectHistoricProfiles(t))}}}))(lt)),pt=a(558),dt=a(506),mt=function(e){function t(e){var a;return c()(this,t),(a=d()(this,f()(t).call(this,e))).confirmModal=a.confirmModal.bind(B()(a)),a}return y()(t,e),u()(t,[{key:"confirmModal",value:function(){var e=this.props,t=e.toggleModal,a=e.revertCompareData,r=e.history,n=e.previousStateSystems;t(),a(),Ne(r,n.map((function(e){return e.id})))}},{key:"render",value:function(){var e=this,t=this.props.errorAlertOpened;return v.a.createElement(v.a.Fragment,null,t&&v.a.createElement(pt.a,{variant:"danger",title:"Error",action:v.a.createElement(dt.a,{onClose:function(){return e.confirmModal()}})},"Status Code: ",this.props.error.status,v.a.createElement("br",null),this.props.error.detail))}}]),t}(g.Component);mt.propTypes={confirmModal:b.a.func,errorAlertOpened:b.a.bool,error:b.a.object,status:b.a.number,detail:b.a.string,toggleModal:b.a.func,history:b.a.object,clearState:b.a.func,fullCompareData:b.a.array,revertCompareData:b.a.func,previousStateSystems:b.a.array};var ft=Object(E.o)(Object(k.connect)((function(e){return{fullCompareData:e.compareState.fullCompareData,previousStateSystems:e.compareState.previousStateSystems,errorAlertOpened:e.errorAlertOpened,error:e.compareState.error}}),(function(e){return{toggleModal:function(){return e(H.toggleErrorAlert())},revertCompareData:function(){return e(We.a.revertCompareData())}}}))(mt)),ht=a(556),yt=a(6),gt=[{title:"10",value:10},{title:"25",value:25},{title:"50",value:50},{title:"100",value:100}],vt=function(e){function t(e){var a;return c()(this,t),(a=d()(this,f()(t).call(this,e))).onSetPage=a.onSetPage.bind(B()(a)),a.onPerPageSelect=a.onPerPageSelect.bind(B()(a)),a}return y()(t,e),u()(t,[{key:"onSetPage",value:function(e,t){var a={page:t,perPage:this.props.perPage};this.props.updatePagination(a)}},{key:"onPerPageSelect",value:function(e,t){var a={page:1,perPage:t};this.props.updatePagination(a)}},{key:"render",value:function(){var e=this.props,t=e.totalFacts,a=e.page,r=e.perPage;return v.a.createElement(ht.a,{itemCount:t||0,perPageOptions:gt,page:0===t?0:a,perPage:r,dropDirection:yt.c.down,onSetPage:this.onSetPage,onPerPageSelect:this.onPerPageSelect,isCompact:!0})}}]),t}(g.Component);vt.propTypes={perPage:b.a.number,page:b.a.number,updatePagination:b.a.func,totalFacts:b.a.number};var St=Object(k.connect)((function(e){return{page:e.compareState.page,perPage:e.compareState.perPage,totalFacts:e.compareState.totalFacts}}),(function(e){return{updatePagination:function(t){return e(We.a.updatePagination(t))}}}))(vt),bt=a(480),Et=function(e){function t(e){return c()(this,t),d()(this,f()(t).call(this,e))}return y()(t,e),u()(t,[{key:"render",value:function(){var e=this.props.exportToCSV;return v.a.createElement(bt.b,{className:"pointer not-active export-button-margin",onClick:e})}}]),t}(g.Component);Et.propTypes={exportToCSV:b.a.func};var kt=Object(k.connect)(null,(function(e){return{exportToCSV:function(){return e(We.a.exportToCSV())}}}))(Et),Ct=a(418),Pt=a(518),wt=a(420),It=function(e){function t(e){var a;return c()(this,t),(a=d()(this,f()(t).call(this,e))).setStateChips=function(e){var t=[];return e.forEach((function(e){e.selected&&t.push(e.display)})),t},a.removeChip=function(e){var t=a.props,r=t.stateFilters,n=t.addStateFilter,o=t.filterByFact;"Same"===e||"Different"===e||"Incomplete data"===e?r.forEach((function(t){t.display===e&&n(t)})):o("")},a.state={chipGroup:[{category:"State",chips:a.setStateChips(a.props.stateFilters)},{category:"Name",chips:""!==a.props.factFilter?[a.props.factFilter]:[]}]},a}return y()(t,e),u()(t,[{key:"componentDidUpdate",value:function(e){var t,a,r=this.props,n=r.stateFilters,o=r.factFilter;if(n!==e.stateFilters){var s=[];n.forEach((function(e){e.selected&&s.push(e.display)})),a=[{category:"State",chips:s},this.state.chipGroup[1]],this.setState({chipGroup:a})}o!==e.factFilter&&(t={category:"Name",chips:""!==o?[o]:[]},a=[this.state.chipGroup[0],t],this.setState({chipGroup:a}))}},{key:"render",value:function(){var e=this,t=this.state.chipGroup,a=0;return v.a.createElement(Ct.a,{withToolbar:!0},t.map((function(t){return v.a.createElement(Pt.a,{key:t.category,categoryName:t.category},t.chips.map((function(r){return v.a.createElement(wt.a,{key:t.category+a++,onClick:function(){return e.removeChip(r)}},r)})))})))}}]),t}(g.Component);It.propTypes={factFilter:b.a.string,stateFilters:b.a.array,filterByFact:b.a.func,addStateFilter:b.a.func};var Ot=Object(k.connect)((function(e){return{factFilter:e.compareState.factFilter,stateFilters:e.compareState.stateFilters}}),(function(e){return{filterByFact:function(t){return e(We.a.filterByFact(t))},addStateFilter:function(t){return e(We.a.addStateFilter(t))}}}))(It);a.d(t,"DriftPage",(function(){return Ft}));var Ft=function(e){function t(e){var a;return c()(this,t),(a=d()(this,f()(t).call(this,e))).props.clearSelectedBaselines("CHECKBOX"),a}var a;return y()(t,e),u()(t,[{key:"componentDidMount",value:(a=s()(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.insights.chrome.auth.getUser();case 2:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.emptyState;return this.props.error.detail&&this.props.toggleErrorAlert(),v.a.createElement(v.a.Fragment,null,v.a.createElement(C.PageHeader,null,v.a.createElement(C.PageHeaderTitle,{title:"System Comparison"})),v.a.createElement(C.Main,null,v.a.createElement(ft,null),v.a.createElement(P.a,{className:"pf-t-light pf-m-opaque-100"},v.a.createElement(w.a,null,v.a.createElement("div",null,a?null:v.a.createElement(v.a.Fragment,null,v.a.createElement(I.a,{className:"drift-toolbar"},v.a.createElement(O.a,null,v.a.createElement(F.a,null,v.a.createElement(ot,null)),v.a.createElement(F.a,null,v.a.createElement(et,null)),v.a.createElement(F.a,null,v.a.createElement(Ie,null)),v.a.createElement(F.a,null,v.a.createElement(kt,null)),v.a.createElement(F.a,null,v.a.createElement(ut,null))),v.a.createElement(O.a,{className:"pf-c-pagination"},v.a.createElement(F.a,null,v.a.createElement(St,null)))),v.a.createElement(I.a,{className:"drift-toolbar"},v.a.createElement(O.a,null,v.a.createElement(F.a,null,v.a.createElement(Ot,null))))),v.a.createElement(qe,null),a||t?null:v.a.createElement(I.a,{className:"drift-toolbar"},v.a.createElement(O.a,{className:"pf-c-pagination"},v.a.createElement(F.a,null,v.a.createElement(St,null)))))))))}}]),t}(g.Component);Ft.propTypes={error:b.a.object,loading:b.a.bool,toggleErrorAlert:b.a.func,clearSelectedBaselines:b.a.func,emptyState:b.a.bool};t.default=Object(E.o)(Object(k.connect)((function(e){return{error:e.compareState.error,loading:e.compareState.loading,emptyState:e.compareState.emptyState}}),(function(e){return{toggleErrorAlert:function(){return e(H.toggleErrorAlert())},clearSelectedBaselines:function(t){return e(x.a.clearSelectedBaselines(t))}}}))(Ft))}}]);
//# sourceMappingURL=../sourcemaps/4.js.map