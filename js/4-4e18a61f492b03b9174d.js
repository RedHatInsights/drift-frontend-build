(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{355:function(e,t,a){
/** @license MIT License (c) copyright 2010-2014 original author or authors */
var n=a(569);t.find=function(e,t,a,o){if("string"!=typeof t)return;if(""===t)return{target:e,key:void 0};if(t===r)return{target:e,key:""};var c,i=e,l=void 0!==o;return n(t,function(t){if(null==e)return i=null,!1;c=Array.isArray(e)?l?function(e,t,a,n){var r=t;if(r<0)throw new Error("array index out of bounds "+r);if(void 0!==n&&"function"==typeof e&&(r=e(t,a,n))<0)throw new Error("could not find patch context "+n);return r}(a,d(t),e,o):"-"===t?t:d(t):t,i=e,e=e[c]}),null===i?void 0:{target:i,key:c}},t.join=function(e){return e.join(r)},t.absolute=function(e){return e[0]===r?e:r+e},t.parse=function(e){var t=[];return n(e,t.push.bind(t)),t},t.contains=function(e,t){return 0===t.indexOf(e)&&t[e.length]===r},t.encodeSegment=function(e){return e.replace(u,s).replace(o,c)},t.decodeSegment=function(e){return e.replace(i,r).replace(p,l)},t.parseArrayIndex=d,t.isValidArrayIndex=h;var r="/",o=/\//g,c="~1",i=/~1/g,l="~",u=/~/g,s="~0",p=/~0/g;var f=/^(0|[1-9]\d*)$/;function h(e){return f.test(e)}function d(e){if(h(e))return+e;throw new SyntaxError("invalid array index "+e)}},356:function(e,t){function a(e){Error.call(this),this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}e.exports=a,a.prototype=Object.create(Error.prototype),a.prototype.constructor=a},430:function(e,t){
/** @license MIT License (c) copyright 2010-2014 original author or authors */
t.cons=function(e,t){var a=t.length,n=new Array(a+1);n[0]=e;for(var r=0;r<a;++r)n[r+1]=t[r];return n},t.tail=function(e){for(var t=e.length-1,a=new Array(t),n=0;n<t;++n)a[n]=e[n+1];return a},t.map=function(e,t){for(var a=new Array(t.length),n=0;n<t.length;++n)a[n]=e(t[n]);return a}},431:function(e,t,a){var n=a(355),r=a(432),o=a(570),c=a(571),i=a(430),l=a(433),u=a(356),s=a(434),p=n.find,f=n.parseArrayIndex;function h(e,t){var a=e.target;if(Array.isArray(a))if("-"===e.key)a.push(t);else{if(e.key>a.length)throw new u("target of add outside of array bounds");a.splice(e.key,0,t)}else{if(!b(a))throw new u("target of add must be an object or array "+e.key);a[e.key]=t}}function d(e,t){if(e.path===t.path&&"remove"===t.op)throw new TypeError("Can't commute add,remove -> remove,add for same path");return c(e,t)}function v(e){var t,a=e.target;if(Array.isArray(a))return(t=a.splice(f(e.key),1))[0];if(b(a))return t=a[e.key],delete a[e.key],t;throw new u("target of remove must be an object or array")}function m(e){return void 0===e||null==e.target&&void 0!==e.key}function y(e){return void 0!==e.key&&void 0===e.target[e.key]}function b(e){return null!==e&&"object"==typeof e}t.test={apply:function(e,t,a){var n,r,c=p(e,t.path,a.findContext,t.context),i=c.target;Array.isArray(i)?(n=f(c.key),r=i[n]):r=void 0===c.key?c.target:c.target[c.key];if(!o(r,t.value))throw new l("test failed "+JSON.stringify(t));return e},inverse:function(e,t){return e.push(t),1},commute:function(e,t){if(e.path===t.path&&"remove"===t.op)throw new TypeError("Can't commute test,remove -> remove,test for same path");if("test"===t.op||"replace"===t.op)return[t,e];return c(e,t)}},t.add={apply:function(e,t,a){var n=p(e,t.path,a.findContext,t.context);if(m(n))throw new u("path does not exist "+t.path);if(void 0===t.value)throw new u("missing value");var o=r(t.value);if(void 0===n.key)return o;return h(n,o),e},inverse:function(e,t){var a=t.context;void 0!==a&&(a={before:a.before,after:i.cons(t.value,a.after)});return e.push({op:"test",path:t.path,value:t.value,context:a}),e.push({op:"remove",path:t.path,context:a}),1},commute:d},t.remove={apply:function(e,t,a){var n=p(e,t.path,a.findContext,t.context);if(m(n)||void 0===n.target[n.key])throw new u("path does not exist "+t.path);return v(n),e},inverse:function(e,t,a,n){var r=n[a-1];if(void 0===r||"test"!==r.op||r.path!==t.path)throw new s("cannot invert remove w/o test");var o=r.context;void 0!==o&&(o={before:o.before,after:i.tail(o.after)});return e.push({op:"add",path:r.path,value:r.value,context:o}),2},commute:function(e,t){if(e.path===t.path&&"remove"===t.op)return[t,e];return c(e,t)}},t.replace={apply:function(e,t,a){var n=p(e,t.path,a.findContext,t.context);if(m(n)||y(n))throw new u("path does not exist "+t.path);if(void 0===t.value)throw new u("missing value");var o=r(t.value);if(void 0===n.key)return o;var c=n.target;Array.isArray(c)?c[f(n.key)]=o:c[n.key]=o;return e},inverse:function(e,t,a,n){var r=n[a-1];if(void 0===r||"test"!==r.op||r.path!==t.path)throw new s("cannot invert replace w/o test");var o=r.context;void 0!==o&&(o={before:o.before,after:i.cons(r.value,i.tail(o.after))});return e.push({op:"test",path:r.path,value:t.value}),e.push({op:"replace",path:r.path,value:r.value}),2},commute:function(e,t){if(e.path===t.path&&"remove"===t.op)throw new TypeError("Can't commute replace,remove -> remove,replace for same path");if("test"===t.op||"replace"===t.op)return[t,e];return c(e,t)}},t.move={apply:function(e,t,a){if(n.contains(t.path,t.from))throw new u("move.from cannot be ancestor of move.path");var r=p(e,t.path,a.findContext,t.context),o=p(e,t.from,a.findContext,t.fromContext);return h(r,v(o)),e},inverse:function(e,t){return e.push({op:"move",path:t.from,context:t.fromContext,from:t.path,fromContext:t.context}),1},commute:function(e,t){if(e.path===t.path&&"remove"===t.op)throw new TypeError("Can't commute move,remove -> move,replace for same path");return c(e,t)}},t.copy={apply:function(e,t,a){var n=p(e,t.path,a.findContext,t.context),o=p(e,t.from,a.findContext,t.fromContext);if(m(o)||y(o))throw new u("copy.from must exist");var c,i=o.target;c=Array.isArray(i)?i[f(o.key)]:i[o.key];return h(n,r(c)),e},inverse:function(e,t){throw new s("cannot invert "+t.op)},commute:d}},432:function(e,t){function a(e){return null==e||"object"!=typeof e?e:Array.isArray(e)?function(e){for(var t=e.length,n=new Array(t),r=0;r<t;++r)n[r]=a(e[r]);return n}(e):function(e){for(var t,n=Object.keys(e),r={},o=0,c=n.length;o<c;++o)t=n[o],r[t]=a(e[t]);return r}(e)}
/** @license MIT License (c) copyright 2010-2014 original author or authors */
e.exports=a},433:function(e,t){function a(e){Error.call(this),this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}e.exports=a,a.prototype=Object.create(Error.prototype),a.prototype.constructor=a},434:function(e,t){function a(e){Error.call(this),this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}e.exports=a,a.prototype=Object.create(Error.prototype),a.prototype.constructor=a},566:function(e,t,a){
/** @license MIT License (c) copyright 2010-2014 original author or authors */
var n=a(567),r=a(430),o=a(568),c=a(572),i=a(355).encodeSegment;t.diff=function(e,t,a){return s(e,t,"",function(e,t){return"object"==typeof e?{patch:t,hash:p(h,e.hash,u),makeContext:p(h,e.makeContext,f),invertible:!(!1===e.invertible)}:{patch:t,hash:p(h,e,u),makeContext:f,invertible:!0}}(a,[])).patch},t.patch=o.apply,t.patchInPlace=o.applyInPlace,t.inverse=c,t.clone=o.clone,t.InvalidPatchOperationError=a(356),t.TestFailedError=a(433),t.PatchNotInvertibleError=a(434);var l=o.isValidObject,u=o.defaultHash;function s(e,t,a,o){return Array.isArray(e)&&Array.isArray(t)?function(e,t,a,o){var c=r.map(o.hash,e),i=r.map(o.hash,t),l=n.compare(c,i);return function(e,t,a,r,o){var c=0;return n.reduce(function(r,o,i,l){var u,p,f=r.patch,h=a+"/"+(l+c);return o===n.REMOVE?(u=f[f.length-1],p=r.makeContext(l,e),r.invertible&&f.push({op:"test",path:h,value:e[l],context:p}),void 0!==u&&"add"===u.op&&u.path===h?(u.op="replace",u.context=p):f.push({op:"remove",path:h,context:p}),c-=1):o===n.ADD?(f.push({op:"add",path:h,value:t[i],context:r.makeContext(l,e)}),c+=1):s(e[l],t[i],h,r),r},r,o)}(e,t,a,o,l)}(e,t,a,o):l(e)&&l(t)?function(e,t,a,n){var r,o,c=Object.keys(t),l=n.patch;for(r=c.length-1;r>=0;--r){o=c[r];var u=a+"/"+i(o);void 0!==e[o]?s(e[o],t[o],u,n):l.push({op:"add",path:u,value:t[o]})}for(c=Object.keys(e),r=c.length-1;r>=0;--r)if(o=c[r],void 0===t[o]){var p=a+"/"+i(o);n.invertible&&l.push({op:"test",path:p,value:e[o]}),l.push({op:"remove",path:p})}return n}(e,t,a,o):function(e,t,a,n){e!==t&&(n.invertible&&n.patch.push({op:"test",path:a,value:e}),n.patch.push({op:"replace",path:a,value:t}));return n}(e,t,a,o)}function p(e,t,a){return e(t)?t:a}function f(){}function h(e){return"function"==typeof e}},567:function(e,t){var a,n,r;function o(e,t,o,c,i,l){return t[i+c]===o[l+c]?{value:e[l+1][i+1].value,type:r}:e[l][i+1].value<e[l+1][i].value?{value:e[l][i+1].value+1,type:a}:{value:e[l+1][i].value+1,type:n}}
/** @license MIT License (c) copyright 2010-2014 original author or authors */
t.compare=function(e,t){for(var c=e.length,i=t.length,l=function(e,t){var a=0,n=Math.min(e.length,t.length);for(;a<n&&e[a]===t[a];)++a;return a}(e,t),u=l<c&&l<i?function(e,t){var a=e.length-1,n=t.length-1,r=Math.min(a,n),o=0;for(;o<r&&e[a-o]===t[n-o];)++o;return o}(e,t):0,s=u+l-1,p=function(e,t){var o,c,i,l=[];for(i=l[t]=[],c=0;c<e;++c)i[c]={value:e-c,type:a};for(o=0;o<t;++o)l[o]=[],l[o][e]={value:t-o,type:n};return l[t][e]={value:0,type:r},l}(c-=s,i-=s),f=c-1;f>=0;--f)for(var h=i-1;h>=0;--h)p[h][f]=o(p,e,t,l,f,h);return{prefix:l,matrix:p,suffix:u}},t.reduce=function(e,t,o){var c,i,l,u,s=o.matrix,p=o.prefix;for(c=0;c<p;++c)t=e(t,r,c,c);l=c,p=s.length,c=0,i=0;for(;c<p;)switch(u=s[c][i].type,t=e(t,u,c+l,i+l),u){case r:++c,++i;break;case a:++i;break;case n:++c}for(c+=l,i+=l,p=o.suffix,l=0;l<p;++l)t=e(t,r,c+l,i+l);return t},t.REMOVE=a=-1,t.ADD=n=1,t.EQUAL=r=0},568:function(e,t,a){
/** @license MIT License (c) copyright 2010-2014 original author or authors */
var n=a(431),r=a(432),o=a(356);t.apply=function(e,t,a){return i(e,r(t),a)},t.applyInPlace=i,t.clone=r,t.isValidObject=l,t.defaultHash=function(e){return l(e)||function(e){return"[object Array]"===Object.prototype.toString.call(e)}(e)?JSON.stringify(e):e};var c={};function i(e,t,a){if(a||(a=c),!Array.isArray(e))return t;for(var r,i,l=0;l<e.length;++l){if(i=e[l],void 0===(r=n[i.op]))throw new o("invalid op "+JSON.stringify(i));t=r.apply(t,i,a)}return t}function l(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}},569:function(e,t){
/** @license MIT License (c) copyright 2010-2014 original author or authors */
e.exports=function(e,t){var c,i,l,u;c=e.charAt(0)===n?1:0,i="",a.lastIndex=c;for(;l=a.exec(e);)if(u=l[0],i+=e.slice(c,a.lastIndex-u.length),c=a.lastIndex,u===n){if(!1===t(i))return e;i=""}else i+=u===o?n:r;return i+=e.slice(c),t(i),e};var a=/\/|~1|~0/g,n="/",r="~",o="~1"},570:function(e,t){function a(e,t){return e===t||(Array.isArray(e)&&Array.isArray(t)?function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!a(e[n],t[n]))return!1;return!0}(e,t):"object"==typeof e&&"object"==typeof t&&function(e,t){if(null===e&&null!==t||null!==e&&null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o,c=0;c<n.length;++c)if(!((o=n[c])in t&&a(e[o],t[o])))return!1;return!0}(e,t))}e.exports=a},571:function(e,t,a){var n=a(355);function r(e,t,a,n,r){var o=t.length-1,c=+t[o],i=+n[o],l=n.slice();return c>i?l:("add"===e.op||"copy"===e.op?l[o]=Math.max(0,i-r):"remove"===e.op&&(l[o]=Math.max(0,i+r)),l)}function o(e){return"remove"===e.op?{op:e.op,path:e.path}:"copy"===e.op||"move"===e.op?{op:e.op,path:e.path,from:e.from}:{op:e.op,path:e.path,value:e.value}}e.exports=function(e,t){var a=n.parse(e.path),c=n.parse(t.path),i=function(e,t){var a=e.length,n=t.length;if(0===a||0===n||a<2&&n<2)return[];var r=a===n?a-1:Math.min(a,n),o=0;for(;o<r&&e[o]===t[o];)++o;return e.slice(0,o)}(a,c),l=function(e,t,a){return n.isValidArrayIndex(e[a])&&n.isValidArrayIndex(t[a])}(a,c,i.length),u=o(e),s=o(t);return 0!==i.length||l?l?function(e,t,a,o){if(t.length===o.length)return function(e,t,a,r){var o,c=t.length-1,i=+t[c],l=+r[c];i<l?"add"===e.op||"copy"===e.op?((o=r.slice())[c]=Math.max(0,l-1),a.path=n.absolute(n.join(o))):"remove"===e.op&&((o=r.slice())[c]=l+1,a.path=n.absolute(n.join(o))):"add"===a.op||"copy"===a.op?((o=t.slice())[c]=i+1,e.path=n.absolute(n.join(o))):i>l&&"remove"===a.op&&((o=t.slice())[c]=Math.max(0,i-1),e.path=n.absolute(n.join(o)));return[a,e]}(e,t,a,o);t.length>o.length?(t=r(a,o,e,t,-1),e.path=n.absolute(n.join(t))):(o=r(e,t,a,o,1),a.path=n.absolute(n.join(o)));return[a,e]}(u,a,s,c):function(e,t,a,n){if(e.path===a.path)throw new TypeError("cannot commute "+e.op+","+a.op+" with identical object paths");return[a,e]}(u,0,s):[s,u]}},572:function(e,t,a){var n=a(431);function r(e,t,a,r){var o=n[t.op];return void 0!==o&&"function"==typeof o.inverse?o.inverse(e,t,a,r):1}e.exports=function(e){var t,a,n=[];for(t=e.length-1;t>=0;t-=a)a=r(n,e[t],t,e);return n}},584:function(e,t,a){"use strict";a.r(t);var n=a(22),r=a.n(n),o=a(34),c=a.n(o),i=a(14),l=a.n(i),u=a(15),s=a.n(u),p=a(16),f=a.n(p),h=a(17),d=a.n(h),v=a(18),m=a.n(v),y=a(181),b=a.n(y),g=a(1),k=a.n(g),E=a(4),x=a.n(E),w=a(12),F=a(19),D=a(227),C=a(380),A=a(381),M=a(382),N=a(383),T=a(403),j=a(404),O=a(399),S=a(401),V=a(400),B=a(365),I=a(29);var R={toggleFactModal:function(){return{type:I.a.TOGGLE_FACT_MODAL}},setFactData:function(e){return{type:I.a.SET_FACT_DATA,payload:e}}},_=function(e){function t(e){var a;return l()(this,t),(a=f()(this,d()(t).call(this,e))).handleAddFact=a.handleAddFact.bind(b()(b()(a))),a}return m()(t,e),s()(t,[{key:"handleAddFact",value:function(){var e=this.props,t=e.setFactData,a=e.toggleFactModal;t({factName:"",factValue:"",fact:[]}),a()}},{key:"render",value:function(){return k.a.createElement(O.a,{className:"display-margin"},k.a.createElement(S.a,null,k.a.createElement(V.a,null,k.a.createElement(B.a,{variant:"primary",onClick:this.handleAddFact},"Add fact"))))}}]),t}(g.Component);_.propTypes={toggleFactModal:x.a.func,setFactData:x.a.func};var P=Object(F.connect)(null,function(e){return{toggleFactModal:function(){return e(R.toggleFactModal())},setFactData:function(t){return e(R.setFactData(t))}}})(_),L=a(384),H=a(386),K=a(392),J=a(222),z=a(566),G=a.n(z),U=a(372),q=a(388),Q=a(221),$=a(442),W=function(e){function t(e){var a;return l()(this,t),(a=f()(this,d()(t).call(this,e))).editFact=a.editFact.bind(b()(b()(a))),a.deleteFact=a.deleteFact.bind(b()(b()(a))),a.addFact=a.addFact.bind(b()(b()(a))),a.state={isOpen:!1,factName:a.props.factName,factValue:a.props.factValue,fact:a.props.fact},a}return m()(t,e),s()(t,[{key:"onKebabToggle",value:function(e){this.setState({isOpen:e})}},{key:"editFact",value:function(){var e=this.state,t=e.factName,a=e.factValue,n=e.fact,r=this.props,o=r.toggleFactModal,c=r.setFactData;o(),c({factName:t,factValue:a,fact:n})}},{key:"deleteFact",value:function(){var e,t=this.state,a=t.factName,n=t.factValue,r=t.fact,o=this.props,c=o.baselineData,i=o.patchBaseline,l={name:a,value:n};if(r.values&&""!==n){var u=ee.buildDeletedSubFact(l,r);e=ee.makeDeleteFactPatch(u,c,r)}else e=ee.makeDeleteFactPatch(l,c,[]);i(c.id,e)}},{key:"addFact",value:function(){var e=this.state.fact,t=this.props,a=t.toggleFactModal,n=t.setFactData;a(),n({fact:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.isOpen,n=t.factValue,r=t.fact,o=[k.a.createElement(U.a,{key:"edit",component:"button",onClick:this.editFact},r.values&&""===n?"Edit category":"Edit fact"),k.a.createElement(U.a,{key:"delete",component:"button",onClick:this.deleteFact},r.values&&""===n?"Delete category":"Delete fact")];return r.values&&""===n&&o.push(k.a.createElement(U.a,{key:"add fact",component:"button",onClick:this.addFact},"Add sub fact")),k.a.createElement(q.a,{position:Q.d.right,style:{float:"right"},className:"baseline-fact-kebab",toggle:k.a.createElement($.a,{onToggle:function(t){return e.onKebabToggle(t)}}),isOpen:a,dropdownItems:o,isPlain:!0})}}]),t}(g.Component);W.propTypes={factName:x.a.string,factValue:x.a.string,fact:x.a.object,toggleFactModal:x.a.func,setFactData:x.a.func,baselineData:x.a.obj,patchBaseline:x.a.func};var X=Object(F.connect)(function(e){return{baselineData:e.baselinesTableState.baselineData}},function(e){return{toggleFactModal:function(){return e(R.toggleFactModal())},setFactData:function(t){return e(R.setFactData(t))},patchBaseline:function(t,a){return e(J.a.patchBaseline(t,a))}}})(W);function Y(e,t,a){var n=[];return Array.isArray(a)&&0===a.length?t.baseline_facts.forEach(function(t){t.name!==e.name&&n.push(t)}):t.baseline_facts.forEach(function(e){e.name!==a.name&&n.push(e)}),n}function Z(e,t){return G.a.diff(t,e)}var ee={renderKebab:function(e,t,a){return k.a.createElement("td",null,k.a.createElement(X,{factName:e,factValue:t,fact:a}))},buildNewFactData:function(e,t,a,n){var r={},o=[];return n&&!Array.isArray(n)?(n.values.forEach(function(e){o.push(e)}),o.push({name:t,value:a}),r.name=n.name,r.values=o,r):(r.name=t,e?r.values=[]:r.value=a,r)},buildEditedFactData:function(e,t,a,n,r,o){var c={},i=[],l=t,u=n;if(e)c.name=a,o.values.forEach(function(e){i.push(e)}),c.values=i;else if(o.values&&""!==r){c.name=o.name;var s={name:a,value:r};o.values.forEach(function(e){e.name!==l&&e.value!==u&&i.push(e)}),i.push(s),c.values=i}else c={name:a,value:r};return c},buildDeletedSubFact:function(e,t){var a=[];return t.values.forEach(function(t){t.name!==e.name&&t.value!==e.value&&a.push(t)}),{name:t.name,values:a}},makeAddFactPatch:function(e,t,a){if(void 0===e||void 0===t)return{};var n=Y(e,t,a);n.push(e);var r=Z(n,t.baseline_facts);return{display_name:t.display_name,facts_patch:r}},makeDeleteFactPatch:function(e,t,a){if(void 0===e||void 0===t)return{};var n=Y(e,t,a);e.values&&n.push(e);var r=Z(n,t.baseline_facts);return{display_name:t.display_name,facts_patch:r}}},te=function(e){function t(e){var a;return l()(this,t),(a=f()(this,d()(t).call(this,e))).cancelFact=a.cancelFact.bind(b()(b()(a))),a.confirmModal=a.confirmModal.bind(b()(b()(a))),a.renderCategoryCheckbox=a.renderCategoryCheckbox.bind(b()(b()(a))),a.renderFactInput=a.renderFactInput.bind(b()(b()(a))),a.renderValueInput=a.renderValueInput.bind(b()(b()(a))),a.renderModalBody=a.renderModalBody.bind(b()(b()(a))),a.patchFact=a.patchFact.bind(b()(b()(a))),a.state={factName:a.props.factName,factValue:a.props.factValue,factData:a.props.factData},""!==a.props.factName&&""===a.props.factValue?a.state.categoryCheck=!0:a.state.categoryCheck=!1,a.handleChange=function(e){a.setState({categoryCheck:e})},a.handleNewName=function(e){a.setState({factName:e})},a.handleNewValue=function(e){a.setState({factValue:e})},a}return m()(t,e),s()(t,[{key:"cancelFact",value:function(){(0,this.props.toggleFactModal)()}},{key:"confirmModal",value:function(){var e=this.props,t=e.toggleFactModal,a=e.factName,n=e.factValue;""===a&&""===n||void 0===a&&void 0===n?this.addFact():this.editFact(),t()}},{key:"addFact",value:function(){var e=this.state,t=e.categoryCheck,a=e.factName,n=e.factValue,r=e.factData,o=ee.buildNewFactData(t,a,n,r);this.patchFact(o,r)}},{key:"editFact",value:function(){var e=this.state,t=e.categoryCheck,a=e.factName,n=e.factValue,r=e.factData,o=ee.buildEditedFactData(t,this.props.factName,a,this.props.factValue,n,r);this.patchFact(o,r)}},{key:"patchFact",value:function(e,t){var a=this.props,n=a.baselineData,r=a.patchBaseline,o=ee.makeAddFactPatch(e,n,t);r(n.id,o)}},{key:"renderCategoryCheckbox",value:function(){var e=this.state.categoryCheck,t=this.props,a=t.factName,n=t.factValue;return""!==a&&""===n?k.a.createElement(L.a,{label:"This is a category","aria-label":"controlled checkbox example",id:"categoryCheck",name:"isCategory",defaultChecked:!0,isDisabled:!0}):""!==a&&""!==n?k.a.createElement(L.a,{label:"This is a category","aria-label":"controlled checkbox example",id:"categoryCheck",name:"isCategory",isDisabled:!0}):k.a.createElement(L.a,{label:"This is a category",isChecked:e,onChange:this.handleChange,"aria-label":"controlled checkbox example",id:"categoryCheck",name:"isCategory"})}},{key:"renderFactInput",value:function(){var e=this.state.factName;return k.a.createElement("div",{className:"fact-value"},"Fact name:",k.a.createElement("br",null),k.a.createElement(H.a,{value:e,type:"text",placeholder:"Name",onChange:this.handleNewName,isValid:""!==e&&void 0!==e,"aria-label":"fact name"}))}},{key:"renderValueInput",value:function(){var e,t=this.state,a=t.categoryCheck,n=t.factValue;return e=a?k.a.createElement(H.a,{type:"text","aria-label":"value",isDisabled:!0}):k.a.createElement(H.a,{value:n,type:"text",placeholder:"Value",onChange:this.handleNewValue,isValid:""!==n&&void 0!==n,"aria-label":"value"}),k.a.createElement("div",{className:"fact-value"},"Value:",k.a.createElement("br",null),e)}},{key:"renderModalBody",value:function(){return k.a.createElement(k.a.Fragment,null,this.renderCategoryCheckbox(),this.renderFactInput(),k.a.createElement("br",null),this.renderValueInput())}},{key:"render",value:function(){var e=this.props.factModalOpened;return k.a.createElement(K.a,{title:"Fact add/edit",isOpen:e,onClose:this.cancelFact,width:"auto",actions:[k.a.createElement(B.a,{key:"confirm",variant:"primary",onClick:this.confirmModal},"Save"),k.a.createElement(B.a,{key:"cancel",variant:"primary",onClick:this.cancelFact},"Cancel")]},this.renderModalBody())}}]),t}(g.Component);te.propTypes={toggleFactModal:x.a.func,factModalOpened:x.a.bool,factName:x.a.string,factValue:x.a.string,factData:x.a.obj,baselineData:x.a.obj,patchBaseline:x.a.func};var ae=Object(F.connect)(function(e){return{factModalOpened:e.factModalState.factModalOpened,factName:e.factModalState.factName,factValue:e.factModalState.factValue,factData:e.factModalState.factData,baselineData:e.baselinesTableState.baselineData}},function(e){return{toggleFactModal:function(){return e(R.toggleFactModal())},patchBaseline:function(t,a){return e(J.a.patchBaseline(t,a))}}})(te),ne=function(e){function t(e){var a;return l()(this,t),(a=f()(this,d()(t).call(this,e))).fetchBaselineId(),a.renderBreadcrumb=a.renderBreadcrumb.bind(b()(b()(a))),a.goToBaselinesList=a.goToBaselinesList.bind(b()(b()(a))),a}var a;return m()(t,e),s()(t,[{key:"componentDidMount",value:(a=c()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.insights.chrome.auth.getUser();case 2:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"fetchBaselineId",value:function(){var e=this.props,t=e.match.params;(0,e.fetchBaselineData)(t.id)}},{key:"goToBaselinesList",value:function(){var e=this.props,t=e.history;(0,e.clearBaselineData)(),t.push("/baselines")}},{key:"renderBreadcrumb",value:function(){var e=this,t=this.props.baselineData;return k.a.createElement(C.a,null,k.a.createElement(A.a,null,k.a.createElement("a",{onClick:function(){return e.goToBaselinesList()}},"Baselines")),k.a.createElement(A.a,{isActive:!0},t.display_name))}},{key:"renderHeaderRow",value:function(){return k.a.createElement("tr",null,k.a.createElement("th",{className:"edit-baseline-header"},k.a.createElement("div",null,"Fact")),k.a.createElement("th",{className:"edit-baseline-header"},k.a.createElement("div",null,"Value")),k.a.createElement("th",null))}},{key:"renderLoadingRows",value:function(){for(var e=[],t=[],a=0;a<3;a+=1)t.push(k.a.createElement("td",null,k.a.createElement(D.Skeleton,{size:D.SkeletonSize.md})));for(var n=0;n<10;n+=1)e.push(k.a.createElement("tr",null,t));return e}},{key:"renderExpandableRowButton",value:function(e){var t=this;return this.props.expandedRows.includes(e)?k.a.createElement(T.a,{className:"pointer active-blue",onClick:function(){return t.props.expandRow(e)}}):k.a.createElement(j.a,{className:"pointer",onClick:function(){return t.props.expandRow(e)}})}},{key:"renderRowData",value:function(e){var t=this.props.expandedRows,a=[],n=[];return e.values?(a.push(k.a.createElement("td",{className:t.includes(e.name)?"nested-fact":""},this.renderExpandableRowButton(e.name)," ",e.name)),a.push(k.a.createElement("td",null)),a.push(ee.renderKebab(e.name,"",e)),n.push(k.a.createElement("tr",null,a)),t.includes(e.name)&&e.values.forEach(function(t){(a=[]).push(k.a.createElement("td",{className:"nested-fact"},k.a.createElement("p",{className:"child-row"},t.name))),a.push(k.a.createElement("td",null,t.value)),a.push(ee.renderKebab(t.name,t.value,e)),n.push(k.a.createElement("tr",null,a))})):(a.push(k.a.createElement("td",null,e.name)),a.push(k.a.createElement("td",null,e.value)),a.push(ee.renderKebab(e.name,e.value,e)),n.push(k.a.createElement("tr",null,a))),n}},{key:"renderRows",value:function(){var e=this.props.baselineData.baseline_facts,t=[],a=[];if(void 0!==e)for(var n=0;n<e.length;n+=1)a=this.renderRowData(e[n]),t.push(a);return t}},{key:"renderTable",value:function(){var e=this.props.baselineData;return k.a.createElement("table",{className:"pf-c-table ins-c-table pf-m-compact ins-entity-table drift-table"},k.a.createElement("thead",null,this.renderHeaderRow()),k.a.createElement("tbody",null,void 0!==e?this.renderRows():this.renderLoadingRows()))}},{key:"render",value:function(){var e=this.props,t=e.baselineData,a=e.factModalOpened;return k.a.createElement(k.a.Fragment,null,void 0!==t?k.a.createElement(D.PageHeader,null,this.renderBreadcrumb(),k.a.createElement("br",null),k.a.createElement(D.PageHeaderTitle,{title:t.display_name})):k.a.createElement(D.PageHeader,null,k.a.createElement("div",null,k.a.createElement(D.Skeleton,{size:D.SkeletonSize.lg}))),k.a.createElement(D.Main,null,k.a.createElement(M.a,{className:"pf-t-light pf-m-opaque-100"},k.a.createElement(N.a,null,a?k.a.createElement(ae,null):null,k.a.createElement(P,null),this.renderTable()))))}}]),t}(g.Component);ne.propTypes={history:x.a.obj,match:x.a.any,clearBaselineData:x.a.func,baselineData:x.a.object,baselineDataLoading:x.a.bool,patchBaseline:x.a.func,fetchBaselineData:x.a.func,factModalOpened:x.a.bool,editBaselineTableData:x.a.array,expandRow:x.a.func,expandedRows:x.a.array};t.default=Object(w.k)(Object(F.connect)(function(e){return{baselineData:e.baselinesTableState.baselineData,baselineDataLoading:e.baselinesTableState.baselineDataLoading,factModalOpened:e.factModalState.factModalOpened,editBaselineTableData:e.baselinesTableState.editBaselineTableData,expandedRows:e.baselinesTableState.expandedRows}},function(e){return{clearBaselineData:function(){return e(J.a.clearBaselineData())},patchBaseline:function(t,a){return e(J.a.patchBaseline(t,a))},expandRow:function(t){return e(J.a.expandRow(t))},fetchBaselineData:function(t){return e(J.a.fetchBaselineData(t))}}})(ne))}}]);
//# sourceMappingURL=../sourcemaps/4.js.map