(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{525:function(e,t,a){"use strict";var n=a(608),r=a(52);function s(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){var a=function(e){var t;switch(e.arrayFormat){case"index":return function(e,a,n){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=a):n[e]=a};case"bracket":return function(e,a,n){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],a):n[e]=[a]:n[e]=a};default:return function(e,t,a){void 0!==a[e]?a[e]=[].concat(a[e],t):a[e]=t}}}(t=r({arrayFormat:"none"},t)),n=Object.create(null);return"string"!=typeof e?n:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),r=t.shift(),s=t.length>0?t.join("="):void 0;s=void 0===s?null:decodeURIComponent(s),a(decodeURIComponent(r),s,n)})),Object.keys(n).sort().reduce((function(e,t){var a=n[t];return Boolean(a)&&"object"==typeof a&&!Array.isArray(a)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return t[e]})):t}(a):e[t]=a,e}),Object.create(null))):n},t.stringify=function(e,t){var a=function(e){switch(e.arrayFormat){case"index":return function(t,a,n){return null===a?[s(t,e),"[",n,"]"].join(""):[s(t,e),"[",s(n,e),"]=",s(a,e)].join("")};case"bracket":return function(t,a){return null===a?s(t,e):[s(t,e),"[]=",s(a,e)].join("")};default:return function(t,a){return null===a?s(t,e):[s(t,e),"=",s(a,e)].join("")}}}(t=r({encode:!0,strict:!0,arrayFormat:"none"},t));return e?Object.keys(e).sort().map((function(n){var r=e[n];if(void 0===r)return"";if(null===r)return s(n,t);if(Array.isArray(r)){var o=[];return r.slice().forEach((function(e){void 0!==e&&o.push(a(n,e,o.length))})),o.join("&")}return s(n,t)+"="+s(r,t)})).filter((function(e){return e.length>0})).join("&"):""}},608:function(e,t,a){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},617:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a.n(n),s=a(28),o=a.n(s),i=a(29),c=a.n(i),l=a(30),u=a.n(l),d=a(31),p=a.n(d),m=a(32),f=a.n(m),h=a(1),y=a.n(h),g=a(0),S=a.n(g),v=a(36),b=a(33),E=a(359),k=a(501),I=a(502),F=a(520),C=a(522),P=a(521),w=a(214);var D={toggleErrorAlert:function(){return{type:w.a.OPEN_ERROR_ALERT}}},H=a(364),O=a(39),T=a.n(O),x=a(255),N=a(508),A=a(510),M=a(228),j=a(509),R=a(525),B=a.n(R),_=a(253),U=a(471),K=a(466),L=a(396),Y=a(463),G=a(462),V=a(461),z=a(460),$=a(390),q=a(464),J=a(2),W=a.n(J),Q=a(351),X=a(259),Z=a(543),ee=a(514),te=a(232),ae=a(540),ne=a(486),re=a(488),se=function(e){function t(e){var a;return o()(this,t),(a=u()(this,p()(t).call(this,e))).confirmModal=a.confirmModal.bind(T()(a)),a.cancelSelection=a.cancelSelection.bind(T()(a)),a.changeActiveTab=a.changeActiveTab.bind(T()(a)),a}return f()(t,e),c()(t,[{key:"componentDidMount",value:function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.awrap(window.insights.chrome.auth.getUser());case 2:case"end":return e.stop()}}))}},{key:"confirmModal",value:function(){var e=this.props,t=e.confirmModal,a=e.entities,n=e.selectedBaselineIds,r=e.toggleModal,s=e.selectedHSPIds;t(a.selectedSystemIds,n,s),r()}},{key:"cancelSelection",value:function(){this.props.toggleModal()}},{key:"selectedSystemIds",value:function(){var e=this.props.systems.map((function(e){return e.id}));return e||[]}},{key:"selectedBaselineIds",value:function(){var e=this.props.baselines.map((function(e){return e.id}));return e||[]}},{key:"changeActiveTab",value:function(e,t){(0,this.props.selectActiveTab)(t)}},{key:"render",value:function(){var e=this.props,t=e.activeTab,a=e.addSystemModalOpened;return y.a.createElement(y.a.Fragment,null,y.a.createElement(Q.a,{title:"Choose systems",isOpen:a,onClose:this.cancelSelection,width:"auto",isFooterLeftAligned:!0,actions:[y.a.createElement(X.a,{key:"confirm",variant:"primary",onClick:this.confirmModal},"Submit")]},y.a.createElement(Z.a,{activeKey:t,onSelect:this.changeActiveTab},y.a.createElement(ee.a,{eventKey:0,title:"Systems"},y.a.createElement(ae.a,{selectedSystemIds:this.selectedSystemIds()})),y.a.createElement(ee.a,{eventKey:1,title:"Baselines"},y.a.createElement(ne.a,{hasSelect:!0})))))}}]),t}(h.Component);se.propTypes={cookies:Object(g.instanceOf)(te.a).isRequired},se.propTypes={showModal:S.a.bool,addSystemModalOpened:S.a.bool,activeTab:S.a.number,confirmModal:S.a.func,cancelSelection:S.a.func,toggleModal:S.a.func,selectActiveTab:S.a.func,entities:S.a.object,systems:S.a.array,selectedBaselineIds:S.a.array,baselines:S.a.array,selectedHSPIds:S.a.array};var oe=Object(te.c)(Object(b.connect)((function(e){return{addSystemModalOpened:e.addSystemModalState.addSystemModalOpened,systems:e.compareState.systems,activeTab:e.addSystemModalState.activeTab,entities:e.entities,selectedBaselineIds:e.baselinesTableState.selectedBaselineIds,baselines:e.compareState.baselines,selectedHSPIds:e.historicProfilesState.selectedHSPIds}}),(function(e){return{toggleModal:function(){return e(re.a.toggleAddSystemModal())},selectActiveTab:function(t){return e(re.a.selectActiveTab(t))}}}))(se)),ie=function(e){function t(e){return o()(this,t),u()(this,p()(t).call(this,e))}return f()(t,e),c()(t,[{key:"render",value:function(){return y.a.createElement(X.a,{className:"add-system-button",variant:"primary",onClick:this.props.toggleAddSystemModal},this.props.isTable?"Add":"Add systems or baselines")}}]),t}(h.Component);ie.propTypes={toggleAddSystemModal:S.a.func,isTable:S.a.bool};var ce=Object(b.connect)(null,(function(e){return{toggleAddSystemModal:function(){return e(re.a.toggleAddSystemModal())}}}))(ie),le=a(394),ue=a(395),de=a(465),pe=function(e){function t(e){return o()(this,t),u()(this,p()(t).call(this,e))}return f()(t,e),c()(t,[{key:"icon",value:function(){return"SAME"===this.props.factState?y.a.createElement(le.b,{color:"green",height:"20px",width:"20px"}):"DIFFERENT"===this.props.factState?y.a.createElement(ue.b,{color:"red",height:"20px",width:"20px"}):y.a.createElement(de.b,{height:"20px",width:"20px"})}},{key:"render",value:function(){return this.icon()}}]),t}(h.Component);pe.propTypes={factState:S.a.string};var me=pe,fe=a(10);function he(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];e.push({search:"?"+B.a.stringify({system_ids:t,baseline_ids:a,hsp_ids:n})})}var ye=a(352),ge=a(353),Se=a(495),ve=a(467),be=a(503),Ee=a(231);var ke={selectHistoricProfile:function(e){return{type:Ee.a.SELECT_HISTORIC_PROFILE,payload:e}}},Ie=function(e){function t(e){var a;return o()(this,t),(a=u()(this,p()(t).call(this,e))).handleChange=function(){var e=a.state.checked,t=a.props,n=t.selectHistoricProfile,r=t.profile;a.setState({checked:!e}),n([r.id])},a.state={checked:a.props.selectedHSPIds.some((function(e){return e===a.props.profile.id}))},a}return f()(t,e),c()(t,[{key:"render",value:function(){var e=this.props.profile,t=this.state.checked;return y.a.createElement(y.a.Fragment,null,y.a.createElement(be.a,{label:W.a.utc(e.created).format("DD MMM YYYY, HH:mm UTC"),isChecked:t,onChange:this.handleChange,"aria-label":e.id,id:e.id,name:e.id}))}}]),t}(h.Component);Ie.propTypes={profile:S.a.object,selectHistoricProfile:S.a.func,selectedHSPIds:S.a.array};var Fe=Object(b.connect)((function(e){return{selectedHSPIds:e.historicProfilesState.selectedHSPIds}}),(function(e){return{selectHistoricProfile:function(t){return e(ke.selectHistoricProfile(t))}}}))(Ie),Ce=a(50),Pe=function(e){function t(e){var a;return o()(this,t),(a=u()(this,p()(t).call(this,e))).fetchHistoricalComparison=function(){var e=a.props,t=e.baselines,n=e.systems,r=e.selectedHSPIds,s=t.map((function(e){return e.id})),o=n.map((function(e){return e.id}));a.props.fetchCompare(o,s,r)},a}return f()(t,e),c()(t,[{key:"render",value:function(){return y.a.createElement(X.a,{style:{float:"left"},variant:"primary",onClick:this.fetchHistoricalComparison},"Compare")}}]),t}(h.Component);Pe.propTypes={fetchHistoricalComparison:S.a.func,baselines:S.a.array,systems:S.a.array,selectedHSPIds:S.a.array,fetchCompare:S.a.func,location:S.a.object,history:S.a.object};var we=Object(v.o)(Object(b.connect)((function(e){return{baselines:e.compareState.baselines,systems:e.compareState.systems,selectedHSPIds:e.historicProfilesState.selectedHSPIds}}),null)(Pe)),De=function(e){function t(e){var a;return o()(this,t),(a=u()(this,p()(t).call(this,e))).createDropdownArray=function(e){var t=a.props.fetchCompare,n=[];return e.profiles.forEach((function(e){n.push(y.a.createElement(ye.a,null,y.a.createElement(Fe,{profile:e})))})),n.push(y.a.createElement(we,{fetchCompare:t})),n},a.state={isOpen:!1,historicalData:a.renderLoadingRows()},a.onToggle=function(){var e=a.state.isOpen;!1===e&&a.fetchData(a.props.systemId),a.setState({isOpen:!e})},a}return f()(t,e),c()(t,[{key:"fetchData",value:function(e){var t;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.a.awrap(Ce.a.fetchHistoricalData(e));case 2:t=a.sent,this.setState({historicalData:this.createDropdownArray(t)});case 4:case"end":return a.stop()}}),null,this)}},{key:"renderLoadingRows",value:function(){for(var e=[],t=0;t<3;t+=1)e.push(y.a.createElement(E.Skeleton,{className:"pit-dropdown-loading pit-button",size:E.SkeletonSize.sm})),e.push(y.a.createElement("br",null));return e}},{key:"render",value:function(){var e=this.state,t=e.isOpen,a=e.historicalData;return y.a.createElement(y.a.Fragment,null,y.a.createElement(ge.a,{toggle:y.a.createElement(Se.a,{className:"historical-system-profile-dropdown",iconComponent:null,onToggle:this.onToggle},y.a.createElement(ve.b,null)),isOpen:t,isPlain:!0,dropdownItems:a}))}}]),t}(h.Component);De.propTypes={fetchHistoricalData:S.a.func,systemId:S.a.string,fetchCompare:S.a.func};var He=De,Oe=a(358),Te=function(e){function t(e){var a;return o()(this,t),(a=u()(this,p()(t).call(this,e))).removeSystem=function(e){var t=a.props,n=t.history,r=t.clearState,s=t.setSelectedBaselines,o=t.stateFilters,i=t.addStateFilter,c=t.hspIds,l=t.selectHistoricProfile,u=[];a.systemIds.forEach((function(t){t===e.id?c.forEach((function(t){t.display_name===e.display_name&&(a.HSPIds=a.HSPIds.filter((function(e){return e!==t.id})))})):u.push(t)})),a.systemIds=u,a.baselineIds=a.baselineIds.filter((function(t){return t!==e.id})),a.HSPIds=a.HSPIds.filter((function(t){return t!==e.id})),a.systemIds.length+a.baselineIds.length+a.HSPIds.length===1&&o.forEach((function(e){!1===e.selected&&i(e)})),a.systemIds.length>0||a.baselineIds.length>0||a.HSPIds.length>0?a.fetchCompare(a.systemIds,a.baselineIds,a.HSPIds):(he(n,[]),r()),l([e.id]),s(a.baselineIds)},a.setSystemIds(),a.setBaselineIds(),a.setHSPIds(),a.fetchCompare=a.fetchCompare.bind(T()(a)),a.removeSystem=a.removeSystem.bind(T()(a)),a.formatDate=a.formatDate.bind(T()(a)),a}return f()(t,e),c()(t,[{key:"componentDidMount",value:function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.awrap(window.insights.chrome.auth.getUser());case 2:(0,this.props.fetchCompare)(this.systemIds,this.baselineIds,this.HSPIds);case 4:case"end":return e.stop()}}),null,this)}},{key:"setSystemIds",value:function(){this.systemIds=B.a.parse(this.props.location.search).system_ids,this.systemIds=Array.isArray(this.systemIds)?this.systemIds:[this.systemIds],this.systemIds=this.systemIds.filter((function(e){return void 0!==e}))}},{key:"setBaselineIds",value:function(){this.baselineIds=B.a.parse(this.props.location.search).baseline_ids,this.baselineIds=Array.isArray(this.baselineIds)?this.baselineIds:[this.baselineIds],this.baselineIds=this.baselineIds.filter((function(e){return void 0!==e}))}},{key:"setHSPIds",value:function(){var e=this.props.selectHistoricProfile;this.HSPIds=B.a.parse(this.props.location.search).hsp_ids,this.HSPIds=Array.isArray(this.HSPIds)?this.HSPIds:[this.HSPIds],this.HSPIds=this.HSPIds.filter((function(e){return void 0!==e})),e(this.HSPIds)}},{key:"formatDate",value:function(e){return W.a.utc(e).format("DD MMM YYYY, HH:mm UTC")}},{key:"fetchCompare",value:function(e,t,a){this.systemIds=e,this.baselineIds=t,this.HSPIds=a,(e.length>0||t.length>0||a.length>0)&&(he(this.props.history,e,t,a),this.props.fetchCompare(e,t,a))}},{key:"renderRows",value:function(e,t,a,n){var r=[],s=[];if(void 0!==e)for(var o=0;o<e.length;o+=1)s=this.renderRowData(e[o],t,a,n),r.push(s);return r}},{key:"renderLoadingRows",value:function(){for(var e=[],t=[],a=0;a<3;a+=1)t.push(y.a.createElement("td",null,y.a.createElement(E.Skeleton,{size:E.SkeletonSize.md})));for(var n=0;n<10;n+=1)e.push(y.a.createElement("tr",null,t));return e}},{key:"findSystem",value:function(e,t){for(var a=[],n=function(n){var r=e.systems.find((function(e){return e.id===t[n].id}));a.push(y.a.createElement("td",{className:"DIFFERENT"===e.state?"highlight comparison-cell":"comparison-cell"},null===r.value?"No Data":r.value))},r=0;r<t.length;r+=1)n(r);return a}},{key:"renderRowData",value:function(e,t,a,n){var r=[],s=[],o=t.length+a.length+n.length;if(e.comparisons){r.push(y.a.createElement("td",{className:this.props.expandedRows.includes(e.name)?"nested-fact sticky-column fixed-column-1":"sticky-column fixed-column-1"},this.renderExpandableRowButton(this.props.expandedRows,e.name)," ",e.name)),r.push(y.a.createElement("td",{className:"fact-state sticky-column fixed-column-2"},y.a.createElement(me,{factState:e.state})));for(var i=0;i<o;i+=1)r.push(y.a.createElement("td",{className:"comparison-cell"}));if(s.push(y.a.createElement("tr",null,r)),this.props.expandedRows.includes(e.name))for(var c=0;c<e.comparisons.length;c++)r=this.renderRowChild(e.comparisons[c],t,a,n),s.push(y.a.createElement("tr",null,r))}else r.push(y.a.createElement("td",{className:"sticky-column fixed-column-1"},e.name)),r.push(y.a.createElement("td",{className:"fact-state sticky-column fixed-column-2"},y.a.createElement(me,{factState:e.state}))),r=(r=(r=r.concat(this.findSystem(e,a,"baselines"))).concat(this.findSystem(e,t,"systems"))).concat(this.findSystem(e,n,"system profiles")),s.push(y.a.createElement("tr",null,r));return s}},{key:"renderRowChild",value:function(e,t,a,n){var r=[];return r.push(y.a.createElement("td",{className:"nested-fact sticky-column fixed-column-1"},y.a.createElement("p",{className:"child-row"},e.name))),r.push(y.a.createElement("td",{className:"fact-state sticky-column fixed-column-2"},y.a.createElement(me,{factState:e.state}))),r=(r=(r=r.concat(this.findSystem(e,a,"baselines"))).concat(this.findSystem(e,t,"systems"))).concat(this.findSystem(e,n,"system profiles"))}},{key:"addSystems",value:function(e){for(var t=this,a=[],n="",r=function(r){n=e[r].type,a.push(y.a.createElement("th",{key:e[r].id,className:e[r].type+"-header drift-header"},y.a.createElement("div",null,y.a.createElement("a",{onClick:function(){return t.removeSystem(e[r])},className:"remove-system-icon"},y.a.createElement(_.b,null))),y.a.createElement("div",{className:"comparison-header"},y.a.createElement("div",null,"baseline"===n?y.a.createElement(U.b,null):y.a.createElement(K.b,null),y.a.createElement("span",{className:"system-name"},e[r].display_name)),y.a.createElement("div",{className:"system-updated"},!1===e[r].system_profile_exists?y.a.createElement(x.a,{position:"top",content:y.a.createElement("div",null,"System profile does not exist. Please run insights-client on system to upload archive.")},y.a.createElement(L.b,{color:"#f0ab00"})):"",e[r].last_updated?t.formatDate(e[r].last_updated):t.formatDate(e[r].updated),insights.chrome.isBeta()&&"system"===e[r].type?y.a.createElement(He,{systemId:e[r].id,fetchCompare:t.fetchCompare}):null))))},s=0;s<e.length;s++)r(s);return a}},{key:"renderSystems",value:function(e,t,a){var n,r=[],s=[],o=[];if(0===e.length&&0===t.length&&0===a.length)return s;var i=e.map((function(e){return e.type="system",e})),c=t.map((function(e){return e.type="baseline",e})),l=a.map((function(e){return e.type="historical-system-profile",e}));return i.forEach((function(e){o.push(e),l.forEach((function(t){t.display_name===e.display_name&&o.push(t)}))})),r=this.addSystems(c),n=this.addSystems(o),s=r.concat(n)}},{key:"renderSortButton",value:function(e,t){var a=this;return t===fe.a?y.a.createElement(Y.b,{className:"pointer active-blue",onClick:function(){return a.toggleSort(e,t)}}):t===fe.c?y.a.createElement(G.b,{className:"pointer active-blue",onClick:function(){return a.toggleSort(e,t)}}):y.a.createElement(V.b,{className:"pointer not-active",onClick:function(){return a.toggleSort(e,t)}})}},{key:"toggleSort",value:function(e,t){"fact"===e?this.props.toggleFactSort(t):this.props.toggleStateSort(t)}},{key:"renderHeaderRow",value:function(e,t,a){var n=this.props.stateSort;return y.a.createElement("tr",{className:"sticky-column-header"},y.a.createElement("th",{className:"fact-header sticky-column fixed-column-1",key:"fact-header"},y.a.createElement("div",{className:"active-blue"},"Fact ",this.renderSortButton("fact",this.props.factSort))),y.a.createElement("th",{className:"state-header sticky-column fixed-column-2",key:"state-header"},""!==n?y.a.createElement("div",{className:"active-blue"},"State ",this.renderSortButton("state",this.props.stateSort)):y.a.createElement("div",null,"State ",this.renderSortButton("state",this.props.stateSort))),this.renderSystems(e,t,a))}},{key:"renderExpandableRowButton",value:function(e,t){var a=this;return e.includes(t)?y.a.createElement(z.b,{className:"pointer active-blue",onClick:function(){return a.props.expandRow(t)}}):y.a.createElement($.b,{className:"pointer",onClick:function(){return a.props.expandRow(t)}})}},{key:"renderEmptyState",value:function(){return y.a.createElement("center",null,y.a.createElement(N.a,null,y.a.createElement(A.a,{icon:q.b}),y.a.createElement("br",null),y.a.createElement(M.a,{size:"lg"},"Add systems or baselines to compare"),y.a.createElement(j.a,null,"You currently have no systems or baselines displayed. Add at least two",y.a.createElement("br",null),"systems or baselines to compare their facts."),y.a.createElement(ce,{isTable:!1})))}},{key:"renderTable",value:function(e,t,a,n,r){return y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{className:"drift-table-wrapper"},y.a.createElement("table",{className:"pf-c-table pf-m-compact drift-table"},y.a.createElement("thead",null,this.renderHeaderRow(t,a,n,r)),y.a.createElement("tbody",null,r?this.renderLoadingRows():this.renderRows(e,t,a,n)))))}},{key:"render",value:function(){var e=this.props,t=e.fullCompareData,a=e.filteredCompareData,n=e.systems,r=e.baselines,s=e.hspIds,o=e.loading;return y.a.createElement(y.a.Fragment,null,y.a.createElement(oe,{selectedSystemIds:n.map((function(e){return e.id})),confirmModal:this.fetchCompare}),n.length>0||r.length>0||s.length>0||o||0!==t.length&&0!==this.systemIds.length?this.renderTable(a,n,r,s,o):this.renderEmptyState())}}]),t}(h.Component);Te.propTypes={location:S.a.object,history:S.a.object,fetchCompare:S.a.func,clearState:S.a.func,fullCompareData:S.a.array,filteredCompareData:S.a.array,systems:S.a.array,baselines:S.a.array,hspIds:S.a.array,addSystemModalOpened:S.a.bool,stateFilters:S.a.array,factFilter:S.a.string,factSort:S.a.string,stateSort:S.a.string,loading:S.a.bool,toggleFactSort:S.a.func,toggleStateSort:S.a.func,expandRow:S.a.func,expandRows:S.a.func,expandedRows:S.a.array,setSelectedBaselines:S.a.func,addStateFilter:S.a.func,selectHistoricProfile:S.a.func,selectedHSPIds:S.a.array};var xe=Object(v.o)(Object(b.connect)((function(e){return{fullCompareData:e.compareState.fullCompareData,filteredCompareData:e.compareState.filteredCompareData,addSystemModalOpened:e.addSystemModalOpened,stateFilters:e.compareState.stateFilters,factFilter:e.compareState.factFilter,loading:e.compareState.loading,systems:e.compareState.systems,baselines:e.compareState.baselines,hspIds:e.compareState.hspIds,factSort:e.compareState.factSort,stateSort:e.compareState.stateSort,expandedRows:e.compareState.expandedRows,selectedHSPIds:e.historicProfilesState.selectedHSPIds}}),(function(e){return{fetchCompare:function(t,a,n){return e(Oe.a.fetchCompare(t,a,n))},toggleFactSort:function(t){return e(Oe.a.toggleFactSort(t))},toggleStateSort:function(t){return e(Oe.a.toggleStateSort(t))},expandRow:function(t){return e(Oe.a.expandRow(t))},clearState:function(){return e(Oe.a.clearState())},setSelectedBaselines:function(t){return e(H.a.setSelectedBaselines(t))},addStateFilter:function(t){return e(Oe.a.addStateFilter(t))},selectHistoricProfile:function(t){return e(ke.selectHistoricProfile(t))}}}))(Te)),Ne=a(215);var Ae={toggleFilterDropDown:function(){return{type:Ne.a.OPEN_FILTER_DROPDOWN}}},Me=function(e){function t(e){var a;return o()(this,t),(a=u()(this,p()(t).call(this,e))).onToggle=a.onToggle.bind(T()(a)),a.createDropdownItem=a.createDropdownItem.bind(T()(a)),a}return f()(t,e),c()(t,[{key:"onToggle",value:function(){this.props.toggleDropDown()}},{key:"createDropdownItem",value:function(e){var t=this;return y.a.createElement(be.a,{className:"state-filter-checkbox",id:e.display,label:e.display,isChecked:e.selected,onChange:function(){return t.props.addStateFilter(e)}})}},{key:"createDropdownArray",value:function(e){var t=[];return e.forEach(function(e){var a=this.createDropdownItem(e);t.push(a)}.bind(this)),t}},{key:"createSelectedViewsString",value:function(e){for(var t=[],a="",n=0;n<e.length;n++)e[n].selected&&t.push(e[n].display);for(var r=0;r<t.length;r++)a+=t[r],r+1<t.length&&(a+=", ");return a}},{key:"render",value:function(){var e,t,a=this.props.stateFilters;return e=this.createDropdownArray(a),t=this.createSelectedViewsString(a),y.a.createElement(y.a.Fragment,null,y.a.createElement(ge.a,{className:"state-filter-dropdown",onSelect:this.onToggle,toggle:y.a.createElement(Se.a,{onToggle:this.onToggle},"View: ",t),isOpen:this.props.filterDropdownOpened,dropdownItems:e}))}}]),t}(h.Component);Me.propTypes={toggleDropDown:S.a.func,filterDropdownOpened:S.a.bool,stateFilters:S.a.array,addStateFilter:S.a.func};var je=Object(b.connect)((function(e){return{filterDropdownOpened:e.filterDropdownOpened,stateFilters:e.compareState.stateFilters}}),(function(e){return{toggleDropDown:function(){return e(Ae.toggleFilterDropDown())},addStateFilter:function(t){return e(Oe.a.addStateFilter(t))}}}))(Me),Re=a(532),Be=a.n(Re),_e=a(506),Ue=function(e){function t(e){var a;return o()(this,t),(a=u()(this,p()(t).call(this,e))).updateFactFilter=function(e){a.setState({filter:e}),a.setFactFilter(e)},a.setFactFilter=Be()((function(e){this.props.changeFactFilter(e)}),250),a.state={filter:a.props.factFilter},a.setFactFilter=a.setFactFilter.bind(T()(a)),a}return f()(t,e),c()(t,[{key:"componentDidUpdate",value:function(e){""!==e.factFilter&&""===this.props.factFilter&&this.setState({filter:this.props.factFilter})}},{key:"render",value:function(){return y.a.createElement(y.a.Fragment,null,y.a.createElement(_e.a,{value:this.state.filter,id:"filterByFact",placeholder:"Filter by fact",onChange:this.updateFactFilter,"aria-label":"filter by fact"}))}}]),t}(h.Component);Ue.propTypes={changeFactFilter:S.a.func,factFilter:S.a.string};var Ke=Object(b.connect)((function(e){return{factFilter:e.compareState.factFilter}}),(function(e){return{changeFactFilter:function(t){return e(Oe.a.filterByFact(t))}}}))(Ue),Le=a(216);var Ye={toggleKebab:function(){return{type:Le.a.TOGGLE_KEBAB}}},Ge=a(354),Ve=function(e){function t(e){var a;return o()(this,t),(a=u()(this,p()(t).call(this,e))).removeSystemsSelect=a.removeSystemsSelect.bind(T()(a)),a}return f()(t,e),c()(t,[{key:"removeSystemsSelect",value:function(){var e=this.props,t=e.history,a=e.toggleKebab,n=e.removeSystems,r=e.clearSelectedBaselines,s=e.selectHistoricProfile,o=e.selectedHSPIds;a(),n(),r(),s(o),he(t,[])}},{key:"render",value:function(){var e=[y.a.createElement(ye.a,{key:"remove-systems",component:"button",onClick:this.removeSystemsSelect},"Clear all comparisons")];return y.a.createElement(ge.a,{id:"action-kebab","aria-label":"action-kebab",style:{float:"left"},toggle:y.a.createElement(Ge.a,{onToggle:this.props.toggleKebab}),isOpen:this.props.kebabOpened,dropdownItems:e,isPlain:!0})}}]),t}(h.Component);Ve.propTypes={removeSystems:S.a.func,clearSelectedBaselines:S.a.func,toggleKebab:S.a.func,kebabOpened:S.a.bool,history:S.a.object,selectedHSPIds:S.a.array,selectHistoricProfile:S.a.func};var ze=Object(v.o)(Object(b.connect)((function(e){return{kebabOpened:e.kebabOpened,selectedHSPIds:e.historicProfilesState.selectedHSPIds}}),(function(e){return{removeSystems:function(){return e(Oe.a.clearState())},clearSelectedBaselines:function(){return e(H.a.clearSelectedBaselines())},toggleKebab:function(){return e(Ye.toggleKebab())},selectHistoricProfile:function(t){return e(ke.selectHistoricProfile(t))}}}))(Ve)),$e=a(544),qe=a(494),Je=function(e){function t(e){var a;return o()(this,t),(a=u()(this,p()(t).call(this,e))).confirmModal=a.confirmModal.bind(T()(a)),a}return f()(t,e),c()(t,[{key:"confirmModal",value:function(){var e=this.props,t=e.toggleModal,a=e.revertCompareData,n=e.history,r=e.previousStateSystems;t(),a(),he(n,r.map((function(e){return e.id})))}},{key:"render",value:function(){var e=this,t=this.props.errorAlertOpened;return y.a.createElement(y.a.Fragment,null,t&&y.a.createElement($e.a,{variant:"danger",title:"Error",action:y.a.createElement(qe.a,{onClose:function(){return e.confirmModal()}})},"Status Code: ",this.props.error.status,y.a.createElement("br",null),this.props.error.detail))}}]),t}(h.Component);Je.propTypes={confirmModal:S.a.func,errorAlertOpened:S.a.bool,error:S.a.object,status:S.a.number,detail:S.a.string,toggleModal:S.a.func,history:S.a.object,clearState:S.a.func,fullCompareData:S.a.array,revertCompareData:S.a.func,previousStateSystems:S.a.array};var We=Object(v.o)(Object(b.connect)((function(e){return{fullCompareData:e.compareState.fullCompareData,previousStateSystems:e.compareState.previousStateSystems,errorAlertOpened:e.errorAlertOpened,error:e.compareState.error}}),(function(e){return{toggleModal:function(){return e(D.toggleErrorAlert())},revertCompareData:function(){return e(Oe.a.revertCompareData())}}}))(Je)),Qe=a(537),Xe=a(6),Ze=[{title:"10",value:10},{title:"25",value:25},{title:"50",value:50},{title:"100",value:100}],et=function(e){function t(e){var a;return o()(this,t),(a=u()(this,p()(t).call(this,e))).onSetPage=a.onSetPage.bind(T()(a)),a.onPerPageSelect=a.onPerPageSelect.bind(T()(a)),a}return f()(t,e),c()(t,[{key:"onSetPage",value:function(e,t){var a={page:t,perPage:this.props.perPage};this.props.updatePagination(a)}},{key:"onPerPageSelect",value:function(e,t){var a={page:1,perPage:t};this.props.updatePagination(a)}},{key:"render",value:function(){var e=this.props,t=e.totalFacts,a=e.page,n=e.perPage;return y.a.createElement(Qe.a,{itemCount:t||0,perPageOptions:Ze,page:0===t?0:a,perPage:n,dropDirection:Xe.c.down,onSetPage:this.onSetPage,onPerPageSelect:this.onPerPageSelect})}}]),t}(h.Component);et.propTypes={perPage:S.a.number,page:S.a.number,updatePagination:S.a.func,totalFacts:S.a.number};var tt=Object(b.connect)((function(e){return{page:e.compareState.page,perPage:e.compareState.perPage,totalFacts:e.compareState.totalFacts}}),(function(e){return{updatePagination:function(t){return e(Oe.a.updatePagination(t))}}}))(et),at=a(469),nt=function(e){function t(e){return o()(this,t),u()(this,p()(t).call(this,e))}return f()(t,e),c()(t,[{key:"render",value:function(){var e=this.props.exportToCSV;return y.a.createElement(at.b,{className:"pointer not-active export-button-margin",onClick:e})}}]),t}(h.Component);nt.propTypes={exportToCSV:S.a.func};var rt=Object(b.connect)(null,(function(e){return{exportToCSV:function(){return e(Oe.a.exportToCSV())}}}))(nt),st=a(411),ot=a(505),it=a(489),ct=function(e){function t(e){var a;return o()(this,t),(a=u()(this,p()(t).call(this,e))).setStateChips=function(e){var t=[];return e.forEach((function(e){e.selected&&t.push(e.display)})),t},a.removeChip=function(e){var t=a.props,n=t.stateFilters,r=t.addStateFilter,s=t.filterByFact;"Same"===e||"Different"===e||"Incomplete data"===e?n.forEach((function(t){t.display===e&&r(t)})):s("")},a.state={chipGroup:[{category:"State",chips:a.setStateChips(a.props.stateFilters)},{category:"Name",chips:""!==a.props.factFilter?[a.props.factFilter]:[]}]},a}return f()(t,e),c()(t,[{key:"componentDidUpdate",value:function(e){var t,a,n=this.props,r=n.stateFilters,s=n.factFilter;if(r!==e.stateFilters){var o=[];r.forEach((function(e){e.selected&&o.push(e.display)})),a=[{category:"State",chips:o},this.state.chipGroup[1]],this.setState({chipGroup:a})}s!==e.factFilter&&(t={category:"Name",chips:""!==s?[s]:[]},a=[this.state.chipGroup[0],t],this.setState({chipGroup:a}))}},{key:"render",value:function(){var e=this,t=this.state.chipGroup,a=0;return y.a.createElement(st.a,{withToolbar:!0},t.map((function(t){return y.a.createElement(ot.a,{key:t.category,categoryName:t.category},t.chips.map((function(n){return y.a.createElement(it.a,{key:t.category+a++,onClick:function(){return e.removeChip(n)}},n)})))})))}}]),t}(h.Component);ct.propTypes={factFilter:S.a.string,stateFilters:S.a.array,filterByFact:S.a.func,addStateFilter:S.a.func};var lt=Object(b.connect)((function(e){return{factFilter:e.compareState.factFilter,stateFilters:e.compareState.stateFilters}}),(function(e){return{filterByFact:function(t){return e(Oe.a.filterByFact(t))},addStateFilter:function(t){return e(Oe.a.addStateFilter(t))}}}))(ct);a.d(t,"DriftPage",(function(){return ut}));var ut=function(e){function t(e){var a;return o()(this,t),(a=u()(this,p()(t).call(this,e))).props.clearSelectedBaselines(),a}return f()(t,e),c()(t,[{key:"componentDidMount",value:function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.awrap(window.insights.chrome.auth.getUser());case 2:case"end":return e.stop()}}))}},{key:"render",value:function(){var e=this.props,t=e.systems,a=e.baselines,n=e.loading;return this.props.error.detail&&this.props.toggleErrorAlert(),y.a.createElement(y.a.Fragment,null,y.a.createElement(E.PageHeader,null,y.a.createElement(E.PageHeaderTitle,{title:"System Comparison"})),y.a.createElement(E.Main,null,y.a.createElement(We,null),y.a.createElement(k.a,{className:"pf-t-light pf-m-opaque-100"},y.a.createElement(I.a,null,y.a.createElement("div",null,(t.length>0||a.length>0)&&!n?y.a.createElement(y.a.Fragment,null,y.a.createElement(F.a,{className:"drift-toolbar"},y.a.createElement(C.a,null,y.a.createElement(P.a,null,y.a.createElement(Ke,null)),y.a.createElement(P.a,null,y.a.createElement(je,null)),y.a.createElement(P.a,null,y.a.createElement(ce,null)),y.a.createElement(P.a,null,y.a.createElement(rt,null)),y.a.createElement(P.a,null,y.a.createElement(ze,null))),y.a.createElement(C.a,{className:"pf-c-pagination"},y.a.createElement(P.a,null,y.a.createElement(tt,null)))),y.a.createElement(F.a,{className:"drift-toolbar"},y.a.createElement(C.a,null,y.a.createElement(P.a,null,y.a.createElement(lt,null))))):null,y.a.createElement(xe,null),t.length>0&&!n?y.a.createElement(F.a,{className:"drift-toolbar"},y.a.createElement(C.a,{className:"pf-c-pagination"},y.a.createElement(P.a,null,y.a.createElement(tt,null)))):null)))))}}]),t}(h.Component);ut.propTypes={error:S.a.object,loading:S.a.bool,systems:S.a.array,baselines:S.a.array,toggleErrorAlert:S.a.func,clearSelectedBaselines:S.a.func};t.default=Object(v.o)(Object(b.connect)((function(e){return{error:e.compareState.error,loading:e.compareState.loading,systems:e.compareState.systems,baselines:e.compareState.baselines}}),(function(e){return{toggleErrorAlert:function(){return e(D.toggleErrorAlert())},clearSelectedBaselines:function(){return e(H.a.clearSelectedBaselines())}}}))(ut))}}]);
//# sourceMappingURL=../sourcemaps/4.js.map