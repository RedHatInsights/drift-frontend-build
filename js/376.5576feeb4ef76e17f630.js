(self.webpackChunkdrift_frontend=self.webpackChunkdrift_frontend||[]).push([[376],{44953:(e,t,n)=>{"use strict";n.d(t,{x:()=>r});var a=n(92442);const r={toggleAddSystemModal:function(){return{type:a.Z.OPEN_ADD_SYSTEM_MODAL}},selectActiveTab:function(e){return{type:a.Z.SELECT_ACTIVE_TAB,payload:e}}}},19865:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var a=n(34575),r=n.n(a),o=n(93913),l=n.n(o),i=n(2205),s=n.n(i),c=n(78585),u=n.n(c),d=n(29754),p=n.n(d),f=n(25558),h=n.n(f),b=n(45697),m=n.n(b),g=n(70983),y=n(47194),v=n(87473),S=n(87276),P=n(44953);var E=function(e){s()(o,e);var t,n,a=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=p()(t);if(n){var r=p()(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return u()(this,e)});function o(e){var t;return r()(this,o),(t=a.call(this,e)).createBaseline=function(){var e=t.props,n=e.history,a=e.toggleCreateBaselineModal,r=e.addSystemModalOpened,o=e.toggleAddSystemModal;"/"===n.location.pathname&&(!0===r&&o(),n.push({pathname:"baselines"})),a()},t}return l()(o,[{key:"render",value:function(){var e=this.props,t=e.emptyState,n=e.hasWritePermissions,a=e.loading;return h().createElement(h().Fragment,null,n||void 0===n?h().createElement(v.Button,{id:"create-baseline-button",variant:"primary",onClick:this.createBaseline,ouiaId:"create-baseline-button",isDisabled:a},"Create baseline"):h().createElement(v.Tooltip,{content:h().createElement("div",null,"You do not have permissions to perform this action")},h().createElement("div",{className:t?"tooltip-button-margin":null},h().createElement(v.Button,{id:"create-baseline-button",variant:"primary",onClick:this.createBaseline,isDisabled:!0,ouiaId:"create-baseline-button"},"Create baseline"))))}}]),o}(f.Component);E.propTypes={toggleCreateBaselineModal:m().func,toggleAddSystemModal:m().func,history:m().object,addSystemModalOpened:m().bool,loading:m().bool,hasWritePermissions:m().bool,emptyState:m().bool};const I=(0,y.withRouter)((0,g.connect)((function(e){return{addSystemModalOpened:e.addSystemModalState.addSystemModalOpened}}),(function(e){return{toggleCreateBaselineModal:function(){return e(S.Z.toggleCreateBaselineModal())},toggleAddSystemModal:function(){return e(P.x.toggleAddSystemModal())}}}))(E))},87276:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(46170),r=n(49787);const o={toggleCreateBaselineModal:function(){return{type:a.Z.TOGGLE_CREATE_BASELINE_MODAL}},createBaseline:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return{type:a.Z.CREATE_BASELINE,payload:r.Z.postNewBaseline(e,t)}}}},83076:(e,t,n)=>{"use strict";n.d(t,{Z:()=>q});var a=n(87757),r=n.n(a),o=n(48926),l=n.n(o),i=n(59713),s=n.n(i),c=n(34575),u=n.n(c),d=n(93913),p=n.n(d),f=n(2205),h=n.n(f),b=n(78585),m=n.n(b),g=n(29754),y=n.n(g),v=n(25558),S=n.n(v),P=n(45697),E=n.n(P),I=n(70983),k=n(73540),B=n(35115),w=n(87473),T=n(93),O=n(81506),C=n.n(O),D=n(47194),R=n(53847);var x=function(e){h()(i,e);var t,n,a,o=(n=i,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y()(n);if(a){var r=y()(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return m()(this,e)});function i(e){var t;return u()(this,i),(t=o.call(this,e)).deleteBaselines=t.deleteBaselines.bind(C()(t)),t}return p()(i,[{key:"deleteBaselines",value:(t=l()(r().mark((function e(){var t,n,a,o,l,i,s,c,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.clearSelectedBaselines,a=t.deleteSelectedBaselines,o=t.selectedBaselineIds,l=t.fetchWithParams,i=t.baselineId,s=t.tableId,c=t.toggleModal,u=i?{baseline_ids:[i]}:{baseline_ids:o},c(),e.prev=3,e.next=6,a(u,s);case 6:n(s),l(),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,this,[[3,10]])}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.props,t=e.baselineId,n=e.modalOpened,a=e.selectedBaselineIds,r=e.toggleModal,o=t||1===a.length?"Delete baseline":"Delete baselines";return S().createElement(w.Modal,{className:"drift",variant:w.ModalVariant.small,title:o,isOpen:n,onClose:r,actions:[S().createElement(w.Button,{key:"confirm",variant:"danger",onClick:this.deleteBaselines,ouiaId:"delete"},o),S().createElement(w.Button,{key:"cancel",variant:"link",onClick:r,ouiaId:"cancel"},"Cancel")]},"Deleting a baseline is permanent and cannot be undone.")}}]),i}(v.Component);x.propTypes={modalOpened:E().bool,clearSelectedBaselines:E().func,selectedBaselineIds:E().array,deleteSelectedBaselines:E().func,fetchWithParams:E().func,baselineId:E().string,tableId:E().string,toggleModal:E().func,revertBaselineFetch:E().func};const F=(0,I.connect)((function(e){return{selectedBaselineIds:e.baselinesTableState.checkboxTable.selectedBaselineIds}}),(function(e){return{deleteSelectedBaselines:function(t,n){return e(R.w.deleteSelectedBaselines(t,n))},clearSelectedBaselines:function(t){return e(R.w.clearSelectedBaselines(t))},revertBaselineFetch:function(t){return e(R.w.revertBaselineFetch(t))}}}))(x);var M=function(e){h()(r,e);var t,n,a=(t=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=y()(t);if(n){var r=y()(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return m()(this,e)});function r(e){var t;return u()(this,r),(t=a.call(this,e)).fetchBaseline=function(){var e=t.props,n=e.baselineRowData;e.history.push("baselines/"+n[0])},t.state={isOpen:!1,modalOpened:!1},t.onKebabToggle=t.onKebabToggle.bind(C()(t)),t.toggleModal=function(){var e=t.state.modalOpened;t.setState({modalOpened:!e})},t}return p()(r,[{key:"onKebabToggle",value:function(e){this.setState({isOpen:e})}},{key:"render",value:function(){var e=this,t=this.state,n=t.isOpen,a=t.modalOpened,r=this.props,o=r.baselineRowData,l=r.fetchWithParams,i=r.tableId,s=r.baselineName,c=[S().createElement(w.DropdownItem,{key:"edit","data-ouia-component-id":"edit-baseline-dropdown-item-"+s,component:"button",onClick:this.fetchBaseline},"Edit"),S().createElement(w.DropdownItem,{key:"delete","data-ouia-component-id":"delete-baseline-dropdown-item-"+s,component:"button",onClick:this.toggleModal},"Delete")];return S().createElement(S().Fragment,null,a?S().createElement(F,{modalOpened:a,baselineId:o[0],tableId:i,fetchWithParams:l,toggleModal:this.toggleModal}):null,S().createElement(w.Dropdown,{style:{float:"right"},className:"baseline-table-kebab",ouiaId:"baseline-kebab-dropdown-"+s,toggle:S().createElement(w.KebabToggle,{"data-ouia-component-id":"baseline-kebab-dropdown-toggle-"+s,"data-ouia-component-type":"PF4/DropdownToggle",onToggle:function(t){return e.onKebabToggle(t)}}),isOpen:n,dropdownItems:c,isPlain:!0}))}}]),r}(v.Component);M.propTypes={baselineRowData:E().array,history:E().object,tableId:E().string,fetchWithParams:E().func,baselineName:E().string};const j=(0,D.withRouter)(M);var A=n(97429),W=n(23279),Z=n.n(W),_=n(19865),N=n(92650),V=n(98904),H=n(68185),L=n(12662);var K=function(e){h()(i,e);var t,n,a,o=(n=i,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y()(n);if(a){var r=y()(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return m()(this,e)});function i(e){var t;return u()(this,i),(t=o.call(this,e)).onToggle=function(){var e=t.state.dropdownOpen;t.setState({dropdownOpen:!e})},t.buildDropdownList=function(){var e=t.props.isDeleteDisabled,n=[];return n.push(S().createElement(w.DropdownItem,{key:"multi-delete","data-ouia-component-id":"delete-baselines-dropdown-item",component:"button",onClick:t.toggleModal,isDisabled:e},"Delete baselines")),n},t.toggleModal=function(){var e=t.state.modalOpened;t.setState({modalOpened:!e})},t.setTextFilter=function(e){t.setState({nameSearch:e}),t.handleSearch(e)},t.clearTextFilter=function(){t.setState({nameSearch:""}),t.handleSearch("")},t.handleSearch=Z()((function(e){this.props.onSearch(e)}),250),t.state={nameSearch:"",modalOpened:!1,bulkSelectItems:[{title:"Select all",key:"select-all",ouiaId:"select-all",onClick:function(){return t.props.onBulkSelect(!0)}},{title:"Select none",key:"select-none",ouiaId:"select-none",onClick:function(){return t.props.onBulkSelect(!1)}}],dropdownOpen:!1,dropdownItems:[S().createElement(w.DropdownItem,{key:"export-to-CSV",component:"button","data-ouia-component-id":"export-to-csv-dropdown-item-baselines",onClick:function(){return t.props.exportToCSV(t.props.tableData)}},"Export to CSV")]},t.handleSearch=t.handleSearch.bind(C()(t)),t.clearFilters=t.clearFilters.bind(C()(t)),t}return p()(i,[{key:"clearFilters",value:(t=l()(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.onSearch,this.setState({nameSearch:""}),t("");case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.props,n=t.createButton,a=t.exportButton,r=t.fetchWithParams,o=t.hasMultiSelect,l=t.hasReadPermissions,i=t.hasWritePermissions,s=t.kebab,c=t.loading,u=t.onBulkSelect,d=t.tableData,p=t.tableId,f=t.page,h=t.perPage,b=t.totalBaselines,m=t.updatePagination,g=this.state,y=g.bulkSelectItems,v=g.dropdownItems,P=g.dropdownOpen,E=g.modalOpened,I=g.nameSearch,k=d.filter((function(e){return!0===e.selected})).length;return S().createElement(S().Fragment,null,S().createElement(F,{modalOpened:E,tableId:p,fetchWithParams:r,toggleModal:this.toggleModal}),S().createElement(w.Toolbar,{className:"drift-toolbar",clearAllFilters:this.clearFilters},S().createElement(w.ToolbarContent,null,o?S().createElement(w.ToolbarGroup,{variant:"filter-group"},S().createElement(w.ToolbarItem,null,S().createElement(B.BulkSelect,{count:k>0?k:null,items:y,checked:H.Z.findCheckedValue(d.length,k),onSelect:function(){return u(!k>0)},isDisabled:0===d.length||!i&&s||!l&&!n}))):null,S().createElement(w.ToolbarGroup,{variant:"filter-group"},S().createElement(w.ToolbarFilter,{chips:""!==I?[I]:[],deleteChip:this.clearFilters,categoryName:"Baseline name"},S().createElement(B.ConditionalFilter,{placeholder:"Filter by name",value:I,"data-ouia-component-type":"PF4/TextInput","data-ouia-component-id":"filter-by-name-baselines-table",onChange:function(t,n){return e.setTextFilter(n)},isDisabled:!l||!i}))),S().createElement(w.ToolbarGroup,{variant:"button-group"},n?S().createElement(w.ToolbarItem,null,S().createElement(_.Z,{loading:c,hasWritePermissions:i})):null),S().createElement(w.ToolbarGroup,{variant:"icon-button-group"},a?S().createElement(w.ToolbarItem,null,S().createElement(N.Z,{dropdownItems:v,ouiaId:"export-dropdown-baselines",isOpen:P,onToggle:this.onToggle})):null,s?S().createElement(w.ToolbarItem,null,S().createElement(V.Z,{ouiaId:"delete-baselines-dropdown",dropdownItems:this.buildDropdownList()})):null),S().createElement(w.ToolbarItem,{variant:"pagination"},S().createElement(L.v,{page:f,perPage:h,total:l?b:0,isCompact:!0,updatePagination:m,tableId:p})))))}}]),i}(v.Component);K.propTypes={createButton:E().bool,exportButton:E().bool,kebab:E().bool,fetchWithParams:E().func,onSearch:E().func,tableId:E().string,tableData:E().array,onBulkSelect:E().func,hasMultiSelect:E().bool,clearSort:E().func,selectedBaselineIds:E().array,isDeleteDisabled:E().bool,page:E().number,perPage:E().number,totalBaselines:E().number,updatePagination:E().func,exportToCSV:E().func,loading:E().bool,hasWritePermissions:E().bool,hasReadPermissions:E().bool};const Y=K;var G=n(86758);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X=function(e){h()(i,e);var t,n,a,o=(n=i,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y()(n);if(a){var r=y()(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return m()(this,e)});function i(e){var t;return u()(this,i),(t=o.call(this,e)).fetchWithParams=function(e){var n=t.props,a=n.tableId,r=n.fetchBaselines;e=U(U({},t.state),e),A.Z.fetchBaselines(a,r,e)},t.onSearch=function(e){var n=t.state,a=n.orderBy,r=n.orderHow,o=e;t.setState({search:e}),t.fetchWithParams({orderBy:a,orderHow:r,search:o})},t.onSort=function(e,n,a){var r=t.state.search,o=t.props.hasWritePermissions,l="";0===n?l="display_name":1===n?l=o?"display_name":"updated":2===n&&(l="updated"),t.setState({sortBy:{index:n,direction:a},orderHow:a.toUpperCase(),orderBy:l}),t.fetchWithParams({orderBy:l,orderHow:a.toUpperCase(),search:r})},t.updatePagination=function(e){t.setState({page:e.page,perPage:e.perPage}),t.fetchWithParams({page:e.page,perPage:e.perPage})},t.state={sortBy:{index:1,direction:"asc"},search:void 0,orderBy:"display_name",orderHow:"ASC",page:1,perPage:20,emptyStateMessage:["This filter criteria matches no baselines.","Try changing your filter settings."]},t}return p()(i,[{key:"componentDidMount",value:(t=l()(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.insights.chrome.auth.getUser();case 2:this.fetchWithParams();case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"renderRows",value:function(e){var t=this,n=this.props,a=n.tableData,r=n.kebab,o=n.onClick,l=n.tableId,i=[];return a.forEach((function(n){var a=[];if(o){var s=S().createElement("div",null,S().createElement("a",{className:"pointer active-blue","data-ouia-component-type":"PF4/Button","data-ouia-component-id":"baseline-details-"+n[1],onClick:function(){return o(n[0])}},n[1]));a.push(s)}else a.push(n[1]);if(a.push(n[2]),r&&e){var c=S().createElement(j,{tableId:l,fetchWithParams:t.fetchWithParams,baselineName:n[1]});a.push(S().createElement("div",null,c))}n.selected&&(a.selected=!0),i.push(a)})),i}},{key:"renderTable",value:function(e,t){var n,a=this.props,r=a.columns,o=a.createButton,l=a.hasMultiSelect,i=a.kebab,s=a.loading,c=a.onSelect,u=a.tableData,d=a.tableId,p=this.state.emptyStateMessage,f=[];if(s)s&&(n=S().createElement(B.SkeletonTable,{columns:r,rowSize:8,onSelect:!0,hasRadio:!l,canSelectAll:!1,isSelectable:!0}));else if(0===u.length){var h=S().createElement(B.EmptyTable,null,S().createElement(G.Z,{title:"No matching baselines found",text:p}));f.push({cells:[{title:h,props:{colSpan:r.length}}]}),n=S().createElement(k.Table,{"aria-label":"Baselines Table","data-ouia-component-id":"baselines-table",cells:r,rows:f,canSelectAll:!1},S().createElement(k.TableHeader,null),S().createElement(k.TableBody,null))}else{if(!t&&!o)return S().createElement(G.Z,{icon:T.LockIcon,color:"#6a6e73",title:"You do not have access to Baselines",text:["Contact your organization administrator(s) for more information."]});f=this.renderRows(e),n=S().createElement(k.Table,{"aria-label":"Baselines Table","data-ouia-component-id":"baselines-table",onSort:this.onSort,onSelect:!(!e&&("CHECKBOX"!==d||i))&&c,sortBy:this.state.sortBy,cells:r,rows:f,canSelectAll:!1,selectVariant:l?k.RowSelectVariant.checkbox:k.RowSelectVariant.radio},S().createElement(k.TableHeader,null),S().createElement(k.TableBody,null))}return n}},{key:"render",value:function(){var e=this.props,t=e.kebab,n=e.createButton,a=e.exportToCSV,r=e.exportButton,o=e.hasMultiSelect,l=e.loading,i=e.onBulkSelect,s=e.selectedBaselineIds,c=e.tableData,u=e.tableId,d=e.totalBaselines,p=e.hasReadPermissions,f=e.hasWritePermissions,h=this.state,b=h.page,m=h.perPage;return S().createElement(S().Fragment,null,S().createElement(Y,{createButton:n,exportButton:r,kebab:t,onSearch:this.onSearch,tableId:u,fetchWithParams:this.fetchWithParams,tableData:c,onBulkSelect:i,hasMultiSelect:o,selectedBaselineIds:s,isDeleteDisabled:(null==s?void 0:s.length)<1,page:b,perPage:m,totalBaselines:d,updatePagination:this.updatePagination,exportToCSV:a,loading:l,hasWritePermissions:f,hasReadPermissions:p}),this.renderTable(f,p),S().createElement(w.Toolbar,null,S().createElement(w.ToolbarGroup,{className:"pf-c-pagination"},S().createElement(w.ToolbarItem,null,S().createElement(L.Z,{page:b,perPage:m,total:p?d:0,isCompact:!1,updatePagination:this.updatePagination,tableId:u})))))}}]),i}(v.Component);X.propTypes={loading:E().bool,tableData:E().array,fetchBaselines:E().func,tableId:E().string,hasMultiSelect:E().bool,onClick:E().func,kebab:E().bool,createButton:E().bool,exportButton:E().bool,onSelect:E().func,columns:E().array,onBulkSelect:E().func,selectedBaselineIds:E().array,totalBaselines:E().number,exportToCSV:E().func,hasReadPermissions:E().bool,hasWritePermissions:E().bool};const q=(0,I.connect)(null,(function(e){return{fetchBaselines:function(t,n){return e(R.w.fetchBaselines(t,n))},exportToCSV:function(t,n){e(R.w.exportToCSV(t,n))}}}))(X)},98904:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var a=n(34575),r=n.n(a),o=n(93913),l=n.n(o),i=n(2205),s=n.n(i),c=n(78585),u=n.n(c),d=n(29754),p=n.n(d),f=n(25558),h=n.n(f),b=n(45697),m=n.n(b),g=n(87473);var y=function(e){s()(o,e);var t,n,a=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=p()(t);if(n){var r=p()(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return u()(this,e)});function o(e){var t;return r()(this,o),(t=a.call(this,e)).state={kebabOpened:!1},t.toggleKebab=function(){var e=t.state.kebabOpened;t.setState({kebabOpened:!e})},t}return l()(o,[{key:"render",value:function(){var e=this.props,t=e.dropdownItems,n=e.ouiaId,a=this.state.kebabOpened;return h().createElement(g.Dropdown,{id:"action-kebab","aria-label":"action-kebab",style:{float:"left"},ouiaId:n||"action-kebab",toggle:h().createElement(g.KebabToggle,{"data-ouia-component-type":"PF4/DropdownToggle","data-ouia-component-id":n?n+"-toggle":"action-kebab-toggle",onToggle:this.toggleKebab}),isOpen:a,dropdownItems:t,isPlain:!0})}}]),o}(f.Component);y.propTypes={dropdownItems:m().array,ouiaId:m().string};const v=y},91097:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var a=n(63038),r=n.n(a),o=n(34575),l=n.n(o),i=n(93913),s=n.n(i),c=n(2205),u=n.n(c),d=n(78585),p=n.n(d),f=n(29754),h=n.n(f),b=n(25558),m=n.n(b),g=n(45697),y=n.n(g),v=n(87473);var S=function(e){u()(o,e);var t,n,a=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=h()(t);if(n){var r=h()(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return p()(this,e)});function o(e){var t;return l()(this,o),(t=a.call(this,e)).buildBody=function(){var e=t.props.globalFilterState,n=e.sidsFilter,a=e.tagsFilter,o=e.workloadsFilter,l=Object.keys(o).length?"Workloads: "+Object.keys(o)[0]+". ":"";if(n.length){l+="SAP ID (SID): ";for(var i=0;i<n.length;i++)l+=n[i],i+1===n.length?l+=". ":l+=", "}if(a.length){var s=[],c={};l+="Tags: ",a.forEach((function(e){s.push(e.split("/"))})),s.forEach((function(e){e[0]in c?c[e[0]].push(e[1]):c[e[0]]=[e[1]]}));for(var u=0,d=Object.entries(c);u<d.length;u++){var p=r()(d[u],2),f=p[0],h=p[1];l+=f+": ";for(var b=0;b<h.length;b++)l+=h[b],b+1===h.length?l+=". ":l+=", "}}return l},t.state={isOpen:!0},t.toggleIsOpen=function(){var e=t.state.isOpen;t.setState({isOpen:!e})},t}return s()(o,[{key:"render",value:function(){var e,t=this,n=this.props.globalFilterState,a=n.sidsFilter,r=n.tagsFilter,o=n.workloadsFilter,l=this.state.isOpen;return m().createElement(m().Fragment,null,l&&(null!==(e=o.SAP)&&void 0!==e&&e.isSelected||a.length>0||r.length>0)?m().createElement(v.Alert,{variant:"info",title:"Your systems are pre-filtered by the global context selector.",isInline:!0,actionClose:m().createElement(v.AlertActionCloseButton,{onClose:function(){return t.toggleIsOpen()}})},m().createElement("p",null,this.buildBody())):null)}}]),o}(b.Component);S.propTypes={globalFilterState:y().object};const P=S},12662:(e,t,n)=>{"use strict";n.d(t,{v:()=>S,Z:()=>P});var a=n(34575),r=n.n(a),o=n(93913),l=n.n(o),i=n(81506),s=n.n(i),c=n(2205),u=n.n(c),d=n(78585),p=n.n(d),f=n(29754),h=n.n(f),b=n(25558),m=n.n(b),g=n(45697),y=n.n(g),v=n(87473);var S=function(e){u()(o,e);var t,n,a=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=h()(t);if(n){var r=h()(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return p()(this,e)});function o(e){var t;return r()(this,o),(t=a.call(this,e)).onSetPage=t.onSetPage.bind(s()(t)),t.onPerPageSelect=t.onPerPageSelect.bind(s()(t)),t}return l()(o,[{key:"onSetPage",value:function(e,t){var n=this.props,a=n.tableId,r=n.updatePagination,o={page:t,perPage:this.props.perPage};a?r(o,a):r(o)}},{key:"onPerPageSelect",value:function(e,t){var n=this.props,a=n.tableId,r=n.updatePagination,o={page:1,perPage:t};a?r(o,a):r(o)}},{key:"render",value:function(){var e=this.props,t=e.total,n=e.page,a=e.perPage,r=e.isCompact,o=e.widgetId,l=e.variant,i=e.ouiaId;return m().createElement(v.Pagination,{itemCount:t||0,widgetId:o,page:0===t?0:n,perPage:a,variant:l,onSetPage:this.onSetPage,onPerPageSelect:this.onPerPageSelect,isCompact:r,ouiaId:i})}}]),o}(b.Component);S.propTypes={perPage:y().number,page:y().number,updatePagination:y().func,total:y().number,isCompact:y().bool,tableId:y().string,widgetId:y().string,variant:y().any,ouiaId:y().string};const P=S},87162:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var a=n(59713),r=n.n(a),o=n(25558),l=n.n(o),i=n(70983),s=n(45697),c=n.n(s),u=n(29071),d=n(53433),p=n(93),f=n(37477),h=n(82523),b=n(39331),m=n(54983),g=n(87458),y=n(86758),v=n(68185);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(e){var t,n=e.selectedSystemIds,a=e.setSelectedSystemIds,r=e.driftClearFilters,s=e.createBaselineModal,c=e.hasHistoricalDropdown,b=e.historicalProfiles,m=e.hasMultiSelect,g=e.selectHistoricProfiles,S=e.updateColumns,E=e.hasInventoryReadPermissions,I=e.entities,k=e.selectEntities,B=e.selectVariant,w=(0,i.useSelector)((function(e){var t=e.globalFilterState;return null==t?void 0:t.tagsFilter})),T=(0,i.useSelector)((function(e){var t=e.globalFilterState;return null==t?void 0:t.workloadsFilter})),O=(0,i.useSelector)((function(e){var t=e.globalFilterState;return null==t?void 0:t.sidsFilter})),C=function(){m||(S("display_name"),g([]))},D=function(e){var t=[];switch(e){case"none":t={id:0,selected:!1,bulk:!0};break;case"page":t={id:0,selected:!0}}k(t)};return(0,o.useEffect)((function(){window.entityListener=(0,h.pD)({actionType:"SELECT_ENTITY",callback:function(){!m&&C()}})}),[]),E?l().createElement(d.e_,{onLoad:function(e){var t=e.mergeWithEntities,o=e.INVENTORY_ACTION_TYPES;r(),(0,u.getRegistry)().register(t((0,f.Z)(o,s,b,m,c,C))),a(n)},showTags:!0,noDetail:!0,customFilters:{tags:w,filter:{system_profile:P(P({},(null==T||null===(t=T.SAP)||void 0===t?void 0:t.isSelected)&&{sap_system:!0}),(null==O?void 0:O.length)>0&&{sap_sids:O})}},tableProps:{canSelectAll:!1,selectVariant:B,ouiaId:"systems-table"},total:null==I?void 0:I.total,bulkSelect:D&&{isDisabled:!m,count:I&&I.selectedSystemIds?I.selectedSystemIds.length:0,items:[{title:"Select none (0)",onClick:function(){D("none")}},{title:"Select page (".concat((null==I?void 0:I.count)||0,")"),onClick:function(){D("page")}}],onSelect:function(e){D(e?"page":"none")},checked:I&&I.selectedSystemIds?v.Z.findCheckedValue(null==I?void 0:I.total,null==I?void 0:I.selectedSystemIds.length):null}}):l().createElement(y.Z,{icon:p.LockIcon,color:"#6a6e73",title:"You do not have access to the inventory",text:["Contact your organization administrator(s) for more information."]})};E.propTypes={setSelectedSystemIds:c().func,selectedSystemIds:c().array,selectHistoricProfiles:c().func,createBaselineModal:c().bool,driftClearFilters:c().func,hasHistoricalDropdown:c().bool,historicalProfiles:c().array,hasMultiSelect:c().bool,updateColumns:c().func,selectedHSPIds:c().array,hasInventoryReadPermissions:c().bool,entities:c().object,selectEntities:c().func,selectVariant:c().string},E.defaultProps={selectedSystemIds:[]};const I=(0,i.connect)(null,(function(e){return{selectHistoricProfiles:function(t){return e(m.h.selectHistoricProfiles(t))},setSelectedSystemIds:function(t){return e(b.r.setSelectedSystemIds(t))},driftClearFilters:function(){return e(g.Z.clearAllFilters())},updateColumns:function(t){return e(g.Z.updateColumns(t))},selectEntities:function(t){return e({type:"SELECT_ENTITY",payload:t})}}}))(E)},39331:(e,t,n)=>{"use strict";n.d(t,{r:()=>a.Z});var a=n(52196);n(43043)}}]);
//# sourceMappingURL=376.5576feeb4ef76e17f630.js.map