{"version":3,"sources":["webpack:///./src/SmartComponents/BaselinesPage/EditBaseline/DeleteFactModal/helpers.js","webpack:///./src/SmartComponents/BaselinesPage/EditBaseline/EditBaselineKebab/EditBaselineKebab.js","webpack:///./src/SmartComponents/BaselinesPage/EditBaseline/AddFactButton/AddFactButton.js","webpack:///./src/SmartComponents/BaselinesPage/EditBaseline/EditBaselineToolbar/EditBaselineToolbar.js","webpack:///./src/SmartComponents/BaselinesPage/EditBaseline/FactModal/FactModal.js","webpack:///./src/SmartComponents/BaselinesPage/EditBaseline/EditBaselineNameModal/EditBaselineNameModal.js","webpack:///./src/SmartComponents/BaselinesPage/EditBaseline/EditBaseline.js"],"names":["countFacts","editBaselineTableData","categories","facts","forEach","fact","selected","editBaselineHelpers","isCategory","baselineSubFacts","subFact","EditBaselineKebab","props","isDisabled","state","kebabOpened","modalOpened","toggleKebab","setState","toggleModalOpened","dropdownItems","categoryMessage","factMessage","this","deleteFactModalHelpers","DropdownItem","key","component","onClick","length","Fragment","DeleteFactModal","toggleModal","bind","Dropdown","style","float","toggle","KebabToggle","onToggle","isOpen","isPlain","Component","propTypes","PropTypes","array","connect","editBaselineState","AddFactButton","handleAddFact","setFactData","toggleFactModal","factName","factValue","Button","variant","func","dispatch","editBaselineActions","factData","EditBaselineToolbar","bulkSelectItems","title","onBulkSelect","totalFacts","Toolbar","className","ToolbarContent","ToolbarItem","count","items","checked","helpers","findCheckedValue","onSelect","bool","any","number","FactModal","checkKeyPress","event","preventDefault","confirmModal","cancelFact","renderCategoryCheckbox","renderFactInput","renderValueInput","renderModalBody","isAddFact","isEditFact","handleChange","handleNewName","value","handleNewValue","baselineData","patchBaseline","fetchBaselineData","newAPIBody","addFact","editFact","id","newFactData","buildNewFactData","makeAddFactPatch","editedFactData","buildEditedFactData","makeEditFactPatch","Checkbox","aria-label","label","name","onChange","isChecked","error","Form","FormGroup","isRequired","helperTextInvalid","hasOwnProperty","detail","isValid","fieldId","onKeyPress","TextInput","type","placeholder","isSubFact","factModalOpened","Modal","ModalVariant","small","onClose","actions","string","object","baselineId","newBaselineBody","baselineUUID","EditBaselineNameModal","cancelModal","toggleEditNameModal","updateBaselineName","display_name","baselineName","facts_patch","EditBaseline","isSelected","selectFact","Number","target","FACT_ID","push","renderCheckbox","FACT_VALUE","fetchBaselineId","renderBreadcrumb","goToBaselinesList","clearErrorData","window","insights","chrome","auth","getUser","params","match","history","clearBaselineData","Breadcrumb","BreadcrumbItem","BreadcrumbHeading","rows","rowData","i","size","SkeletonSize","md","expandedRows","includes","expandRow","row","baseline_facts","find","baselineFact","FACT_NAME","renderExpandableRowButton","renderKebab","renderRowData","colSpan","EmptyStateDisplay","text","button","renderHeaderRow","undefined","renderRows","renderLoadingRows","baselineDataLoading","findSelected","lg","Card","CardBody","findFactCount","renderTable","withRouter","tableId","baselinesTableActions"],"mappings":"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","file":"js/6-c3d09ac26c6d4ce52bad.js","sourcesContent":["import editBaselineHelpers from '../helpers';\n\nfunction countFacts(editBaselineTableData) {\n    let categories = 0;\n    let facts = 0;\n\n    editBaselineTableData.forEach(function(fact) {\n        if (fact.selected) {\n            if (editBaselineHelpers.isCategory(fact)) {\n                categories += 1;\n            } else {\n                facts += 1;\n            }\n        } else if (editBaselineHelpers.isCategory(fact)) {\n            editBaselineHelpers.baselineSubFacts(fact).forEach(function(subFact) {\n                if (subFact.selected) {\n                    facts += 1;\n                }\n            });\n        }\n    });\n\n    return { categories, facts };\n}\n\nexport default {\n    countFacts\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Dropdown, KebabToggle, DropdownItem } from '@patternfly/react-core';\n\nimport DeleteFactModal from '../DeleteFactModal/DeleteFactModal';\nimport editBaselineHelpers from '../helpers';\nimport deleteFactModalHelpers from '../DeleteFactModal/helpers';\n\nclass EditBaselineKebab extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            kebabOpened: false,\n            modalOpened: false\n        };\n\n        this.toggleKebab = () => {\n            const { kebabOpened } = this.state;\n            this.setState({\n                kebabOpened: !kebabOpened\n            });\n        };\n\n        this.toggleModalOpened = () => {\n            const { modalOpened } = this.state;\n            this.setState({\n                modalOpened: !modalOpened,\n                kebabOpened: false\n            });\n        };\n    }\n\n    isDisabled = () => {\n        const { editBaselineTableData } = this.props;\n        let isDisabled = true;\n\n        editBaselineTableData.forEach((fact) => {\n            if (fact.selected) {\n                isDisabled = false;\n            }\n\n            if (editBaselineHelpers.isCategory(fact)) {\n                editBaselineHelpers.baselineSubFacts(fact).forEach((subFact) => {\n                    if (subFact.selected) {\n                        isDisabled = false;\n                    }\n                });\n            }\n        });\n\n        return isDisabled;\n    }\n\n    render() {\n        const { kebabOpened, modalOpened } = this.state;\n        const { editBaselineTableData } = this.props;\n        let dropdownItems;\n        let categoryMessage;\n        let factMessage;\n        let { categories, facts } = deleteFactModalHelpers.countFacts(editBaselineTableData);\n\n        if (categories > 0) {\n            categoryMessage = categories === 1 ? '1 category' : categories + ' categories';\n        }\n\n        if (facts > 0) {\n            factMessage = facts === 1 ? '1 fact' : facts + ' facts';\n        }\n\n        dropdownItems = [\n            <DropdownItem\n                key=\"multi-delete\"\n                component=\"button\"\n                onClick={ this.toggleModalOpened }\n                isDisabled={ editBaselineTableData.length > 0 ? this.isDisabled() : true }\n            >\n                Delete facts\n            </DropdownItem>\n        ];\n\n        return (\n            <React.Fragment>\n                { modalOpened ? <DeleteFactModal\n                    toggleModal={ this.toggleModalOpened.bind(this) }\n                    modalOpened={ modalOpened }\n                    categoryMessage={ categoryMessage }\n                    factMessage={ factMessage }\n                /> : null }\n                <Dropdown\n                    style={ { float: 'left' } }\n                    toggle={ <KebabToggle onToggle={ this.toggleKebab } /> }\n                    isOpen={ kebabOpened }\n                    dropdownItems={ dropdownItems }\n                    isPlain\n                />\n            </React.Fragment>\n        );\n    }\n}\n\nEditBaselineKebab.propTypes = {\n    editBaselineTableData: PropTypes.array\n};\n\nfunction mapStateToProps(state) {\n    return {\n        editBaselineTableData: state.editBaselineState.editBaselineTableData\n    };\n}\n\nexport default connect(mapStateToProps, null)(EditBaselineKebab);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Button } from '@patternfly/react-core';\n\nimport { editBaselineActions } from '../redux';\n\nclass AddFactButton extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    handleAddFact = () => {\n        const { setFactData, toggleFactModal } = this.props;\n\n        setFactData({ factName: '', factValue: '', fact: []});\n        toggleFactModal();\n    }\n\n    render() {\n        return (\n            <Button\n                variant='primary'\n                onClick={ this.handleAddFact }>\n                Add fact or category\n            </Button>\n        );\n    };\n}\n\nAddFactButton.propTypes = {\n    toggleFactModal: PropTypes.func,\n    setFactData: PropTypes.func\n};\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        toggleFactModal: () => dispatch(editBaselineActions.toggleFactModal()),\n        setFactData: (factData) => dispatch(editBaselineActions.setFactData(factData))\n    };\n}\n\nexport default connect(null, mapDispatchToProps)(AddFactButton);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Toolbar, ToolbarItem, ToolbarContent } from '@patternfly/react-core';\nimport { BulkSelect } from '@redhat-cloud-services/frontend-components';\n\nimport EditBaselineKebab from '../EditBaselineKebab/EditBaselineKebab';\nimport AddFactButton from '../AddFactButton/AddFactButton';\nimport helpers from '../../../helpers';\n\nexport class EditBaselineToolbar extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            bulkSelectItems: [\n                {\n                    title: 'Select all',\n                    key: 'select-all',\n                    onClick: () => this.props.onBulkSelect(true)\n                }, {\n                    title: 'Select none',\n                    key: 'select-none',\n                    onClick: () => this.props.onBulkSelect(false)\n                }\n            ]\n        };\n    }\n\n    render() {\n        const { isDisabled, onBulkSelect, selected, totalFacts } = this.props;\n        const { bulkSelectItems } = this.state;\n\n        return (\n            <Toolbar className='drift-toolbar'>\n                <ToolbarContent>\n                    <ToolbarItem>\n                        <BulkSelect\n                            count={ selected > 0 ? selected : null }\n                            items={ bulkSelectItems }\n                            checked={ helpers.findCheckedValue(totalFacts, selected) }\n                            onSelect={ () => onBulkSelect(!selected > 0) }\n                            isDisabled={ isDisabled }\n                        />\n                    </ToolbarItem>\n                    <ToolbarItem>\n                        <AddFactButton />\n                    </ToolbarItem>\n                    <ToolbarItem>\n                        <EditBaselineKebab />\n                    </ToolbarItem>\n                </ToolbarContent>\n            </Toolbar>\n        );\n    };\n}\n\nEditBaselineToolbar.propTypes = {\n    isDisabled: PropTypes.bool,\n    onBulkSelect: PropTypes.func,\n    selected: PropTypes.any,\n    totalFacts: PropTypes.number\n};\n\nexport default EditBaselineToolbar;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Button, Checkbox, Form, FormGroup, Modal, ModalVariant, TextInput } from '@patternfly/react-core';\n\nimport { editBaselineActions } from '../redux';\nimport editBaselineHelpers from '../helpers';\n\nclass FactModal extends Component {\n    constructor(props) {\n        super(props);\n\n        this.cancelFact = this.cancelFact.bind(this);\n        this.confirmModal = this.confirmModal.bind(this);\n        this.renderCategoryCheckbox = this.renderCategoryCheckbox.bind(this);\n        this.renderFactInput = this.renderFactInput.bind(this);\n        this.renderValueInput = this.renderValueInput.bind(this);\n        this.renderModalBody = this.renderModalBody.bind(this);\n\n        this.state = {\n            factName: this.props.factName,\n            factValue: this.props.factValue,\n            factData: this.props.factData,\n            isCategory: this.props.isCategory\n        };\n\n        this.state.isAddFact = this.props.factName === '' && this.props.factValue === '';\n        this.state.isEditFact = this.props.factName !== '' && this.props.factValue !== '';\n\n        this.handleChange = checked => {\n            this.setState({ isCategory: checked });\n        };\n\n        this.handleNewName = value => {\n            this.setState({ factName: value });\n        };\n\n        this.handleNewValue = value => {\n            this.setState({ factValue: value });\n        };\n    }\n\n    cancelFact() {\n        const { toggleFactModal } = this.props;\n\n        toggleFactModal();\n    }\n\n    async confirmModal() {\n        const { toggleFactModal, baselineData, patchBaseline, fetchBaselineData } = this.props;\n        const { isAddFact } = this.state;\n        let newAPIBody = '';\n\n        try {\n            if (isAddFact) {\n                newAPIBody = this.addFact(baselineData);\n            } else {\n                newAPIBody = this.editFact(baselineData);\n            }\n\n            let results = await patchBaseline(baselineData.id, newAPIBody);\n            if (results) {\n                fetchBaselineData(baselineData.id);\n            }\n\n            toggleFactModal();\n        } catch (e) {\n            // do nothing and let redux handle\n        }\n    }\n\n    addFact(baselineData) {\n        const { isCategory, factName, factValue, factData } = this.state;\n\n        let newFactData = editBaselineHelpers.buildNewFactData(isCategory, factName, factValue, factData);\n\n        return editBaselineHelpers.makeAddFactPatch(newFactData, baselineData);\n    }\n\n    editFact(baselineData) {\n        const { isCategory, factName, factValue, factData } = this.state;\n\n        let editedFactData = editBaselineHelpers.buildEditedFactData(\n            isCategory, this.props.factName, factName, this.props.factValue, factValue, factData\n        );\n        return editBaselineHelpers.makeEditFactPatch(editedFactData, baselineData, factData);\n    }\n\n    renderCategoryCheckbox() {\n        const { isCategory, isEditFact } = this.state;\n\n        return <Checkbox\n            aria-label=\"controlled checkbox example\"\n            label=\"This is a category\"\n            id=\"isCategory\"\n            name=\"isCategory\"\n            onChange={ this.handleChange }\n            isChecked={ isCategory }\n            isDisabled={ isCategory && isEditFact }\n        />;\n    }\n\n    checkKeyPress = (event) => {\n        if (event.key === 'Enter') {\n            event.preventDefault();\n            this.confirmModal();\n        }\n    }\n\n    renderFactInput() {\n        const { error } = this.props;\n        const { factName, isCategory } = this.state;\n\n        return (\n            <div className=\"fact-value\">\n                <Form>\n                    <FormGroup\n                        label={ isCategory ? 'Category name' : 'Fact name' }\n                        isRequired\n                        helperTextInvalid={ error.hasOwnProperty('detail') ? error.detail : null }\n                        isValid={ !error.hasOwnProperty('status') }\n                        fieldId='fact name'\n                        onKeyPress={ this.checkKeyPress }\n                    >\n                        <TextInput\n                            value={ factName }\n                            type=\"text\"\n                            placeholder=\"Name\"\n                            onChange={ this.handleNewName }\n                            isValid={ !error.hasOwnProperty('status') }\n                            aria-label=\"fact name\"\n                        />\n                    </FormGroup>\n                </Form>\n            </div>\n        );\n    }\n\n    renderValueInput() {\n        const { error } = this.props;\n        const { factValue } = this.state;\n\n        return (\n            <div className=\"fact-value\">\n                <Form>\n                    <FormGroup\n                        label='Value'\n                        isRequired\n                        helperTextInvalid={ error.hasOwnProperty('detail') ? error.detail : null }\n                        isValid={ !error.hasOwnProperty('status') }\n                        fieldId='fact value'\n                        onKeyPress={ this.checkKeyPress }\n                    >\n                        <TextInput\n                            value={ factValue }\n                            type=\"text\"\n                            placeholder=\"Value\"\n                            onChange={ this.handleNewValue }\n                            isValid={ !error.hasOwnProperty('status') }\n                            aria-label=\"value\"\n                        />\n                    </FormGroup>\n                </Form>\n            </div>\n        );\n    }\n\n    renderModalBody() {\n        const { isSubFact } = this.props;\n        const { isAddFact, isCategory } = this.state;\n        let modalBody;\n\n        modalBody = <React.Fragment>\n            { (isAddFact && !isSubFact) || isCategory ? this.renderCategoryCheckbox() : null }\n            { this.renderFactInput() }\n            <br></br>\n            { isCategory ? null : this.renderValueInput() }\n        </React.Fragment>;\n\n        return modalBody;\n    }\n\n    title() {\n        const { isSubFact } = this.props;\n        const { isAddFact, isEditFact, isCategory } = this.state;\n        let title = 'Add fact';\n\n        if (isEditFact === true && !isCategory && !isSubFact) {\n            title = 'Edit fact';\n        } else if (isAddFact === true && isCategory === true) {\n            title = 'Add category';\n        } else if (isAddFact === true && isSubFact === true) {\n            title = 'Add sub fact';\n        } else if (isEditFact === true && isSubFact === true) {\n            title = 'Edit sub fact';\n        } else if (isCategory === true) {\n            title = 'Edit category';\n        }\n\n        return title;\n    }\n\n    render() {\n        const { factModalOpened } = this.props;\n\n        return (\n            <Modal\n                variant={ ModalVariant.small }\n                title={ this.title() }\n                isOpen={ factModalOpened }\n                onClose={ this.cancelFact }\n                actions={ [\n                    <Button\n                        key=\"confirm\"\n                        variant=\"primary\"\n                        onClick={ this.confirmModal }>\n                        Save\n                    </Button>,\n                    <Button\n                        key=\"cancel\"\n                        variant=\"link\"\n                        onClick={ this.cancelFact }>\n                        Cancel\n                    </Button>\n                ] }\n            >\n                { this.renderModalBody() }\n            </Modal>\n        );\n    };\n}\n\nFactModal.propTypes = {\n    toggleFactModal: PropTypes.func,\n    factModalOpened: PropTypes.bool,\n    factName: PropTypes.string,\n    factValue: PropTypes.string,\n    factData: PropTypes.object,\n    isCategory: PropTypes.bool,\n    isSubFact: PropTypes.bool,\n    baselineData: PropTypes.object,\n    patchBaseline: PropTypes.func,\n    error: PropTypes.object,\n    fetchBaselineData: PropTypes.func\n};\n\nfunction mapStateToProps(state) {\n    return {\n        factModalOpened: state.editBaselineState.factModalOpened,\n        factName: state.editBaselineState.factName,\n        factValue: state.editBaselineState.factValue,\n        factData: state.editBaselineState.factData,\n        isCategory: state.editBaselineState.isCategory,\n        isSubFact: state.editBaselineState.isSubFact,\n        baselineData: state.editBaselineState.baselineData,\n        error: state.editBaselineState.error\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        toggleFactModal: () => dispatch(editBaselineActions.toggleFactModal()),\n        patchBaseline: (baselineId, newBaselineBody) => dispatch(editBaselineActions.patchBaseline(baselineId, newBaselineBody)),\n        fetchBaselineData: (baselineUUID) => dispatch(editBaselineActions.fetchBaselineData(baselineUUID))\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FactModal);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Button, Form, FormGroup, Modal, ModalVariant, TextInput } from '@patternfly/react-core';\n\nimport { editBaselineActions } from '../redux';\n\nexport class EditBaselineNameModal extends Component {\n    constructor(props) {\n        super(props);\n\n        /*eslint-disable camelcase*/\n        this.state = {\n            baselineName: this.props.baselineData.display_name\n        };\n        /*eslint-enable camelcase*/\n\n        this.updateBaselineName = (value) => {\n            this.setState({ baselineName: value });\n        };\n\n        this.confirmModal = this.confirmModal.bind(this);\n    }\n\n    async confirmModal() {\n        const { baselineName } = this.state;\n        const { baselineData, patchBaseline, toggleEditNameModal } = this.props;\n\n        try {\n            /*eslint-disable camelcase*/\n            await patchBaseline(baselineData.id, { display_name: baselineName, facts_patch: []});\n            /*eslint-enable camelcase*/\n\n            toggleEditNameModal();\n        } catch (e) {\n            // do nothing and let redux handle\n        }\n    }\n\n    cancelModal = () => {\n        const { toggleEditNameModal, baselineData } = this.props;\n\n        this.updateBaselineName(baselineData.display_name);\n        toggleEditNameModal();\n    }\n\n    checkKeyPress = (event) => {\n        if (event.key === 'Enter') {\n            event.preventDefault();\n            this.confirmModal();\n        }\n    }\n\n    renderModalBody() {\n        const { baselineName } = this.state;\n        const { error } = this.props;\n\n        return (<div className='fact-value'>\n            <Form>\n                <FormGroup\n                    label='Baseline title'\n                    isRequired\n                    fieldId='baseline name'\n                    helperTextInvalid={ error.hasOwnProperty('detail') ? error.detail : null }\n                    isValid={ !error.hasOwnProperty('status') }\n                    onKeyPress={ this.checkKeyPress }\n                >\n                    <TextInput\n                        value={ baselineName }\n                        type=\"text\"\n                        onChange={ this.updateBaselineName }\n                        isValid={ !error.hasOwnProperty('status') }\n                        aria-label=\"baseline name\"\n                    />\n                </FormGroup>\n            </Form>\n        </div>);\n    }\n\n    render() {\n        const { modalOpened } = this.props;\n\n        return (\n            <Modal\n                variant={ ModalVariant.small }\n                title=\"Edit name\"\n                isOpen={ modalOpened }\n                onClose={ this.cancelModal }\n                actions={ [\n                    <Button\n                        key=\"confirm\"\n                        variant=\"primary\"\n                        onClick={ this.confirmModal }>\n                        Save\n                    </Button>,\n                    <Button\n                        key=\"cancel\"\n                        variant=\"link\"\n                        onClick={ this.cancelModal }>\n                        Cancel\n                    </Button>\n                ] }\n            >\n                { this.renderModalBody() }\n            </Modal>\n        );\n    };\n}\n\nEditBaselineNameModal.propTypes = {\n    baselineData: PropTypes.object,\n    toggleEditNameModal: PropTypes.func,\n    modalOpened: PropTypes.bool,\n    patchBaseline: PropTypes.func,\n    error: PropTypes.object\n};\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        patchBaseline: (baselineId, newBaselineBody) => dispatch(editBaselineActions.patchBaseline(baselineId, newBaselineBody))\n    };\n}\n\nexport default connect(null, mapDispatchToProps)(EditBaselineNameModal);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport { Main, PageHeader, PageHeaderTitle } from '@redhat-cloud-services/frontend-components';\nimport { Breadcrumb, BreadcrumbItem, Card, CardBody, Checkbox, BreadcrumbHeading } from '@patternfly/react-core';\nimport { Skeleton, SkeletonSize } from '@redhat-cloud-services/frontend-components';\nimport { AngleDownIcon, AngleRightIcon, EditAltIcon } from '@patternfly/react-icons';\n\nimport EditBaselineToolbar from './EditBaselineToolbar/EditBaselineToolbar';\nimport FactModal from './FactModal/FactModal';\nimport EditBaselineNameModal from './EditBaselineNameModal/EditBaselineNameModal';\nimport AddFactButton from './AddFactButton/AddFactButton';\nimport { baselinesTableActions } from '../../BaselinesTable/redux';\nimport { editBaselineActions } from './redux';\nimport editBaselineHelpers from './helpers';\nimport { FACT_ID, FACT_NAME, FACT_VALUE } from '../../../constants';\nimport EmptyStateDisplay from '../../EmptyStateDisplay/EmptyStateDisplay';\n\nexport class EditBaseline extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            modalOpened: false\n        };\n\n        this.fetchBaselineId();\n        this.renderBreadcrumb = this.renderBreadcrumb.bind(this);\n        this.goToBaselinesList = this.goToBaselinesList.bind(this);\n\n        this.toggleEditNameModal = () => {\n            const { modalOpened } = this.state;\n            const { clearErrorData } = this.props;\n\n            this.setState({ modalOpened: !modalOpened });\n            clearErrorData();\n        };\n    }\n\n    async componentDidMount() {\n        await window.insights.chrome.auth.getUser();\n    }\n\n    fetchBaselineId() {\n        const { match: { params }, fetchBaselineData } = this.props;\n\n        fetchBaselineData(params.id);\n    }\n\n    goToBaselinesList() {\n        const { history, clearBaselineData } = this.props;\n\n        clearBaselineData('CHECKBOX');\n        history.push('/baselines');\n    }\n\n    renderBreadcrumb() {\n        const { baselineData } = this.props;\n        let breadcrumb;\n\n        /*eslint-disable camelcase*/\n        breadcrumb = <Breadcrumb>\n            <BreadcrumbItem>\n                <a onClick={ () => this.goToBaselinesList() }>\n                    Baselines\n                </a>\n            </BreadcrumbItem>\n            <BreadcrumbHeading>{ baselineData.display_name }</BreadcrumbHeading>\n        </Breadcrumb>;\n        /*eslint-enable camelcase*/\n\n        return breadcrumb;\n    }\n\n    renderHeaderRow() {\n        return (\n            <tr key='edit-baseline-table-header'>\n                <th></th>\n                <th className=\"edit-baseline-header\"><div>Fact</div></th>\n                <th className=\"edit-baseline-header\"><div>Value</div></th>\n                <th></th>\n            </tr>\n        );\n    }\n\n    renderLoadingRows() {\n        let rows = [];\n        let rowData = [];\n\n        for (let i = 0; i < 3; i += 1) {\n            rowData.push(<td><Skeleton size={ SkeletonSize.md } /></td>);\n        }\n\n        for (let i = 0; i < 10; i += 1) {\n            rows.push(<tr>{ rowData }</tr>);\n        }\n\n        return rows;\n    }\n\n    renderExpandableRowButton(factName) {\n        const { expandedRows } = this.props;\n        let expandIcon;\n\n        if (expandedRows.includes(factName)) {\n            expandIcon = <AngleDownIcon className=\"pointer active-blue\" onClick={ () => this.props.expandRow(factName) } />;\n        } else {\n            expandIcon = <AngleRightIcon className=\"pointer\" onClick={ () => this.props.expandRow(factName) } />;\n        }\n\n        return expandIcon;\n    }\n\n    onSelect = (isSelected, event) => {\n        const { editBaselineTableData, selectFact } = this.props;\n        let facts = [];\n        let factData;\n        let id = Number(event.target.name);\n\n        editBaselineTableData.forEach(function(fact) {\n            if (fact[FACT_ID] === id) {\n                factData = fact;\n            } else if (editBaselineHelpers.isCategory(fact)) {\n                editBaselineHelpers.baselineSubFacts(fact).forEach(function(subFact) {\n                    if (subFact[FACT_ID] === id) {\n                        factData = subFact;\n                    }\n                });\n            }\n        });\n\n        facts = [ factData[0] ];\n\n        if (editBaselineHelpers.isCategory(factData)) {\n            editBaselineHelpers.baselineSubFacts(factData).forEach(function(subFact) {\n                facts.push(subFact[FACT_ID]);\n            });\n        }\n\n        selectFact(facts, isSelected);\n    }\n\n    onBulkSelect = (isSelected) => {\n        const { editBaselineTableData, selectFact } = this.props;\n        let facts = [];\n\n        editBaselineTableData.forEach(function(fact) {\n            facts.push(fact[FACT_ID]);\n            if (editBaselineHelpers.isCategory(fact)) {\n                editBaselineHelpers.baselineSubFacts(fact).forEach(function(subFact) {\n                    facts.push(subFact[FACT_ID]);\n                });\n            }\n        });\n\n        selectFact(facts, isSelected);\n    }\n\n    renderCheckbox = (fact) => {\n        let id;\n\n        if (editBaselineHelpers.isCategory(fact)) {\n            id = 'category-' + fact[FACT_ID];\n        } else if (typeof(fact[FACT_VALUE]) === 'string') {\n            id = 'fact-' + fact[FACT_ID];\n        }\n\n        return (\n            <Checkbox\n                isChecked={ fact.selected }\n                onChange={ this.onSelect }\n                id={ id }\n                name={ fact[FACT_ID] }\n            />\n        );\n    }\n\n    renderRowData(fact) {\n        const { expandedRows, baselineData } = this.props;\n        let row = [];\n        let rows = [];\n\n        let factData = baselineData.baseline_facts.find((baselineFact) => {\n            return baselineFact.name === fact[FACT_NAME];\n        });\n\n        row.push(<td\n            className={ expandedRows.includes(fact[FACT_NAME]) ? 'pf-c-table__check nested-fact' : 'pf-c-table__check' }>\n            { this.renderCheckbox(fact) }\n        </td>);\n\n        if (editBaselineHelpers.isCategory(fact)) {\n            row.push(<td>\n                { this.renderExpandableRowButton(fact[FACT_NAME]) } { fact[FACT_NAME] }</td>);\n            row.push(<td></td>);\n            row.push(editBaselineHelpers.renderKebab({ factName: fact[FACT_NAME], factData, isCategory: true }));\n            rows.push(<tr key={ fact[FACT_NAME] }>{ row }</tr>);\n\n            if (expandedRows.includes(fact[FACT_NAME])) {\n                editBaselineHelpers.baselineSubFacts(fact).forEach((subFact) => {\n                    row = [];\n                    row.push(<td className='pf-c-table__check nested-fact'>{ this.renderCheckbox(subFact) }</td>);\n                    row.push(<td>\n                        <p className=\"child-row\">{ subFact[FACT_NAME] }</p>\n                    </td>);\n                    row.push(<td>{ subFact[FACT_VALUE] }</td>);\n                    row.push(editBaselineHelpers.renderKebab({\n                        factName: subFact[FACT_NAME],\n                        factValue: subFact[FACT_VALUE],\n                        factData,\n                        isSubFact: true\n                    }));\n                    rows.push(<tr key={ subFact[FACT_NAME] }>{ row }</tr>);\n                });\n            }\n        } else {\n            row.push(<td>{ fact[FACT_NAME] }</td>);\n            row.push(<td>{ fact[FACT_VALUE] }</td>);\n            row.push(editBaselineHelpers.renderKebab({ factName: fact[FACT_NAME], factValue: fact[FACT_VALUE], factData }));\n            rows.push(<tr key={ fact[FACT_NAME] }>{ row }</tr>);\n        }\n\n        return rows;\n    }\n\n    renderRows() {\n        const { editBaselineTableData } = this.props;\n        let facts = editBaselineTableData;\n        let rows = [];\n        let rowData = [];\n\n        if (facts.length !== 0) {\n            for (let i = 0; i < facts.length; i += 1) {\n                rowData = this.renderRowData(facts[i]);\n                rows.push(rowData);\n            }\n        } else {\n            rows =\n                <td colSpan='3'>\n                    <EmptyStateDisplay\n                        title={ 'No facts' }\n                        text={ [ 'No facts or categories have been added to this baseline yet.' ] }\n                        button={ <AddFactButton /> }\n                    />\n                </td>;\n        }\n\n        return rows;\n    }\n\n    renderTable() {\n        const { baselineData } = this.props;\n\n        return (\n            <table className=\"pf-c-table ins-c-table pf-m-grid-md ins-entity-table drift-table\">\n                <thead>\n                    { this.renderHeaderRow() }\n                </thead>\n                <tbody key='edit-baseline-table'>\n                    { baselineData !== undefined\n                        ? this.renderRows()\n                        : this.renderLoadingRows()\n                    }\n                </tbody>\n            </table>\n        );\n    }\n\n    render() {\n        const { modalOpened } = this.state;\n        const { baselineData, baselineDataLoading, editBaselineTableData, factModalOpened, error } = this.props;\n        let selected = editBaselineHelpers.findSelected(editBaselineTableData);\n\n        return (\n            <React.Fragment>\n                { baselineData !== undefined && !baselineDataLoading\n                    ? <React.Fragment>\n                        <EditBaselineNameModal\n                            baselineData={ baselineData }\n                            modalOpened={ modalOpened }\n                            toggleEditNameModal={ this.toggleEditNameModal }\n                            error={ error }\n                        />\n                        <PageHeader>\n                            { this.renderBreadcrumb() }\n                            <PageHeaderTitle title={ baselineData ? baselineData.display_name : '' }/>\n                            <EditAltIcon className='pointer not-active edit-icon-margin' onClick={ () => this.toggleEditNameModal() } />\n                        </PageHeader>\n                    </React.Fragment>\n                    : <PageHeader>\n                        <div><Skeleton size={ SkeletonSize.lg } /></div>\n                    </PageHeader>\n                }\n                <Main>\n                    <Card className='pf-t-light pf-m-opaque-100'>\n                        <CardBody>\n                            { factModalOpened\n                                ? <FactModal />\n                                : null\n                            }\n                            <EditBaselineToolbar\n                                selected={ selected }\n                                onBulkSelect={ this.onBulkSelect }\n                                isDisabled={ editBaselineTableData.length === 0 }\n                                totalFacts={ editBaselineHelpers.findFactCount(editBaselineTableData) }\n                            />\n                            { this.renderTable() }\n                        </CardBody>\n                    </Card>\n                </Main>\n            </React.Fragment>\n        );\n    }\n}\n\nEditBaseline.propTypes = {\n    history: PropTypes.object,\n    match: PropTypes.any,\n    clearBaselineData: PropTypes.func,\n    baselineData: PropTypes.array,\n    baselineDataLoading: PropTypes.bool,\n    fetchBaselineData: PropTypes.func,\n    factModalOpened: PropTypes.bool,\n    editBaselineTableData: PropTypes.array,\n    expandRow: PropTypes.func,\n    expandedRows: PropTypes.array,\n    selectFact: PropTypes.func,\n    clearErrorData: PropTypes.func,\n    error: PropTypes.object\n};\n\nfunction mapStateToProps(state) {\n    return {\n        baselineData: state.editBaselineState.baselineData,\n        baselineDataLoading: state.editBaselineState.baselineDataLoading,\n        factModalOpened: state.editBaselineState.factModalOpened,\n        editBaselineTableData: state.editBaselineState.editBaselineTableData,\n        expandedRows: state.editBaselineState.expandedRows,\n        error: state.editBaselineState.error\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        clearBaselineData: (tableId) => dispatch(baselinesTableActions.clearBaselineData(tableId)),\n        expandRow: (factName) => dispatch(editBaselineActions.expandRow(factName)),\n        fetchBaselineData: (baselineUUID) => dispatch(editBaselineActions.fetchBaselineData(baselineUUID)),\n        selectFact: (facts, isSelected) => dispatch(editBaselineActions.selectFact(facts, isSelected)),\n        clearErrorData: () => dispatch(editBaselineActions.clearErrorData())\n    };\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(EditBaseline));\n"],"sourceRoot":""}